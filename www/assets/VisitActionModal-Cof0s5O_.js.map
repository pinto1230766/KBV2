{"version":3,"file":"VisitActionModal-Cof0s5O_.js","sources":["../../node_modules/lucide-react/dist/esm/icons/building.js","../../node_modules/lucide-react/dist/esm/icons/car.js","../../node_modules/lucide-react/dist/esm/icons/check-square.js","../../node_modules/lucide-react/dist/esm/icons/credit-card.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/hotel.js","../../node_modules/lucide-react/dist/esm/icons/map.js","../../node_modules/lucide-react/dist/esm/icons/navigation.js","../../node_modules/lucide-react/dist/esm/icons/plane.js","../../node_modules/lucide-react/dist/esm/icons/printer.js","../../node_modules/lucide-react/dist/esm/icons/share-2.js","../../node_modules/lucide-react/dist/esm/icons/tram-front.js","../../node_modules/lucide-react/dist/esm/icons/truck.js","../../node_modules/lucide-react/dist/esm/icons/utensils.js","../../node_modules/lucide-react/dist/esm/icons/x-circle.js","../../src/components/expenses/ExpenseForm.tsx","../../src/components/expenses/ExpenseList.tsx","../../src/components/logistics/ItineraryView.tsx","../../src/components/logistics/AccommodationView.tsx","../../src/components/logistics/Checklist.tsx","../../src/components/logistics/LogisticsManager.tsx","../../src/components/logistics/TravelCoordinationModal.tsx","../../src/components/logistics/MealPlanningModal.tsx","../../src/components/hosts/AccommodationMatchingModal.tsx","../../node_modules/react-to-print/lib/index.js","../../src/components/reports/RoadmapView.tsx","../../src/components/planning/VisitActionModal.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Building = createLucideIcon(\"Building\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", ry: \"2\", key: \"76otgf\" }],\n  [\"path\", { d: \"M9 22v-4h6v4\", key: \"r93iot\" }],\n  [\"path\", { d: \"M8 6h.01\", key: \"1dz90k\" }],\n  [\"path\", { d: \"M16 6h.01\", key: \"1x0f13\" }],\n  [\"path\", { d: \"M12 6h.01\", key: \"1vi96p\" }],\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M16 14h.01\", key: \"1gbofw\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }]\n]);\n\nexport { Building as default };\n//# sourceMappingURL=building.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Car = createLucideIcon(\"Car\", [\n  [\n    \"path\",\n    {\n      d: \"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2\",\n      key: \"5owen\"\n    }\n  ],\n  [\"circle\", { cx: \"7\", cy: \"17\", r: \"2\", key: \"u2ysq9\" }],\n  [\"path\", { d: \"M9 17h6\", key: \"r8uit2\" }],\n  [\"circle\", { cx: \"17\", cy: \"17\", r: \"2\", key: \"axvx0g\" }]\n]);\n\nexport { Car as default };\n//# sourceMappingURL=car.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckSquare = createLucideIcon(\"CheckSquare\", [\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }],\n  [\"path\", { d: \"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\", key: \"1jnkn4\" }]\n]);\n\nexport { CheckSquare as default };\n//# sourceMappingURL=check-square.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Hotel = createLucideIcon(\"Hotel\", [\n  [\n    \"path\",\n    {\n      d: \"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z\",\n      key: \"p9z69c\"\n    }\n  ],\n  [\"path\", { d: \"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16\", key: \"1bvcvh\" }],\n  [\"path\", { d: \"M8 7h.01\", key: \"1vti4s\" }],\n  [\"path\", { d: \"M16 7h.01\", key: \"1kdx03\" }],\n  [\"path\", { d: \"M12 7h.01\", key: \"1ivr5q\" }],\n  [\"path\", { d: \"M12 11h.01\", key: \"z322tv\" }],\n  [\"path\", { d: \"M16 11h.01\", key: \"xkw8gn\" }],\n  [\"path\", { d: \"M8 11h.01\", key: \"1dfujw\" }],\n  [\"path\", { d: \"M10 22v-6.5m4 0V22\", key: \"16gs4s\" }]\n]);\n\nexport { Hotel as default };\n//# sourceMappingURL=hotel.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Map = createLucideIcon(\"Map\", [\n  [\"polygon\", { points: \"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21\", key: \"ok2ie8\" }],\n  [\"line\", { x1: \"9\", x2: \"9\", y1: \"3\", y2: \"18\", key: \"w34qz5\" }],\n  [\"line\", { x1: \"15\", x2: \"15\", y1: \"6\", y2: \"21\", key: \"volv9a\" }]\n]);\n\nexport { Map as default };\n//# sourceMappingURL=map.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Navigation = createLucideIcon(\"Navigation\", [\n  [\"polygon\", { points: \"3 11 22 2 13 21 11 13 3 11\", key: \"1ltx0t\" }]\n]);\n\nexport { Navigation as default };\n//# sourceMappingURL=navigation.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plane = createLucideIcon(\"Plane\", [\n  [\n    \"path\",\n    {\n      d: \"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z\",\n      key: \"1v9wt8\"\n    }\n  ]\n]);\n\nexport { Plane as default };\n//# sourceMappingURL=plane.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Printer = createLucideIcon(\"Printer\", [\n  [\"polyline\", { points: \"6 9 6 2 18 2 18 9\", key: \"1306q4\" }],\n  [\n    \"path\",\n    {\n      d: \"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\",\n      key: \"143wyd\"\n    }\n  ],\n  [\"rect\", { width: \"12\", height: \"8\", x: \"6\", y: \"14\", key: \"5ipwut\" }]\n]);\n\nexport { Printer as default };\n//# sourceMappingURL=printer.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Share2 = createLucideIcon(\"Share2\", [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n]);\n\nexport { Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TramFront = createLucideIcon(\"TramFront\", [\n  [\"rect\", { width: \"16\", height: \"16\", x: \"4\", y: \"3\", rx: \"2\", key: \"1wxw4b\" }],\n  [\"path\", { d: \"M4 11h16\", key: \"mpoxn0\" }],\n  [\"path\", { d: \"M12 3v8\", key: \"1h2ygw\" }],\n  [\"path\", { d: \"m8 19-2 3\", key: \"13i0xs\" }],\n  [\"path\", { d: \"m18 22-2-3\", key: \"1p0ohu\" }],\n  [\"path\", { d: \"M8 15h0\", key: \"q9eq1f\" }],\n  [\"path\", { d: \"M16 15h0\", key: \"pzrbjg\" }]\n]);\n\nexport { TramFront as default };\n//# sourceMappingURL=tram-front.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Truck = createLucideIcon(\"Truck\", [\n  [\"path\", { d: \"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11\", key: \"hs4xqm\" }],\n  [\"path\", { d: \"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2\", key: \"11fp61\" }],\n  [\"circle\", { cx: \"7\", cy: \"18\", r: \"2\", key: \"19iecd\" }],\n  [\"path\", { d: \"M15 18H9\", key: \"1lyqi6\" }],\n  [\"circle\", { cx: \"17\", cy: \"18\", r: \"2\", key: \"332jqn\" }]\n]);\n\nexport { Truck as default };\n//# sourceMappingURL=truck.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Utensils = createLucideIcon(\"Utensils\", [\n  [\"path\", { d: \"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\", key: \"cjf0a3\" }],\n  [\"path\", { d: \"M7 2v20\", key: \"1473qp\" }],\n  [\"path\", { d: \"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\", key: \"1ogz0v\" }]\n]);\n\nexport { Utensils as default };\n//# sourceMappingURL=utensils.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst XCircle = createLucideIcon(\"XCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { XCircle as default };\n//# sourceMappingURL=x-circle.js.map\n","import React, { useState } from 'react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Expense } from '@/types';\r\n\r\ninterface ExpenseFormProps {\r\n  initialData?: Expense;\r\n  onSubmit: (data: Omit<Expense, 'id'>) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport const ExpenseForm: React.FC<ExpenseFormProps> = ({ initialData, onSubmit, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    category: initialData?.category || 'transport',\r\n    amount: initialData?.amount || 0,\r\n    description: initialData?.description || '',\r\n    date: initialData?.date || new Date().toISOString().split('T')[0],\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onSubmit(formData);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          Catégorie\r\n        </label>\r\n        <select\r\n          value={formData.category}\r\n          onChange={(e) => setFormData({ ...formData, category: e.target.value as any })}\r\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\r\n        >\r\n          <option value=\"transport\">Transport</option>\r\n          <option value=\"accommodation\">Hébergement</option>\r\n          <option value=\"meal\">Repas</option>\r\n          <option value=\"other\">Autre</option>\r\n        </select>\r\n      </div>\r\n\r\n      <Input\r\n        label=\"Montant (€)\"\r\n        type=\"number\"\r\n        step=\"0.01\"\r\n        value={formData.amount}\r\n        onChange={(e) => setFormData({ ...formData, amount: parseFloat(e.target.value) || 0 })}\r\n      />\r\n\r\n      <Input\r\n        label=\"Description\"\r\n        value={formData.description}\r\n        onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n      />\r\n\r\n      <Input\r\n        label=\"Date\"\r\n        type=\"date\"\r\n        value={formData.date}\r\n        onChange={(e) => setFormData({ ...formData, date: e.target.value })}\r\n      />\r\n\r\n      <div className=\"flex gap-2 justify-end\">\r\n        <Button type=\"button\" variant=\"ghost\" onClick={onCancel}>\r\n          Annuler\r\n        </Button>\r\n        <Button type=\"submit\">\r\n          {initialData ? 'Modifier' : 'Ajouter'}\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Expense } from '@/types';\r\nimport { Edit2, Trash2, Plus } from 'lucide-react';\r\n\r\ninterface ExpenseListProps {\r\n  expenses: Expense[];\r\n  onAdd: () => void;\r\n  onEdit: (expense: Expense) => void;\r\n  onDelete: (id: string) => void;\r\n  readOnly?: boolean;\r\n}\r\n\r\nexport const ExpenseList: React.FC<ExpenseListProps> = ({ expenses, onAdd, onEdit, onDelete, readOnly }) => {\r\n  const total = expenses.reduce((sum, exp) => sum + exp.amount, 0);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h4 className=\"font-medium text-gray-900 dark:text-white\">Dépenses</h4>\r\n        {!readOnly && (\r\n          <Button size=\"sm\" onClick={onAdd} leftIcon={<Plus className=\"w-4 h-4\" />}>\r\n            Ajouter\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {expenses.length === 0 ? (\r\n        <p className=\"text-sm text-gray-500 dark:text-gray-400 text-center py-4\">\r\n          Aucune dépense enregistrée\r\n        </p>\r\n      ) : (\r\n        <>\r\n          <div className=\"space-y-2\">\r\n            {expenses.map((expense) => (\r\n              <div\r\n                key={expense.id}\r\n                className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\"\r\n              >\r\n                <div className=\"flex-1\">\r\n                  <p className=\"font-medium text-gray-900 dark:text-white\">\r\n                    {expense.description || expense.category}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    {new Date(expense.date).toLocaleDateString('fr-FR')}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"font-bold text-gray-900 dark:text-white\">\r\n                    {expense.amount.toFixed(2)} €\r\n                  </span>\r\n                  {!readOnly && (\r\n                    <div className=\"flex gap-1\">\r\n                      <button\r\n                        onClick={() => onEdit(expense)}\r\n                        className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded\"\r\n                      >\r\n                        <Edit2 className=\"w-4 h-4 text-blue-600\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => onDelete(expense.id)}\r\n                        className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"border-t border-gray-200 dark:border-gray-700 pt-3\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"font-semibold text-gray-900 dark:text-white\">Total</span>\r\n              <span className=\"text-lg font-bold text-gray-900 dark:text-white\">\r\n                {total.toFixed(2)} €\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Itinerary } from '@/types';\r\nimport { Car, MapPin, Navigation, Plane, Train, Clock, Map as MapIcon } from 'lucide-react';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\ninterface ItineraryViewProps {\r\n  itinerary: Itinerary;\r\n  onUpdate: (itinerary: Itinerary) => void;\r\n  readOnly?: boolean;\r\n}\r\n\r\nexport const ItineraryView: React.FC<ItineraryViewProps> = ({ itinerary, onUpdate, readOnly = false }) => {\r\n  const handleChange = (field: keyof Itinerary, value: any) => {\r\n    onUpdate({ ...itinerary, [field]: value });\r\n  };\r\n\r\n  const openApp = (app: 'waze' | 'google') => {\r\n    const query = encodeURIComponent(itinerary.meetingPoint || '');\r\n    if (!query) return;\r\n    \r\n    const url = app === 'waze' \r\n      ? `https://waze.com/ul?q=${query}&navigate=yes`\r\n      : `https://www.google.com/maps/search/?api=1&query=${query}`;\r\n    \r\n    window.open(url, '_blank');\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex gap-4\">\r\n        {[\r\n          { mode: 'car', icon: Car, label: 'Voiture' },\r\n          { mode: 'train', icon: Train, label: 'Train' },\r\n          { mode: 'plane', icon: Plane, label: 'Avion' },\r\n        ].map(({ mode, icon: Icon, label }) => (\r\n          <button\r\n            key={mode}\r\n            type=\"button\"\r\n            onClick={() => handleChange('transportMode', mode)}\r\n            className={`flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all ${\r\n              itinerary.transportMode === mode\r\n                ? 'border-primary bg-primary/5 text-primary'\r\n                : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-500'\r\n            }`}\r\n            disabled={readOnly}\r\n          >\r\n            <Icon className=\"w-6 h-6 mb-2\" />\r\n            <span className=\"text-sm font-medium\">{label}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <Input\r\n          label=\"Distance (km)\"\r\n          type=\"number\"\r\n          value={itinerary.distance?.toString() || ''}\r\n          onChange={(e) => handleChange('distance', e.target.value ? parseFloat(e.target.value) : undefined)}\r\n          disabled={readOnly}\r\n          leftIcon={<Navigation className=\"w-4 h-4\" />}\r\n        />\r\n        <Input\r\n          label=\"Durée estimée\"\r\n          placeholder=\"ex: 1h 30m\"\r\n          value={itinerary.duration?.toString() || ''}\r\n          onChange={(e) => handleChange('duration', e.target.value)}\r\n          disabled={readOnly}\r\n          leftIcon={<Clock className=\"w-4 h-4\" />}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        <Input\r\n          label=\"Point de rendez-vous / Adresse\"\r\n          value={itinerary.meetingPoint || ''}\r\n          onChange={(e) => handleChange('meetingPoint', e.target.value)}\r\n          disabled={readOnly}\r\n          leftIcon={<MapPin className=\"w-4 h-4\" />}\r\n        />\r\n\r\n        {itinerary.meetingPoint && (\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"flex-1\"\r\n              onClick={() => openApp('google')}\r\n              leftIcon={<MapIcon className=\"w-4 h-4\" />}\r\n            >\r\n              Google Maps\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"flex-1\"\r\n              onClick={() => openApp('waze')}\r\n              leftIcon={<Navigation className=\"w-4 h-4\" />}\r\n            >\r\n              Waze\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n          Notes de voyage\r\n        </label>\r\n        <textarea\r\n          value={itinerary.notes || ''}\r\n          onChange={(e) => handleChange('notes', e.target.value)}\r\n          disabled={readOnly}\r\n          className=\"w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-primary focus:border-primary p-3 min-h-[100px]\"\r\n          placeholder=\"Informations supplémentaires...\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Accommodation } from '@/types';\r\nimport { Home, Building, MapPin, Link } from 'lucide-react';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\ninterface AccommodationViewProps {\r\n  accommodation: Accommodation;\r\n  onUpdate: (accommodation: Accommodation) => void;\r\n  readOnly?: boolean;\r\n  hosts?: Array<{ nom: string; address?: string; }>;\r\n}\r\n\r\n// Helper to format ISO date for datetime-local input\r\nconst formatDateForInput = (isoString?: string) => {\r\n  if (!isoString) return '';\r\n  return isoString.slice(0, 16); // \"YYYY-MM-DDThh:mm\"\r\n};\r\n\r\nexport const AccommodationView: React.FC<AccommodationViewProps> = ({ accommodation, onUpdate, readOnly = false, hosts = [] }) => {\r\n  const handleChange = (field: keyof Accommodation, value: any) => {\r\n    onUpdate({ ...accommodation, [field]: value });\r\n  };\r\n\r\n  const openMap = () => {\r\n    const query = encodeURIComponent(accommodation.address || accommodation.name || '');\r\n    if (!query) return;\r\n    window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex gap-4\">\r\n        {[\r\n          { type: 'host', icon: Home, label: 'Chez l\\'habitant' },\r\n          { type: 'hotel', icon: Building, label: 'Hôtel' },\r\n        ].map(({ type, icon: Icon, label }) => (\r\n          <button\r\n            key={type}\r\n            onClick={() => !readOnly && handleChange('type', type)}\r\n            className={`flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all ${\r\n              accommodation.type === type\r\n                ? 'border-primary bg-primary/5 text-primary'\r\n                : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-500'\r\n            }`}\r\n            disabled={readOnly}\r\n          >\r\n            <Icon className=\"w-6 h-6 mb-2\" />\r\n            <span className=\"text-sm font-medium\">{label}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {accommodation.type === 'hotel' ? (\r\n          <Input\r\n            label=\"Nom de l'hôtel\"\r\n            value={accommodation.name || ''}\r\n            onChange={(e) => handleChange('name', e.target.value)}\r\n            disabled={readOnly}\r\n            placeholder=\"Ex: Hôtel de la Gare\"\r\n          />\r\n        ) : (\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Nom de l'hôte\r\n            </label>\r\n            <select\r\n              value={accommodation.name || ''}\r\n              onChange={(e) => {\r\n                const selectedHost = hosts.find(h => h.nom === e.target.value);\r\n                onUpdate({\r\n                  ...accommodation,\r\n                  name: e.target.value,\r\n                  address: selectedHost?.address || accommodation.address || ''\r\n                });\r\n              }}\r\n              disabled={readOnly}\r\n              title=\"Sélectionner un hôte\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"\">Sélectionner un hôte...</option>\r\n              {hosts.map(host => (\r\n                <option key={host.nom} value={host.nom}>{host.nom}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-2 items-end\">\r\n          <div className=\"flex-1\">\r\n            <Input\r\n              label=\"Adresse\"\r\n              value={accommodation.address || ''}\r\n              onChange={(e) => handleChange('address', e.target.value)}\r\n              disabled={readOnly}\r\n              leftIcon={<MapPin className=\"w-4 h-4\" />}\r\n            />\r\n          </div>\r\n          {accommodation.address && (\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"mb-[2px]\"\r\n              onClick={openMap}\r\n              leftIcon={<MapPin className=\"w-4 h-4\" />}\r\n            >\r\n              Voir\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <Input\r\n            label=\"Arrivée (Check-in)\"\r\n            type=\"datetime-local\"\r\n            value={formatDateForInput(accommodation.checkIn)}\r\n            onChange={(e) => handleChange('checkIn', e.target.value)}\r\n            disabled={readOnly}\r\n          />\r\n          <Input\r\n            label=\"Départ (Check-out)\"\r\n            type=\"datetime-local\"\r\n            value={formatDateForInput(accommodation.checkOut)}\r\n            onChange={(e) => handleChange('checkOut', e.target.value)}\r\n            disabled={readOnly}\r\n          />\r\n        </div>\r\n\r\n        {accommodation.type === 'hotel' && (\r\n          <Input\r\n            label=\"Référence réservation\"\r\n            value={accommodation.bookingReference || ''}\r\n            onChange={(e) => handleChange('bookingReference', e.target.value)}\r\n            disabled={readOnly}\r\n            leftIcon={<Link className=\"w-4 h-4\" />}\r\n          />\r\n        )}\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n            Notes / Instructions\r\n          </label>\r\n          <textarea\r\n            value={accommodation.notes || ''}\r\n            onChange={(e) => handleChange('notes', e.target.value)}\r\n            disabled={readOnly}\r\n            className=\"w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-primary focus:border-primary p-3 min-h-[100px]\"\r\n            placeholder=\"Codes d'accès, petit-déjeuner, etc.\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { ChecklistItem } from '@/types';\r\nimport { Check, Plus, Trash2, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { generateUUID } from '@/utils/uuid';\r\n\r\ninterface ChecklistProps {\r\n  items: ChecklistItem[];\r\n  onUpdate: (items: ChecklistItem[]) => void;\r\n}\r\n\r\nexport const Checklist: React.FC<ChecklistProps> = ({ items = [], onUpdate }) => {\r\n  const [newItemLabel, setNewItemLabel] = useState('');\r\n  const [isAdding, setIsAdding] = useState(false);\r\n\r\n  const handleToggle = (id: string) => {\r\n    const updatedItems = items.map(item => \r\n      item.id === id ? { ...item, isCompleted: !item.isCompleted } : item\r\n    );\r\n    onUpdate(updatedItems);\r\n  };\r\n\r\n  const handleDelete = (id: string) => {\r\n    const updatedItems = items.filter(item => item.id !== id);\r\n    onUpdate(updatedItems);\r\n  };\r\n\r\n  const handleAddItem = (e?: React.FormEvent) => {\r\n    e?.preventDefault();\r\n    if (!newItemLabel.trim()) return;\r\n\r\n    const newItem: ChecklistItem = {\r\n      id: generateUUID(),\r\n      label: newItemLabel.trim(),\r\n      isCompleted: false\r\n    };\r\n\r\n    onUpdate([...items, newItem]);\r\n    setNewItemLabel('');\r\n    setIsAdding(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n          Liste des tâches ({items.filter(i => i.isCompleted).length}/{items.length})\r\n        </h4>\r\n        <Button \r\n          size=\"sm\" \r\n          variant=\"ghost\" \r\n          onClick={() => setIsAdding(!isAdding)}\r\n          className=\"text-primary hover:text-primary/80 p-0 h-auto\"\r\n        >\r\n          <Plus className=\"w-4 h-4 mr-1\" />\r\n          Ajouter\r\n        </Button>\r\n      </div>\r\n\r\n      {isAdding && (\r\n        <form onSubmit={handleAddItem} className=\"flex gap-2 items-center mb-4 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n          <Input\r\n            autoFocus\r\n            value={newItemLabel}\r\n            onChange={(e) => setNewItemLabel(e.target.value)}\r\n            placeholder=\"Nouvelle tâche...\"\r\n            className=\"flex-1 h-9 text-sm\"\r\n          />\r\n          <Button type=\"submit\" size=\"sm\" disabled={!newItemLabel.trim()}>\r\n            Ajouter\r\n          </Button>\r\n          <Button \r\n            type=\"button\" \r\n            variant=\"ghost\" \r\n            size=\"sm\" \r\n            onClick={() => setIsAdding(false)}\r\n            leftIcon={<X className=\"w-4 h-4\" />}\r\n          />\r\n        </form>\r\n      )}\r\n\r\n      <div className=\"space-y-2\">\r\n        {items.length === 0 && !isAdding ? (\r\n          <div className=\"text-center py-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg\">\r\n            <p className=\"text-sm text-gray-500\">Aucune tâche pour le moment</p>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => setIsAdding(true)}>\r\n              Commencer une liste\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          items.map(item => (\r\n            <div \r\n              key={item.id} \r\n              className={`flex items-center group p-2 rounded-lg transition-colors hover:bg-gray-50 dark:hover:bg-gray-800/50 ${item.isCompleted ? 'opacity-75' : ''}`}\r\n            >\r\n              <button\r\n                onClick={() => handleToggle(item.id)}\r\n                className={`flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center mr-3 transition-colors ${\r\n                  item.isCompleted \r\n                    ? 'bg-green-500 border-green-500 text-white' \r\n                    : 'border-gray-300 dark:border-gray-600 hover:border-green-500'\r\n                }`}\r\n              >\r\n                {item.isCompleted && <Check className=\"w-3.5 h-3.5\" />}\r\n              </button>\r\n              \r\n              <span \r\n                className={`flex-1 text-sm transition-all ${\r\n                  item.isCompleted ? 'text-gray-400 line-through' : 'text-gray-700 dark:text-gray-200'\r\n                }`}\r\n              >\r\n                {item.label}\r\n              </span>\r\n\r\n              <button\r\n                onClick={() => handleDelete(item.id)}\r\n                className=\"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-opacity\"\r\n                title=\"Supprimer\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Logistics, Itinerary, Accommodation, ChecklistItem } from '@/types';\r\nimport { ItineraryView } from './ItineraryView';\r\nimport { AccommodationView } from './AccommodationView';\r\nimport { Checklist } from './Checklist';\r\nimport { Map, Home, CheckSquare } from 'lucide-react';\r\n\r\ninterface LogisticsManagerProps {\r\n  logistics: Logistics | undefined;\r\n  onUpdate: (logistics: Logistics) => void;\r\n  readOnly?: boolean;\r\n  hosts?: Array<{ nom: string; address?: string; }>;\r\n}\r\n\r\ntype Tab = 'itinerary' | 'accommodation' | 'checklist';\r\n\r\nexport const LogisticsManager: React.FC<LogisticsManagerProps> = ({ logistics = {}, onUpdate, readOnly = false, hosts = [] }) => {\r\n  const [activeTab, setActiveTab] = useState<Tab>('itinerary');\r\n\r\n  const updateItinerary = (itinerary: Itinerary) => {\r\n    onUpdate({ ...logistics, itinerary });\r\n  };\r\n\r\n  const updateAccommodation = (accommodation: Accommodation) => {\r\n    onUpdate({ ...logistics, accommodation });\r\n  };\r\n\r\n  const updateChecklist = (checklist: ChecklistItem[]) => {\r\n    onUpdate({ ...logistics, checklist });\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'itinerary', label: 'Trajet', icon: Map },\r\n    { id: 'accommodation', label: 'Hébergement', icon: Home },\r\n    { id: 'checklist', label: 'Tâches', icon: CheckSquare },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      <div className=\"flex border-b border-gray-200 dark:border-gray-700 mb-6\">\r\n        {tabs.map(({ id, label, icon: Icon }) => (\r\n          <button\r\n            key={id}\r\n            onClick={() => setActiveTab(id as Tab)}\r\n            className={`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === id\r\n                ? 'border-primary text-primary'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'\r\n            }`}\r\n          >\r\n            <Icon className=\"w-4 h-4\" />\r\n            {label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-y-auto min-h-[400px]\">\r\n        {activeTab === 'itinerary' && (\r\n          <ItineraryView \r\n            itinerary={logistics.itinerary || { transportMode: 'car' }} \r\n            onUpdate={updateItinerary}\r\n            readOnly={readOnly}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'accommodation' && (\r\n          <AccommodationView \r\n            accommodation={logistics.accommodation || { type: 'host', name: '' }} \r\n            onUpdate={updateAccommodation}\r\n            readOnly={readOnly}\r\n            hosts={hosts}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'checklist' && (\r\n          <Checklist \r\n            items={logistics.checklist || []} \r\n            onUpdate={updateChecklist}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Car, Train, Plane, MapPin, Clock, Users, DollarSign, Share2 } from 'lucide-react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Badge } from '@/components/ui/Badge';\r\nimport { Card, CardBody } from '@/components/ui/Card';\r\nimport { Visit } from '@/types';\r\nimport { useData } from '@/contexts/DataContext';\r\n\r\ninterface TravelCoordinationModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  visit: Visit;\r\n  onSave: (travelPlan: TravelPlan) => void;\r\n}\r\n\r\nexport interface TravelPlan {\r\n  visitId: string;\r\n  transportMode: 'car' | 'train' | 'plane' | 'carpool' | 'other';\r\n  departureTime?: string;\r\n  arrivalTime?: string;\r\n  departureLocation?: string;\r\n  arrivalLocation?: string;\r\n  distance?: number;\r\n  duration?: string;\r\n  estimatedCost?: number;\r\n  carpoolPartners?: string[]; // IDs des autres orateurs\r\n  notes?: string;\r\n  mapLink?: string;\r\n  bookingReference?: string;\r\n}\r\n\r\nconst TRANSPORT_MODES = [\r\n  { value: 'car' as const, label: 'Voiture personnelle', icon: Car, color: 'blue' },\r\n  { value: 'carpool' as const, label: 'Covoiturage', icon: Users, color: 'green' },\r\n  { value: 'train' as const, label: 'Train', icon: Train, color: 'purple' },\r\n  { value: 'plane' as const, label: 'Avion', icon: Plane, color: 'orange' },\r\n  { value: 'other' as const, label: 'Autre', icon: MapPin, color: 'gray' },\r\n];\r\n\r\nexport const TravelCoordinationModal: React.FC<TravelCoordinationModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  visit,\r\n  onSave\r\n}) => {\r\n  const { visits } = useData();\r\n  const [transportMode, setTransportMode] = useState<TravelPlan['transportMode']>('car');\r\n  const [departureTime, setDepartureTime] = useState('');\r\n  const [arrivalTime, setArrivalTime] = useState('');\r\n  const [departureLocation, setDepartureLocation] = useState('');\r\n  const [arrivalLocation, setArrivalLocation] = useState('');\r\n  const [distance, setDistance] = useState<number | undefined>();\r\n  const [duration, setDuration] = useState('');\r\n  const [estimatedCost, setEstimatedCost] = useState<number | undefined>();\r\n  const [selectedCarpoolPartners, setSelectedCarpoolPartners] = useState<string[]>([]);\r\n  const [notes, setNotes] = useState('');\r\n  const [mapLink, setMapLink] = useState('');\r\n  const [bookingReference, setBookingReference] = useState('');\r\n\r\n  // Trouver les orateurs potentiels pour le covoiturage (même date, même région)\r\n  const potentialCarpoolPartners = useMemo(() => visits\r\n      .filter(v => \r\n        v.visitDate === visit.visitDate &&\r\n        v.visitId !== visit.visitId &&\r\n        v.status !== 'cancelled'\r\n      )\r\n      .map(v => ({\r\n        visitId: v.visitId,\r\n        speakerId: v.id,\r\n        speakerName: v.nom,\r\n        congregation: v.congregation,\r\n        time: v.visitTime\r\n      })), [visits, visit]);\r\n\r\n  const toggleCarpoolPartner = (visitId: string) => {\r\n    setSelectedCarpoolPartners(prev =>\r\n      prev.includes(visitId)\r\n        ? prev.filter(id => id !== visitId)\r\n        : [...prev, visitId]\r\n    );\r\n  };\r\n\r\n  const calculateCostPerPerson = () => {\r\n    if (!estimatedCost) return 0;\r\n    const totalPeople = 1 + selectedCarpoolPartners.length;\r\n    return (estimatedCost / totalPeople).toFixed(2);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const travelPlan: TravelPlan = {\r\n      visitId: visit.visitId,\r\n      transportMode,\r\n      departureTime: departureTime || undefined,\r\n      arrivalTime: arrivalTime || undefined,\r\n      departureLocation: departureLocation || undefined,\r\n      arrivalLocation: arrivalLocation || undefined,\r\n      distance: distance || undefined,\r\n      duration: duration || undefined,\r\n      estimatedCost: estimatedCost || undefined,\r\n      carpoolPartners: transportMode === 'carpool' ? selectedCarpoolPartners : undefined,\r\n      notes: notes || undefined,\r\n      mapLink: mapLink || undefined,\r\n      bookingReference: bookingReference || undefined\r\n    };\r\n\r\n    onSave(travelPlan);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Coordination du voyage\"\r\n      size=\"lg\"\r\n    >\r\n      <div className=\"space-y-6\">\r\n        {/* Informations de la visite */}\r\n        <div className=\"p-4 bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 rounded-lg\">\r\n          <h4 className=\"font-semibold text-gray-900 dark:text-white mb-1\">\r\n            {visit.nom}\r\n          </h4>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            {new Date(visit.visitDate).toLocaleDateString('fr-FR', {\r\n              weekday: 'long',\r\n              day: 'numeric',\r\n              month: 'long'\r\n            })} à {visit.visitTime}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Mode de transport */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\r\n            Mode de transport\r\n          </label>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n            {TRANSPORT_MODES.map((mode) => (\r\n              <button\r\n                key={mode.value}\r\n                onClick={() => setTransportMode(mode.value)}\r\n                className={`p-4 rounded-lg border-2 transition-all ${\r\n                  transportMode === mode.value\r\n                    ? 'border-primary-500 bg-primary-50 dark:bg-primary-900/20'\r\n                    : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                }`}\r\n              >\r\n                <mode.icon className={`w-6 h-6 mx-auto mb-2 ${\r\n                  transportMode === mode.value ? 'text-primary-600' : 'text-gray-400'\r\n                }`} />\r\n                <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                  {mode.label}\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Horaires */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              <Clock className=\"w-4 h-4 inline mr-1\" />\r\n              Heure de départ\r\n            </label>\r\n            <input\r\n              type=\"time\"\r\n              value={departureTime}\r\n              onChange={(e) => setDepartureTime(e.target.value)}\r\n              aria-label=\"Heure de départ\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              <Clock className=\"w-4 h-4 inline mr-1\" />\r\n              Heure d'arrivée\r\n            </label>\r\n            <input\r\n              type=\"time\"\r\n              value={arrivalTime}\r\n              onChange={(e) => setArrivalTime(e.target.value)}\r\n              aria-label=\"Heure d'arrivée\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Lieux */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              <MapPin className=\"w-4 h-4 inline mr-1\" />\r\n              Lieu de départ\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={departureLocation}\r\n              onChange={(e) => setDepartureLocation(e.target.value)}\r\n              placeholder=\"Adresse de départ\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              <MapPin className=\"w-4 h-4 inline mr-1\" />\r\n              Lieu d'arrivée\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={arrivalLocation}\r\n              onChange={(e) => setArrivalLocation(e.target.value)}\r\n              placeholder=\"Adresse d'arrivée\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Distance et durée */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Distance (km)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={distance || ''}\r\n              onChange={(e) => setDistance(e.target.value ? Number(e.target.value) : undefined)}\r\n              placeholder=\"150\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Durée estimée\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={duration}\r\n              onChange={(e) => setDuration(e.target.value)}\r\n              placeholder=\"2h 30min\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Coût */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            <DollarSign className=\"w-4 h-4 inline mr-1\" />\r\n            Coût estimé (€)\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={estimatedCost || ''}\r\n            onChange={(e) => setEstimatedCost(e.target.value ? Number(e.target.value) : undefined)}\r\n            placeholder=\"50\"\r\n            step=\"0.01\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n\r\n        {/* Covoiturage */}\r\n        {transportMode === 'carpool' && (\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                <Share2 className=\"w-4 h-4 inline mr-1\" />\r\n                Partenaires de covoiturage\r\n              </label>\r\n              {selectedCarpoolPartners.length > 0 && estimatedCost && (\r\n                <Badge variant=\"success\">\r\n                  {calculateCostPerPerson()}€ / personne\r\n                </Badge>\r\n              )}\r\n            </div>\r\n\r\n            {potentialCarpoolPartners.length === 0 ? (\r\n              <div className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center text-sm text-gray-600 dark:text-gray-400\">\r\n                Aucun orateur disponible pour le covoiturage ce jour-là\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {potentialCarpoolPartners.map((partner) => (\r\n                  <label\r\n                    key={partner.visitId}\r\n                    className=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedCarpoolPartners.includes(partner.visitId)}\r\n                      onChange={() => toggleCarpoolPartner(partner.visitId)}\r\n                      className=\"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500\"\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium text-gray-900 dark:text-white\">\r\n                        {partner.speakerName}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                        {partner.congregation} • {partner.time}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Lien carte */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            Lien Google Maps (optionnel)\r\n          </label>\r\n          <input\r\n            type=\"url\"\r\n            value={mapLink}\r\n            onChange={(e) => setMapLink(e.target.value)}\r\n            placeholder=\"https://maps.google.com/...\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n\r\n        {/* Référence de réservation */}\r\n        {(transportMode === 'train' || transportMode === 'plane') && (\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Référence de réservation\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={bookingReference}\r\n              onChange={(e) => setBookingReference(e.target.value)}\r\n              placeholder=\"ABC123456\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Notes */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            Notes supplémentaires\r\n          </label>\r\n          <textarea\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n            rows={3}\r\n            placeholder=\"Informations complémentaires sur le voyage...\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n\r\n        {/* Résumé */}\r\n        {(distance || duration || estimatedCost) && (\r\n          <Card className=\"bg-blue-50 dark:bg-blue-900/20\">\r\n            <CardBody>\r\n              <h4 className=\"font-medium text-blue-900 dark:text-blue-200 mb-2\">\r\n                Résumé du voyage\r\n              </h4>\r\n              <div className=\"space-y-1 text-sm text-blue-800 dark:text-blue-300\">\r\n                {distance && <p>• Distance : {distance} km</p>}\r\n                {duration && <p>• Durée : {duration}</p>}\r\n                {estimatedCost && (\r\n                  <p>\r\n                    • Coût : {estimatedCost}€\r\n                    {transportMode === 'carpool' && selectedCarpoolPartners.length > 0 && (\r\n                      <span> ({calculateCostPerPerson()}€ / personne)</span>\r\n                    )}\r\n                  </p>\r\n                )}\r\n                {transportMode === 'carpool' && selectedCarpoolPartners.length > 0 && (\r\n                  <p>• {selectedCarpoolPartners.length + 1} personne(s) dans le covoiturage</p>\r\n                )}\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n          <Button variant=\"secondary\" onClick={onClose}>\r\n            Annuler\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSave}>\r\n            <Car className=\"w-4 h-4 mr-2\" />\r\n            Enregistrer le plan de voyage\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Utensils, AlertCircle, Plus, X } from 'lucide-react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Card, CardBody } from '@/components/ui/Card';\r\nimport { Visit } from '@/types';\r\n\r\ninterface MealPlanningModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  visit: Visit;\r\n  onSave: (mealPlan: MealPlan) => void;\r\n  hosts?: Array<{ nom: string; }>;\r\n}\r\n\r\nexport interface MealPlan {\r\n  visitId: string;\r\n  meals: Meal[];\r\n  dietaryRestrictions: string[];\r\n  allergies: string[];\r\n  preferences: string[];\r\n  notes?: string;\r\n}\r\n\r\ninterface Meal {\r\n  id: string;\r\n  type: 'breakfast' | 'lunch' | 'dinner' | 'snack';\r\n  time: string;\r\n  location: string;\r\n  host?: string;\r\n  attendees: number;\r\n  menu?: string;\r\n  cost?: number;\r\n}\r\n\r\nconst MEAL_TYPES = [\r\n  { value: 'breakfast' as const, label: 'Petit-déjeuner', icon: '🌅', defaultTime: '08:00' },\r\n  { value: 'lunch' as const, label: 'Déjeuner', icon: '🍽️', defaultTime: '12:30' },\r\n  { value: 'dinner' as const, label: 'Dîner', icon: '🌙', defaultTime: '19:00' },\r\n  { value: 'snack' as const, label: 'Collation', icon: '☕', defaultTime: '15:00' },\r\n];\r\n\r\nconst COMMON_RESTRICTIONS = [\r\n  'Végétarien',\r\n  'Végétalien',\r\n  'Sans gluten',\r\n  'Sans lactose',\r\n  'Halal',\r\n  'Casher',\r\n  'Sans porc',\r\n  'Sans fruits de mer',\r\n];\r\n\r\nconst COMMON_ALLERGIES = [\r\n  'Arachides',\r\n  'Fruits à coque',\r\n  'Lait',\r\n  'Œufs',\r\n  'Poisson',\r\n  'Crustacés',\r\n  'Soja',\r\n  'Blé',\r\n];\r\n\r\nexport const MealPlanningModal: React.FC<MealPlanningModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  visit,\r\n  onSave,\r\n  hosts = []\r\n}) => {\r\n  const [meals, setMeals] = useState<Meal[]>([]);\r\n  const [dietaryRestrictions, setDietaryRestrictions] = useState<string[]>([]);\r\n  const [allergies, setAllergies] = useState<string[]>([]);\r\n  const [preferences] = useState<string[]>([]);\r\n  const [notes, setNotes] = useState('');\r\n  const [customRestriction, setCustomRestriction] = useState('');\r\n  const [customAllergy, setCustomAllergy] = useState('');\r\n\r\n  const addMeal = (type: Meal['type']) => {\r\n    const mealType = MEAL_TYPES.find(m => m.value === type);\r\n    const newMeal: Meal = {\r\n      id: `meal-${Date.now()}`,\r\n      type,\r\n      time: mealType?.defaultTime || '12:00',\r\n      location: '',\r\n      attendees: 1,\r\n    };\r\n    setMeals([...meals, newMeal]);\r\n  };\r\n\r\n  const updateMeal = (id: string, updates: Partial<Meal>) => {\r\n    setMeals(meals.map(meal => \r\n      meal.id === id ? { ...meal, ...updates } : meal\r\n    ));\r\n  };\r\n\r\n  const removeMeal = (id: string) => {\r\n    setMeals(meals.filter(meal => meal.id !== id));\r\n  };\r\n\r\n  const toggleRestriction = (restriction: string) => {\r\n    setDietaryRestrictions(prev =>\r\n      prev.includes(restriction)\r\n        ? prev.filter(r => r !== restriction)\r\n        : [...prev, restriction]\r\n    );\r\n  };\r\n\r\n  const toggleAllergy = (allergy: string) => {\r\n    setAllergies(prev =>\r\n      prev.includes(allergy)\r\n        ? prev.filter(a => a !== allergy)\r\n        : [...prev, allergy]\r\n    );\r\n  };\r\n\r\n  const addCustomRestriction = () => {\r\n    if (customRestriction.trim()) {\r\n      setDietaryRestrictions([...dietaryRestrictions, customRestriction.trim()]);\r\n      setCustomRestriction('');\r\n    }\r\n  };\r\n\r\n  const addCustomAllergy = () => {\r\n    if (customAllergy.trim()) {\r\n      setAllergies([...allergies, customAllergy.trim()]);\r\n      setCustomAllergy('');\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const mealPlan: MealPlan = {\r\n      visitId: visit.visitId,\r\n      meals,\r\n      dietaryRestrictions,\r\n      allergies,\r\n      preferences,\r\n      notes: notes || undefined\r\n    };\r\n\r\n    onSave(mealPlan);\r\n    onClose();\r\n  };\r\n\r\n  const getTotalCost = () => meals.reduce((sum, meal) => sum + (meal.cost || 0), 0);\r\n\r\n  const getMealIcon = (type: Meal['type']) => MEAL_TYPES.find(m => m.value === type)?.icon || '🍽️';\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Planification des repas\"\r\n      size=\"xl\"\r\n    >\r\n      <div className=\"space-y-6\">\r\n        {/* En-tête */}\r\n        <div className=\"p-4 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-lg\">\r\n          <div className=\"flex items-center gap-2 mb-1\">\r\n            <Utensils className=\"w-5 h-5 text-orange-600\" />\r\n            <h4 className=\"font-semibold text-gray-900 dark:text-white\">\r\n              {visit.nom}\r\n            </h4>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            {new Date(visit.visitDate).toLocaleDateString('fr-FR', {\r\n              weekday: 'long',\r\n              day: 'numeric',\r\n              month: 'long'\r\n            })}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Restrictions alimentaires */}\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            Restrictions alimentaires\r\n          </label>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {COMMON_RESTRICTIONS.map((restriction) => (\r\n              <button\r\n                key={restriction}\r\n                onClick={() => toggleRestriction(restriction)}\r\n                className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${\r\n                  dietaryRestrictions.includes(restriction)\r\n                    ? 'bg-orange-500 text-white'\r\n                    : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'\r\n                }`}\r\n              >\r\n                {restriction}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={customRestriction}\r\n              onChange={(e) => setCustomRestriction(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && addCustomRestriction()}\r\n              placeholder=\"Autre restriction...\"\r\n              className=\"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n            <Button variant=\"outline\" size=\"sm\" onClick={addCustomRestriction}>\r\n              <Plus className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Allergies */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <AlertCircle className=\"w-4 h-4 text-red-600\" />\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Allergies (important !)\r\n            </label>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {COMMON_ALLERGIES.map((allergy) => (\r\n              <button\r\n                key={allergy}\r\n                onClick={() => toggleAllergy(allergy)}\r\n                className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${\r\n                  allergies.includes(allergy)\r\n                    ? 'bg-red-500 text-white'\r\n                    : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'\r\n                }`}\r\n              >\r\n                {allergy}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={customAllergy}\r\n              onChange={(e) => setCustomAllergy(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && addCustomAllergy()}\r\n              placeholder=\"Autre allergie...\"\r\n              className=\"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n            <Button variant=\"outline\" size=\"sm\" onClick={addCustomAllergy}>\r\n              <Plus className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Repas planifiés */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Repas planifiés\r\n            </label>\r\n            <div className=\"flex gap-2\">\r\n              {MEAL_TYPES.map((type) => (\r\n                <Button\r\n                  key={type.value}\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => addMeal(type.value)}\r\n                  title={`Ajouter ${type.label}`}\r\n                >\r\n                  <span className=\"text-lg\">{type.icon}</span>\r\n                </Button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {meals.length === 0 ? (\r\n            <div className=\"p-8 text-center bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n              <Utensils className=\"w-12 h-12 mx-auto mb-3 text-gray-400\" />\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                Aucun repas planifié. Cliquez sur les icônes ci-dessus pour ajouter un repas.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {meals.map((meal) => (\r\n                <Card key={meal.id}>\r\n                  <CardBody>\r\n                    <div className=\"space-y-3\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span className=\"text-2xl\">{getMealIcon(meal.type)}</span>\r\n                          <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                            {MEAL_TYPES.find(t => t.value === meal.type)?.label}\r\n                          </span>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => removeMeal(meal.id)}\r\n                          aria-label=\"Supprimer ce repas\"\r\n                          className=\"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded\"\r\n                        >\r\n                          <X className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div className=\"grid grid-cols-2 gap-3\">\r\n                        <div>\r\n                          <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\r\n                            Heure\r\n                          </label>\r\n                          <input\r\n                            type=\"time\"\r\n                            value={meal.time}\r\n                            onChange={(e) => updateMeal(meal.id, { time: e.target.value })}\r\n                            aria-label=\"Heure du repas\"\r\n                            className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\r\n                            Nombre de personnes\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={meal.attendees}\r\n                            onChange={(e) => updateMeal(meal.id, { attendees: Number(e.target.value) })}\r\n                            min=\"1\"\r\n                            aria-label=\"Nombre de personnes\"\r\n                            className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\r\n                          Lieu\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.location}\r\n                          onChange={(e) => updateMeal(meal.id, { location: e.target.value })}\r\n                          placeholder=\"Restaurant, domicile, etc.\"\r\n                          className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\r\n                          Hôte / Responsable\r\n                        </label>\r\n                        <select\r\n                          value={meal.host || ''}\r\n                          onChange={(e) => updateMeal(meal.id, { host: e.target.value })}\r\n                          className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                        >\r\n                          <option value=\"\">Sélectionner un hôte...</option>\r\n                          {hosts.map(host => (\r\n                            <option key={host.nom} value={host.nom}>{host.nom}</option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div className=\"grid grid-cols-2 gap-3\">\r\n                        <div>\r\n                          <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\r\n                            Menu (optionnel)\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={meal.menu || ''}\r\n                            onChange={(e) => updateMeal(meal.id, { menu: e.target.value })}\r\n                            placeholder=\"Description du menu\"\r\n                            className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\r\n                            Coût estimé (€)\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={meal.cost || ''}\r\n                            onChange={(e) => updateMeal(meal.id, { cost: e.target.value ? Number(e.target.value) : undefined })}\r\n                            placeholder=\"0.00\"\r\n                            step=\"0.01\"\r\n                            className=\"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Notes */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            Notes supplémentaires\r\n          </label>\r\n          <textarea\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n            rows={3}\r\n            placeholder=\"Préférences culinaires, informations complémentaires...\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n\r\n        {/* Résumé */}\r\n        {(meals.length > 0 || dietaryRestrictions.length > 0 || allergies.length > 0) && (\r\n          <Card className=\"bg-blue-50 dark:bg-blue-900/20\">\r\n            <CardBody>\r\n              <h4 className=\"font-medium text-blue-900 dark:text-blue-200 mb-2\">\r\n                Résumé\r\n              </h4>\r\n              <div className=\"space-y-1 text-sm text-blue-800 dark:text-blue-300\">\r\n                <p>• {meals.length} repas planifié(s)</p>\r\n                {dietaryRestrictions.length > 0 && (\r\n                  <p>• {dietaryRestrictions.length} restriction(s) alimentaire(s)</p>\r\n                )}\r\n                {allergies.length > 0 && (\r\n                  <p className=\"text-red-600 dark:text-red-400 font-medium\">\r\n                    ⚠️ {allergies.length} allergie(s) à prendre en compte\r\n                  </p>\r\n                )}\r\n                {getTotalCost() > 0 && (\r\n                  <p>• Coût total estimé : {getTotalCost().toFixed(2)}€</p>\r\n                )}\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n          <Button variant=\"secondary\" onClick={onClose}>\r\n            Annuler\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSave}>\r\n            <Utensils className=\"w-4 h-4 mr-2\" />\r\n            Enregistrer le plan de repas\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Visit } from '@/types';\r\n\r\ninterface AccommodationMatchingModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  visit: Visit;\r\n  onSelectHost: (hostName: string) => void;\r\n}\r\n\r\nexport const AccommodationMatchingModal: React.FC<AccommodationMatchingModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  visit,\r\n  onSelectHost: _onSelectHost,\r\n}) => {\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} size=\"md\">\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n          Gérer l'hébergement\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n          Visite de {visit.nom} le {new Date(visit.visitDate).toLocaleDateString('fr-FR')}\r\n        </p>\r\n        <div className=\"text-center py-8\">\r\n          <p className=\"text-gray-500 dark:text-gray-400\">\r\n            Fonctionnalité en cours de développement\r\n          </p>\r\n        </div>\r\n        <div className=\"flex justify-end\">\r\n          <Button onClick={onClose}>Fermer</Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define(\"lib\",[\"react\"],t):\"object\"==typeof exports?exports.lib=t(require(\"react\")):e.lib=t(e.react)}(\"undefined\"!=typeof self?self:this,function(e){return function(){\"use strict\";var t={155:function(t){t.exports=e}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};n.r(r),n.d(r,{useReactToPrint:function(){return g}});var s=n(155);const i=\"printWindow\";function l({level:e=\"error\",messages:t,suppressErrors:o=!1}){o||(\"error\"===e?console.error(t):\"warning\"===e?console.warn(t):console.debug(t))}function a(e,t){if(t||!e){const e=document.getElementById(i);e&&document.body.removeChild(e)}}function c(e){return e instanceof Error?e:new Error(\"Unknown Error\")}function d(e,t){const{documentTitle:o,onAfterPrint:n,onPrintError:r,preserveAfterPrint:s,print:i,suppressErrors:d}=t;setTimeout(()=>{var t,u;if(e.contentWindow){function p(){null==n||n(),a(s)}if(e.contentWindow.focus(),i)i(e).then(p).catch(e=>{r?r(\"print\",c(e)):l({messages:[\"An error was thrown by the specified `print` function\"],suppressErrors:d})});else{if(e.contentWindow.print){const f=null!==(u=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==u?u:\"\",h=e.ownerDocument.title;o&&(e.ownerDocument.title=o,e.contentDocument&&(e.contentDocument.title=o)),e.contentWindow.print(),o&&(e.ownerDocument.title=h,e.contentDocument&&(e.contentDocument.title=f))}else l({messages:[\"Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes.\"],suppressErrors:d});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>{var t,o;return(null!==(o=null!==(t=navigator.userAgent)&&void 0!==t?t:navigator.vendor)&&void 0!==o?o:\"opera\"in window&&window.opera).match(e)})?setTimeout(p,500):p()}}else l({messages:[\"Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/\"],suppressErrors:d})},500)}function u(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let n=o.nextNode();for(;n;)t.push(n),n=o.nextNode();return t}function p(e,t,o){const n=u(e),r=u(t);if(n.length===r.length)for(let e=0;e<n.length;e++){const t=n[e],s=r[e],i=t.shadowRoot;if(null!==i){const e=s.attachShadow({mode:i.mode});e.innerHTML=i.innerHTML,p(i,e,o)}}else l({messages:[\"When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.\",e,t],suppressErrors:o})}const f='\\n    @page {\\n        /* Remove browser default header (title) and footer (url) */\\n        margin: 0;\\n    }\\n    @media print {\\n        body {\\n            /* Tell browsers to print background colors */\\n            color-adjust: exact; /* Firefox. This is an older version of \"print-color-adjust\" */\\n            print-color-adjust: exact; /* Firefox/Safari */\\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\\n        }\\n    }\\n';function h(e,t,o,n){var r,s,i,a,u;const{contentNode:h,clonedContentNode:g,clonedImgNodes:m,clonedVideoNodes:b,numResourcesToLoad:y,originalCanvasNodes:v}=o,{bodyClass:w,fonts:E,ignoreGlobalStyles:A,pageStyle:P,nonce:T,suppressErrors:S,copyShadowRoots:x}=n;e.onload=null;const k=null!==(r=e.contentDocument)&&void 0!==r?r:null===(s=e.contentWindow)||void 0===s?void 0:s.document;if(k){const o=k.body.appendChild(g);x&&p(h,o,!!S),E&&((null===(i=e.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(a=e.contentWindow)||void 0===a?void 0:a.FontFace)?E.forEach(o=>{const n=new FontFace(o.family,o.source,{weight:o.weight,style:o.style});e.contentDocument.fonts.add(n),n.loaded.then(()=>{t(n)}).catch(e=>{t(n,[\"Failed loading the font:\",n,\"Load error:\",c(e)])})}):(E.forEach(e=>{t(e)}),l({messages:['\"react-to-print\" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:S})));const n=null!=P?P:f,r=k.createElement(\"style\");T&&(r.setAttribute(\"nonce\",T),k.head.setAttribute(\"nonce\",T)),r.appendChild(k.createTextNode(n)),k.head.appendChild(r),w&&k.body.classList.add(...w.split(\" \"));const s=k.querySelectorAll(\"canvas\");for(let e=0;e<v.length;++e){const t=v[e],o=s[e];if(void 0===o){l({messages:[\"A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.\",t],suppressErrors:S});continue}const n=o.getContext(\"2d\");n&&n.drawImage(t,0,0)}for(let e=0;e<m.length;e++){const o=m[e],n=o.getAttribute(\"src\");if(n){const e=new Image;e.onload=()=>{t(o)},e.onerror=(e,n,r,s,i)=>{t(o,[\"Error loading <img>\",o,\"Error\",i])},e.src=n}else t(o,['Found an <img> tag with an empty \"src\" attribute. This prevents pre-loading it.',o])}for(let e=0;e<b.length;e++){const o=b[e];o.preload=\"auto\";const n=o.getAttribute(\"poster\");if(n){const e=new Image;e.onload=()=>{t(o)},e.onerror=(e,r,s,i,l)=>{t(o,[\"Error loading video poster\",n,\"for video\",o,\"Error:\",l])},e.src=n}else o.readyState>=2?t(o):o.src?(o.onloadeddata=()=>{t(o)},o.onerror=(e,n,r,s,i)=>{t(o,[\"Error loading video\",o,\"Error\",i])},o.onstalled=()=>{t(o,[\"Loading video stalled, skipping\",o])}):t(o,[\"Error loading video, `src` is empty\",o])}const d=\"select\",y=h.querySelectorAll(d),C=k.querySelectorAll(d);for(let e=0;e<y.length;e++)C[e].value=y[e].value;if(!A){const e=document.querySelectorAll(\"style, link[rel~='stylesheet'], link[as='style']\");for(let o=0,n=e.length;o<n;++o){const n=e[o];if(\"style\"===n.tagName.toLowerCase()){const e=k.createElement(n.tagName),t=n.sheet;if(t){let r=\"\";try{const e=t.cssRules.length;for(let o=0;o<e;++o)\"string\"==typeof t.cssRules[o].cssText&&(r+=`${t.cssRules[o].cssText}\\r\\n`)}catch(e){l({messages:[\"A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.\",n,`Original error: ${c(e).message}`],level:\"warning\"})}e.setAttribute(\"id\",`react-to-print-${o}`),T&&e.setAttribute(\"nonce\",T),e.appendChild(k.createTextNode(r)),k.head.appendChild(e)}}else if(n.getAttribute(\"href\"))if(n.hasAttribute(\"disabled\"))l({messages:[\"`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:\",n],level:\"warning\"}),t(n);else{const e=k.createElement(n.tagName);for(let t=0,o=n.attributes.length;t<o;++t){const o=n.attributes[t];o&&e.setAttribute(o.nodeName,null!==(u=o.nodeValue)&&void 0!==u?u:\"\")}e.onload=()=>{t(e)},e.onerror=(o,n,r,s,i)=>{t(e,[\"Failed to load\",e,\"Error:\",i])},T&&e.setAttribute(\"nonce\",T),k.head.appendChild(e)}else l({messages:[\"`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:\",n],level:\"warning\"}),t(n)}}}0===y&&d(e,n)}function g({bodyClass:e,contentRef:t,copyShadowRoots:o,documentTitle:n,fonts:r,ignoreGlobalStyles:u,nonce:p,onAfterPrint:f,onBeforePrint:g,onPrintError:m,pageStyle:b,preserveAfterPrint:y,print:v,printIframeProps:w,suppressErrors:E}){const A=(0,s.useCallback)(s=>{function A(){const a={bodyClass:e,contentRef:t,copyShadowRoots:o,documentTitle:n,fonts:r,ignoreGlobalStyles:u,nonce:p,onAfterPrint:f,onBeforePrint:g,onPrintError:m,pageStyle:b,preserveAfterPrint:y,print:v,printIframeProps:w,suppressErrors:E},c=function(e){const t=document.createElement(\"iframe\");return t.width=`${document.documentElement.clientWidth}px`,t.height=`${document.documentElement.clientHeight}px`,t.style.position=\"absolute\",t.style.top=`-${document.documentElement.clientHeight+100}px`,t.style.left=`-${document.documentElement.clientWidth+100}px`,t.id=i,t.srcdoc=\"<!DOCTYPE html>\",e&&(e.allow&&(t.allow=e.allow),void 0!==e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),void 0!==e.sandbox&&(t.sandbox=e.sandbox)),t}(w),A=function(e,t){const{contentRef:o,fonts:n,ignoreGlobalStyles:r,suppressErrors:s}=t,i=function({contentRef:e,optionalContent:t,suppressErrors:o}){return t&&\"function\"==typeof t?(e&&l({level:\"warning\",messages:['\"react-to-print\" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),t()):e?e.current:void l({messages:['\"react-to-print\" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:o})}({contentRef:o,optionalContent:e,suppressErrors:s});if(!i)return;const a=i.cloneNode(!0),c=document.querySelectorAll(\"link[rel~='stylesheet'], link[as='style']\"),d=a.querySelectorAll(\"img\"),u=a.querySelectorAll(\"video\"),p=n?n.length:0;return{contentNode:i,clonedContentNode:a,clonedImgNodes:d,clonedVideoNodes:u,numResourcesToLoad:(r?0:c.length)+d.length+u.length+p,originalCanvasNodes:i.querySelectorAll(\"canvas\")}}(s,a);if(!A)return void l({messages:[\"There is nothing to print\"],suppressErrors:E});const P=function(e,t,o){const{suppressErrors:n}=e,r=[],s=[];return function(i,a){r.includes(i)?l({level:\"debug\",messages:[\"Tried to mark a resource that has already been handled\",i],suppressErrors:n}):(a?(l({messages:['\"react-to-print\" was unable to load a resource but will continue attempting to print the page',...a],suppressErrors:n}),s.push(i)):r.push(i),r.length+s.length===t&&d(o,e))}}(a,A.numResourcesToLoad,c);!function(e,t,o,n){e.onload=()=>{h(e,t,o,n)},document.body.appendChild(e)}(c,P,A,a)}a(y,!0),g?g().then(()=>{A()}).catch(e=>{null==m||m(\"onBeforePrint\",c(e))}):A()},[e,t,o,n,r,u,p,f,g,m,b,y,v,E]);return A}return r}()});","import React, { useRef } from 'react';\r\nimport { Visit, Speaker, Host } from '@/types';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\nimport { MapPin, Phone, User, Calendar, Truck, Hotel, CheckSquare, Printer } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\nimport { useReactToPrint } from 'react-to-print';\r\n\r\ninterface RoadmapViewProps {\r\n  visit: Visit;\r\n  speaker?: Speaker;\r\n  host?: Host;\r\n}\r\n\r\nexport const RoadmapView: React.FC<RoadmapViewProps> = ({ visit, speaker, host }) => {\r\n  const componentRef = useRef<HTMLDivElement>(null);\r\n\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n    documentTitle: `Feuille_de_route_${visit.nom}_${visit.visitDate}`,\r\n  } as any);\r\n\r\n  const formatDate = (dateString: string) => {\r\n    try {\r\n      return format(parseISO(dateString), 'EEEE d MMMM yyyy', { locale: fr });\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-end no-print\">\r\n        <Button onClick={handlePrint} leftIcon={<Printer className=\"w-4 h-4\" />}>\r\n          Imprimer la feuille de route\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Printable Content */}\r\n      <div ref={componentRef} className=\"bg-white p-8 max-w-[210mm] mx-auto min-h-[297mm] shadow-sm print:shadow-none print:w-full print:max-w-none\">\r\n        \r\n        {/* Header */}\r\n        <div className=\"border-b-2 border-gray-800 pb-6 mb-8 text-center\">\r\n          <h1 className=\"text-3xl font-bold uppercase tracking-wider mb-2 text-gray-900\">Feuille de Route</h1>\r\n          <p className=\"text-xl text-gray-600\">{visit.congregation}</p>\r\n          <div className=\"mt-4 inline-flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-lg\">\r\n            <Calendar className=\"w-5 h-5\" />\r\n            <span className=\"font-semibold text-lg\">{formatDate(visit.visitDate)}</span>\r\n            <span className=\"text-gray-400 mx-2\">|</span>\r\n            <span className=\"font-semibold\">{visit.visitTime}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 print:grid-cols-2 print:gap-8\">\r\n          \r\n          {/* Section 1: Orateur & Discours */}\r\n          <section className=\"space-y-4\">\r\n            <h2 className=\"text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black\">\r\n              <User className=\"w-5 h-5\" /> Orateur & Discours\r\n            </h2>\r\n            <div className=\"bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200\">\r\n               <div className=\"font-semibold text-lg mb-1\">{visit.nom}</div>\r\n               <div className=\"text-gray-600 mb-2\">{speaker?.email || 'Email non renseigné'}</div>\r\n               <div className=\"text-gray-600 mb-4\">{speaker?.telephone || 'Tel non renseigné'}</div>\r\n               \r\n               <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                  <div className=\"text-sm text-gray-500 uppercase font-semibold\">Discours</div>\r\n                  <div className=\"font-medium\">N°{visit.talkNoOrType || 'Non défini'}</div>\r\n                  {visit.talkTheme && <div className=\"text-sm text-gray-600 mt-1\">{visit.talkTheme}</div>}\r\n               </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Section 2: Repas */}\r\n          {visit.meals && (\r\n            <section className=\"space-y-4\">\r\n              <h2 className=\"text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black\">\r\n                <Hotel className=\"w-5 h-5\" /> Repas\r\n              </h2>\r\n              <div className=\"bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200\">\r\n                <div className=\"text-gray-700\">{visit.meals}</div>\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Section 3: Hébergement */}\r\n          {(host || visit.logistics?.accommodation?.name) && (\r\n            <section className=\"space-y-4\">\r\n              <h2 className=\"text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black\">\r\n                <Hotel className=\"w-5 h-5\" /> Hébergement\r\n              </h2>\r\n              <div className=\"bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200\">\r\n                {(host && visit.logistics?.accommodation?.type !== 'hotel') ? (\r\n                  <>\r\n                    <div className=\"font-semibold text-lg mb-1\">{host.nom}</div>\r\n                    <div className=\"flex items-start gap-2 text-gray-600 mb-2\">\r\n                      <MapPin className=\"w-4 h-4 mt-1 flex-shrink-0\" />\r\n                      <span>{host.address}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 text-gray-600 mb-2\">\r\n                      <Phone className=\"w-4 h-4 flex-shrink-0\" />\r\n                      <span>{host.telephone}</span>\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 mt-2\">\r\n                      {host.notes && <p className=\"italic\">\"{host.notes}\"</p>}\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"font-semibold text-lg mb-1\">{visit.logistics?.accommodation?.name}</div>\r\n                    <div className=\"flex items-start gap-2 text-gray-600 mb-2\">\r\n                      <MapPin className=\"w-4 h-4 mt-1 flex-shrink-0\" />\r\n                      <span>{visit.logistics?.accommodation?.address || 'Adresse non renseignée'}</span>\r\n                    </div>\r\n                    {visit.logistics?.accommodation?.bookingReference && (\r\n                      <div className=\"text-sm text-gray-600 mb-2\">\r\n                        <strong>Référence:</strong> {visit.logistics.accommodation.bookingReference}\r\n                      </div>\r\n                    )}\r\n                    <div className=\"text-sm text-gray-500 mt-2\">\r\n                      {visit.logistics?.accommodation?.notes && <p className=\"italic\">\"{visit.logistics.accommodation.notes}\"</p>}\r\n                    </div>\r\n                  </>\r\n                )}\r\n                \r\n                {visit.logistics?.accommodation && (\r\n                   <div className=\"mt-4 pt-4 border-t border-gray-200 text-sm grid grid-cols-2 gap-2\">\r\n                      <div>\r\n                        <span className=\"text-gray-500 block\">Check-in</span>\r\n                        <span className=\"font-medium\">\r\n                          {visit.logistics.accommodation.checkIn ? format(parseISO(visit.logistics.accommodation.checkIn), 'dd/MM HH:mm') : '-'}\r\n                        </span>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"text-gray-500 block\">Check-out</span>\r\n                        <span className=\"font-medium\">\r\n                          {visit.logistics.accommodation.checkOut ? format(parseISO(visit.logistics.accommodation.checkOut), 'dd/MM HH:mm') : '-'}\r\n                        </span>\r\n                      </div>\r\n                   </div>\r\n                )}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Section 4: Itinéraire */}\r\n          {visit.logistics?.itinerary && (\r\n             <section className=\"space-y-4\">\r\n              <h2 className=\"text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black\">\r\n                <Truck className=\"w-5 h-5\" /> Trajet\r\n              </h2>\r\n              <div className=\"bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200\">\r\n                 <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                    <div>\r\n                       <div className=\"text-sm text-gray-500\">Mode</div>\r\n                       <div className=\"font-medium capitalize\">{visit.logistics.itinerary.transportMode}</div>\r\n                    </div>\r\n                    <div>\r\n                       <div className=\"text-sm text-gray-500\">Durée estimée</div>\r\n                       <div className=\"font-medium\">{visit.logistics.itinerary.duration || '-'}</div>\r\n                    </div>\r\n                 </div>\r\n                 {visit.logistics.itinerary.meetingPoint && (\r\n                    <div className=\"mb-2\">\r\n                       <div className=\"text-sm text-gray-500\">Point de RDV</div>\r\n                       <div className=\"font-medium\">{visit.logistics.itinerary.meetingPoint}</div>\r\n                    </div>\r\n                 )}\r\n              </div>\r\n             </section>\r\n          )}\r\n\r\n          {/* Section 5: Checklist Importante */}\r\n          {visit.logistics?.checklist && visit.logistics.checklist.length > 0 && (\r\n             <section className=\"space-y-4\">\r\n              <h2 className=\"text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black\">\r\n                <CheckSquare className=\"w-5 h-5\" /> À ne pas oublier\r\n              </h2>\r\n              <div className=\"bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200\">\r\n                <ul className=\"space-y-2\">\r\n                   {visit.logistics.checklist\r\n                      .filter(item => !item.isCompleted) // Only show what is LEFT to do, or remove filter to show all\r\n                      .map(item => (\r\n                      <li key={item.id} className=\"flex items-center gap-3\">\r\n                         <div className=\"w-4 h-4 border-2 border-black rounded-sm print:block\" />\r\n                         <span>{item.label}</span>\r\n                      </li>\r\n                   ))}\r\n                   {visit.logistics.checklist.every(i => i.isCompleted) && (\r\n                      <li className=\"text-green-600 italic\">Toutes les tâches logistiques sont complétées.</li>\r\n                   )}\r\n                </ul>\r\n              </div>\r\n             </section>\r\n          )}\r\n\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"mt-16 text-center text-sm text-gray-400 border-t pt-8 print:mt-auto print:absolute print:bottom-8 print:left-0 print:right-0\">\r\n           <p>Généré par KBV2 Manager - {new Date().toLocaleDateString()}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { useData } from '@/contexts/DataContext';\r\nimport { useToast } from '@/contexts/ToastContext';\r\nimport { useConfirm } from '@/contexts/ConfirmContext';\r\nimport { Visit, Expense, MessageType, Accommodation } from '@/types';\r\nimport { Edit2, Trash2, MessageSquare, CheckCircle, XCircle, Star, CreditCard, Truck, Utensils, Home } from 'lucide-react';\r\nimport { ExpenseForm } from '@/components/expenses/ExpenseForm';\r\nimport { ExpenseList } from '@/components/expenses/ExpenseList';\r\nimport { LogisticsManager } from '@/components/logistics/LogisticsManager';\r\nimport { TravelCoordinationModal, MealPlanningModal, AccommodationMatchingModal } from '@/components/modals';\r\nimport { RoadmapView } from '@/components/reports/RoadmapView';\r\nimport { MessageGeneratorModal } from '@/components/messages/MessageGeneratorModal';\r\nimport { generateUUID } from '@/utils/uuid';\r\n\r\ninterface VisitActionModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  visit: Visit | null;\r\n  action: 'edit' | 'delete' | 'status' | 'message' | 'feedback' | 'expenses' | 'logistics';\r\n}\r\n\r\nexport const VisitActionModal: React.FC<VisitActionModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  visit,\r\n  action\r\n}) => {\r\n  const { updateVisit, deleteVisit, completeVisit, speakers, hosts } = useData();\r\n  const { addToast } = useToast();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [formData, setFormData] = useState<Partial<Visit>>({});\r\n\r\n  // Expenses Logic\r\n  const [isAddingExpense, setIsAddingExpense] = useState(false);\r\n  const [editingExpense, setEditingExpense] = useState<Expense | undefined>(undefined);\r\n\r\n  // Logistics Logic\r\n  const [_activeTab, _setActiveTab] = useState('accommodation');\r\n  const [_isTravelModalOpen, _setIsTravelModalOpen] = useState(false);\r\n  const [_isMealModalOpen, _setIsMealModalOpen] = useState(false);\r\n  const [_isAccommodationModalOpen, _setIsAccommodationModalOpen] = useState(false);\r\n\r\n  // Message Generator Logic\r\n  const [generatorParams, setGeneratorParams] = useState<{ isOpen: boolean; type: MessageType }>({ \r\n    isOpen: false, \r\n    type: 'confirmation' \r\n  });\r\n\r\n  useEffect(() => {\r\n    if (visit) {\r\n      setFormData(visit);\r\n    }\r\n  }, [visit]);\r\n\r\n  if (!visit) return null;\r\n\r\n  const handleSave = async () => {\r\n    if (!formData) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      await updateVisit({ ...visit, ...formData });\r\n      addToast('Visite mise à jour', 'success');\r\n      onClose();\r\n    } catch (error) {\r\n      addToast('Erreur lors de la mise à jour', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const { confirm } = useConfirm();\r\n  \r\n  const handleDelete = async () => {\r\n    const userConfirmed = await confirm({\r\n      title: 'Supprimer la visite',\r\n      message: 'Êtes-vous sûr de vouloir supprimer cette visite ?',\r\n      confirmText: 'Supprimer',\r\n      confirmVariant: 'danger',\r\n      cancelText: 'Annuler'\r\n    });\r\n    \r\n    if (!userConfirmed) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      await deleteVisit(visit.visitId);\r\n      addToast('Visite supprimée', 'success');\r\n      onClose();\r\n    } catch (error) {\r\n      addToast('Erreur lors de la suppression', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (newStatus: string) => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (newStatus === 'completed') {\r\n        // Utiliser completeVisit pour marquer comme terminé et archiver\r\n        await completeVisit(visit);\r\n        addToast('Visite terminée et archivée', 'success');\r\n      } else {\r\n        // Pour les autres statuts, utiliser updateVisit normalement\r\n        await updateVisit({ ...visit, status: newStatus as any });\r\n        addToast('Statut mis à jour', 'success');\r\n      }\r\n      onClose();\r\n    } catch (error) {\r\n      addToast('Erreur lors de la mise à jour', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Message Generator Logic\r\n\r\n\r\n  // TODO: Réintégrer handleFeedbackSubmit quand FeedbackFormModal sera utilisé\r\n  // const handleFeedbackSubmit = async (feedbackData: Omit<VisitFeedback, 'id' | 'visitId' | 'submittedBy' | 'submittedAt'>) => {\r\n  //   setIsLoading(true);\r\n  //   try {\r\n  //     const newFeedback: VisitFeedback = {\r\n  //       ...feedbackData,\r\n  //       id: generateUUID(),\r\n  //       visitId: visit.visitId,\r\n  //       submittedBy: 'currentUser',\r\n  //       submittedAt: new Date().toISOString()\r\n  //     };\r\n  //     await updateVisit({ ...visit, visitFeedback: newFeedback });\r\n  //     addToast('Bilan enregistré avec succès', 'success');\r\n  //     onClose();\r\n  //   } catch (error) {\r\n  //     addToast('Erreur lors de l\\'enregistrement du bilan', 'error');\r\n  //   } finally {\r\n  //     setIsLoading(false);\r\n  //   }\r\n  // };\r\n\r\n  const handleSaveExpense = async (expenseData: Omit<Expense, 'id'>) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const currentExpenses = visit.expenses || [];\r\n      let newExpenses: Expense[];\r\n\r\n      if (editingExpense) {\r\n        newExpenses = currentExpenses.map(e => \r\n          e.id === editingExpense.id ? { ...expenseData, id: editingExpense.id } : e\r\n        );\r\n      } else {\r\n        newExpenses = [...currentExpenses, { ...expenseData, id: generateUUID() }];\r\n      }\r\n\r\n      const updatedVisit = { ...visit, expenses: newExpenses };\r\n      await updateVisit(updatedVisit);\r\n      setFormData(updatedVisit);\r\n      addToast(editingExpense ? 'Dépense modifiée' : 'Dépense ajoutée', 'success');\r\n      setIsAddingExpense(false);\r\n      setEditingExpense(undefined);\r\n    } catch (error) {\r\n      addToast('Erreur lors de la sauvegarde de la dépense', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteExpense = async (expenseId: string) => {\r\n    const { confirm: confirmDelete } = useConfirm();\r\n    const userConfirmed = await confirmDelete({\r\n      title: 'Supprimer la dépense',\r\n      message: 'Voulez-vous vraiment supprimer cette dépense ?',\r\n      confirmText: 'Supprimer',\r\n      confirmVariant: 'danger',\r\n      cancelText: 'Annuler'\r\n    });\r\n    \r\n    if (!userConfirmed) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const newExpenses = (visit.expenses || []).filter(e => e.id !== expenseId);\r\n      const updatedVisit = { ...visit, expenses: newExpenses };\r\n      await updateVisit(updatedVisit);\r\n      setFormData(updatedVisit);\r\n      addToast('Dépense supprimée', 'success');\r\n    } catch (error) {\r\n      addToast('Erreur lors de la suppression', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getModalContent = () => {\r\n    switch (action) {\r\n      case 'edit':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <Edit2 className=\"w-5 h-5\" />\r\n              Modifier la visite\r\n            </h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <Input\r\n                label=\"Date\"\r\n                type=\"date\"\r\n                value={formData.visitDate || ''}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, visitDate: e.target.value }))}\r\n              />\r\n              <Input\r\n                label=\"Heure\"\r\n                type=\"time\"\r\n                value={formData.visitTime || ''}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, visitTime: e.target.value }))}\r\n              />\r\n              <Input\r\n                label=\"N° Discours\"\r\n                value={formData.talkNoOrType || ''}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, talkNoOrType: e.target.value }))}\r\n                placeholder=\"Ex: 185\"\r\n              />\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Contact d'accueil\r\n                </label>\r\n                <select\r\n                  value={formData.host || ''}\r\n                  onChange={(e) => {\r\n                    const {value} = e.target;\r\n                    const selectedHost = hosts.find(h => h.nom === value);\r\n\r\n                    setFormData(prev => {\r\n                      const currentLogistics = prev.logistics || {};\r\n                      const currentAccommodation = currentLogistics.accommodation || {};\r\n\r\n                      const newAccommodation = { ...currentAccommodation } as Partial<Accommodation>;\r\n                      let newAddress = prev.accommodation;\r\n\r\n                      if (value === 'Hôtel') {\r\n                        newAccommodation.type = 'hotel';\r\n                        // Keep existing booking ref etc, but maybe clear name if it was a host's name\r\n                        if (newAccommodation.type !== 'hotel') {\r\n                          // If switching TO hotel, maybe clear name/address?\r\n                          // Actually, let's just set type. User can fill details in Logistics.\r\n                        }\r\n                        newAddress = ''; // Clear main address field as it's likely a host address\r\n                      } else if (selectedHost) {\r\n                        newAccommodation.type = 'host';\r\n                        newAccommodation.name = selectedHost.nom;\r\n                        newAccommodation.address = selectedHost.address;\r\n                        newAddress = selectedHost.address || '';\r\n                      } else if (value === 'Pas besoin') {\r\n                        // Reset accommodation when no host is needed\r\n                        newAccommodation.type = 'other';\r\n                        newAccommodation.name = '';\r\n                        newAccommodation.address = '';\r\n                        newAddress = '';\r\n                      }\r\n\r\n                      return {\r\n                        ...prev,\r\n                        host: value,\r\n                        accommodation: newAddress,\r\n                        logistics: {\r\n                          ...currentLogistics,\r\n                          accommodation: newAccommodation as Accommodation\r\n                        }\r\n                      };\r\n                    });\r\n                  }}\r\n                  title=\"Sélectionner un hôte\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">Sélectionner un hôte...</option>\r\n                  <option value=\"Pas besoin\">Pas besoin</option>\r\n                  <option value=\"Hôtel\">Hôtel</option>\r\n                  {hosts.map(host => (\r\n                    <option key={host.nom} value={host.nom}>{host.nom}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <Input\r\n                label=\"Nombre d'accompagnateurs\"\r\n                type=\"number\"\r\n                min={0}\r\n                max={10}\r\n                value={formData.accompanyingPersons || 0}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, accompanyingPersons: parseInt(e.target.value, 10) || 0 }))}\r\n                placeholder=\"0\"\r\n              />\r\n            </div>\r\n            <Input\r\n              label=\"Titre du discours\"\r\n              value={formData.talkTheme || ''}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, talkTheme: e.target.value }))}\r\n              placeholder=\"Ex: Nega iluzon di mundu...\"\r\n            />\r\n\r\n            {/* Section Statut */}\r\n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\r\n                Statut de la visite\r\n              </label>\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                <Button\r\n                  variant={visit.status === 'pending' ? 'primary' : 'secondary'}\r\n                  size=\"sm\"\r\n                  onClick={() => handleStatusChange('pending')}\r\n                  disabled={isLoading}\r\n                  leftIcon={<XCircle className=\"w-3 h-3\" />}\r\n                >\r\n                  En attente\r\n                </Button>\r\n                <Button\r\n                  variant={visit.status === 'confirmed' ? 'primary' : 'secondary'}\r\n                  size=\"sm\"\r\n                  onClick={() => handleStatusChange('confirmed')}\r\n                  disabled={isLoading}\r\n                  leftIcon={<CheckCircle className=\"w-3 h-3\" />}\r\n                >\r\n                  Confirmé\r\n                </Button>\r\n                <Button\r\n                  variant={visit.status === 'completed' ? 'primary' : 'secondary'}\r\n                  size=\"sm\"\r\n                  onClick={() => handleStatusChange('completed')}\r\n                  disabled={isLoading}\r\n                  leftIcon={<CheckCircle className=\"w-3 h-3\" />}\r\n                >\r\n                  Terminé\r\n                </Button>\r\n                <Button\r\n                  variant={visit.status === 'cancelled' ? 'danger' : 'secondary'}\r\n                  size=\"sm\"\r\n                  onClick={() => handleStatusChange('cancelled')}\r\n                  disabled={isLoading}\r\n                  leftIcon={<XCircle className=\"w-3 h-3\" />}\r\n                >\r\n                  Annulé\r\n                </Button>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n                Statut actuel: <span className=\"font-medium capitalize\">{visit.status}</span>\r\n              </p>\r\n            </div>\r\n\r\n            <Input\r\n              label=\"Notes\"\r\n              value={formData.notes || ''}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n            />\r\n            <div className=\"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-sm text-gray-600 dark:text-gray-400\">\r\n              💡 Pour gérer le logement et les repas, utilisez l'onglet \"Logistique\" du menu\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'delete':\r\n        return (\r\n          <div className=\"text-center py-6\">\r\n            <Trash2 className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n              Supprimer la visite\r\n            </h3>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n              Êtes-vous sûr de vouloir supprimer la visite de <strong>{visit.nom}</strong> \r\n              du {new Date(visit.visitDate).toLocaleDateString('fr-FR')} ?\r\n            </p>\r\n            <p className=\"text-sm text-red-600 dark:text-red-400\">\r\n              Cette action est irréversible.\r\n            </p>\r\n          </div>\r\n        );\r\n\r\n      case 'status':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <CheckCircle className=\"w-5 h-5\" />\r\n              Changer le statut\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                Statut actuel: <span className=\"font-medium\">{visit.status}</span>\r\n              </p>\r\n              <div className=\"space-y-2\">\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => handleStatusChange('pending')}\r\n                  className=\"w-full justify-start\"\r\n                  leftIcon={<XCircle className=\"w-4 h-4\" />}\r\n                >\r\n                  Marquer en attente\r\n                </Button>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => handleStatusChange('confirmed')}\r\n                  className=\"w-full justify-start\"\r\n                  leftIcon={<CheckCircle className=\"w-4 h-4\" />}\r\n                >\r\n                  Confirmer\r\n                </Button>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => handleStatusChange('completed')}\r\n                  className=\"w-full justify-start\"\r\n                  leftIcon={<CheckCircle className=\"w-4 h-4\" />}\r\n                >\r\n                  Marquer comme terminé\r\n                </Button>\r\n                <Button\r\n                  variant=\"danger\"\r\n                  onClick={() => handleStatusChange('cancelled')}\r\n                  className=\"w-full justify-start\"\r\n                  leftIcon={<XCircle className=\"w-4 h-4\" />}\r\n                >\r\n                  Annuler\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'message':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <MessageSquare className=\"w-5 h-5\" />\r\n              Générer un message\r\n            </h3>\r\n            <p className=\"text-gray-600 dark:text-gray-400\">\r\n              Choisissez un type de message pour ouvrir l'assistant de rédaction :\r\n            </p>\r\n            <div className=\"grid grid-cols-1 gap-2\">\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'confirmation' })}\r\n                className=\"w-full justify-start\"\r\n              >\r\n                Message de confirmation\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'preparation' })}\r\n                className=\"w-full justify-start\"\r\n              >\r\n                Message de préparation\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'reminder-7' })}\r\n                className=\"w-full justify-start\"\r\n              >\r\n                Rappel J-7\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'reminder-2' })}\r\n                className=\"w-full justify-start\"\r\n              >\r\n                Rappel J-2\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'thanks' })}\r\n                className=\"w-full justify-start\"\r\n              >\r\n                Message de remerciement\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'host_request' })}\r\n                className=\"w-full justify-start\"\r\n              >\r\n                Demande d'accueil\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'feedback':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <Star className=\"w-5 h-5 text-yellow-500\" />\r\n              Bilan de la visite\r\n            </h3>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              Utilisez la modale de feedback pour évaluer cette visite.\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'expenses':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <CreditCard className=\"w-5 h-5 text-green-600\" />\r\n              Gestion des coûts\r\n            </h3>\r\n            \r\n            {isAddingExpense || editingExpense ? (\r\n              <ExpenseForm\r\n                initialData={editingExpense}\r\n                onSubmit={handleSaveExpense}\r\n                onCancel={() => {\r\n                  setIsAddingExpense(false);\r\n                  setEditingExpense(undefined);\r\n                }}\r\n              />\r\n            ) : (\r\n              <ExpenseList\r\n                expenses={formData.expenses || []}\r\n                onAdd={() => setIsAddingExpense(true)}\r\n                onEdit={setEditingExpense}\r\n                onDelete={handleDeleteExpense}\r\n                readOnly={isLoading}\r\n              />\r\n            )}\r\n          </div>\r\n        );\r\n\r\n\r\n\r\n      case 'logistics': {\r\n        const activeVisit = { ...visit, ...formData };\r\n        const acc = (activeVisit.logistics?.accommodation || {}) as Partial<Accommodation>;\r\n        const isHostType = (acc.type || 'host') === 'host';\r\n\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <Truck className=\"w-5 h-5 text-blue-600\" />\r\n              Logistique\r\n            </h3>\r\n            \r\n            <LogisticsManager\r\n              logistics={{\r\n                ...activeVisit.logistics,\r\n                accommodation: {\r\n                  ...acc,\r\n                  type: acc.type || 'host',\r\n                  name: isHostType ? (activeVisit.host || acc.name || '') : (acc.name || ''),\r\n                  address: isHostType ? (activeVisit.accommodation || acc.address || '') : (acc.address || ''),\r\n                }\r\n              }}\r\n              onUpdate={(updatedLogistics) => {\r\n                setFormData(prev => ({\r\n                  ...prev,\r\n                  logistics: updatedLogistics,\r\n                  // Sync back to top-level fields only if we are in host mode\r\n                  host: (updatedLogistics.accommodation?.type === 'host') \r\n                    ? (updatedLogistics.accommodation?.name || prev.host)\r\n                    : prev.host,\r\n                  accommodation: (updatedLogistics.accommodation?.type === 'host')\r\n                    ? (updatedLogistics.accommodation?.address || prev.accommodation)\r\n                    : prev.accommodation\r\n                }));\r\n              }}\r\n              readOnly={isLoading}\r\n              hosts={hosts}\r\n            />\r\n            \r\n            <div className=\"border-t pt-4 mt-4\">\r\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Documents</h4>\r\n              <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg\">\r\n                <RoadmapView \r\n                   visit={activeVisit} \r\n                   speaker={speakers.find(s => s.id === activeVisit.id)}\r\n                   host={hosts.find(h => h.nom === activeVisit.host)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => _setIsTravelModalOpen(true)}\r\n                leftIcon={<Truck className=\"w-4 h-4\" />}\r\n              >\r\n                Organiser le transport\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => _setIsMealModalOpen(true)}\r\n                leftIcon={<Utensils className=\"w-4 h-4\" />}\r\n              >\r\n                Planifier les repas\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => _setIsAccommodationModalOpen(true)}\r\n                leftIcon={<Home className=\"w-4 h-4\" />}\r\n              >\r\n                Gérer l'hébergement\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getFooter = () => {\r\n    switch (action) {\r\n      case 'edit':\r\n      case 'logistics':\r\n        return (\r\n          <>\r\n            <Button variant=\"ghost\" onClick={onClose} disabled={isLoading}>\r\n              Annuler\r\n            </Button>\r\n            <Button onClick={handleSave} isLoading={isLoading}>\r\n              Enregistrer\r\n            </Button>\r\n          </>\r\n        );\r\n      case 'delete':\r\n        return (\r\n          <>\r\n            <Button variant=\"ghost\" onClick={onClose} disabled={isLoading}>\r\n              Annuler\r\n            </Button>\r\n            <Button variant=\"danger\" onClick={handleDelete} isLoading={isLoading}>\r\n              Supprimer\r\n            </Button>\r\n          </>\r\n        );\r\n      case 'feedback':\r\n      case 'expenses':\r\n        return null;\r\n      case 'message':\r\n        return (\r\n          <Button variant=\"ghost\" onClick={onClose} disabled={isLoading}>\r\n            Fermer\r\n          </Button>\r\n        );\r\n      default:\r\n        return (\r\n          <Button variant=\"ghost\" onClick={onClose} disabled={isLoading}>\r\n            Fermer\r\n          </Button>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        size={action === 'logistics' ? 'xl' : 'md'}\r\n        footer={getFooter()}\r\n      >\r\n        {getModalContent()}\r\n      </Modal>\r\n\r\n      {_isTravelModalOpen && (\r\n        <TravelCoordinationModal\r\n          isOpen={_isTravelModalOpen}\r\n          onClose={() => _setIsTravelModalOpen(false)}\r\n          visit={visit}\r\n          onSave={() => {}}\r\n        />\r\n      )}\r\n\r\n      {_isMealModalOpen && (\r\n        <MealPlanningModal\r\n          isOpen={_isMealModalOpen}\r\n          onClose={() => _setIsMealModalOpen(false)}\r\n          visit={visit}\r\n          onSave={() => {}}\r\n        />\r\n      )}\r\n\r\n      {_isAccommodationModalOpen && (\r\n        <AccommodationMatchingModal\r\n          isOpen={_isAccommodationModalOpen}\r\n          onClose={() => _setIsAccommodationModalOpen(false)}\r\n          visit={visit}\r\n          onSelectHost={() => {}}\r\n        />\r\n      )}\r\n\r\n      {generatorParams.isOpen && (\r\n        <MessageGeneratorModal\r\n          isOpen={generatorParams.isOpen}\r\n          onClose={() => setGeneratorParams(prev => ({ ...prev, isOpen: false }))}\r\n          speaker={speakers.find(s => s.id === visit.id) || { id: visit.id, nom: visit.nom, congregation: visit.congregation || '', gender: 'male', talkHistory: [] }}\r\n          visit={visit}\r\n          initialType={generatorParams.type}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"],"names":["Building","createLucideIcon","Car","CheckSquare","CreditCard","DollarSign","Hotel","Map","Navigation","Plane","Printer","Share2","TramFront","Truck","Utensils","XCircle","ExpenseForm","initialData","onSubmit","onCancel","formData","setFormData","useState","handleSubmit","e","jsxs","jsx","Input","Button","ExpenseList","expenses","onAdd","onEdit","onDelete","readOnly","total","sum","exp","Plus","Fragment","expense","Edit2","Trash2","ItineraryView","itinerary","onUpdate","handleChange","field","value","openApp","app","query","url","Train","mode","Icon","label","Clock","MapPin","MapIcon","formatDateForInput","isoString","AccommodationView","accommodation","hosts","openMap","Home","type","selectedHost","h","host","Link","Checklist","items","newItemLabel","setNewItemLabel","isAdding","setIsAdding","handleToggle","id","updatedItems","item","handleDelete","handleAddItem","newItem","generateUUID","X","Check","LogisticsManager","logistics","activeTab","setActiveTab","updateItinerary","updateAccommodation","updateChecklist","checklist","tabs","TRANSPORT_MODES","Users","TravelCoordinationModal","isOpen","onClose","visit","onSave","visits","useData","transportMode","setTransportMode","departureTime","setDepartureTime","arrivalTime","setArrivalTime","departureLocation","setDepartureLocation","arrivalLocation","setArrivalLocation","distance","setDistance","duration","setDuration","estimatedCost","setEstimatedCost","selectedCarpoolPartners","setSelectedCarpoolPartners","notes","setNotes","mapLink","setMapLink","bookingReference","setBookingReference","potentialCarpoolPartners","useMemo","v","toggleCarpoolPartner","visitId","prev","calculateCostPerPerson","totalPeople","handleSave","travelPlan","Modal","Badge","partner","Card","CardBody","MEAL_TYPES","COMMON_RESTRICTIONS","COMMON_ALLERGIES","MealPlanningModal","meals","setMeals","dietaryRestrictions","setDietaryRestrictions","allergies","setAllergies","preferences","customRestriction","setCustomRestriction","customAllergy","setCustomAllergy","addMeal","mealType","m","newMeal","updateMeal","updates","meal","removeMeal","toggleRestriction","restriction","r","toggleAllergy","allergy","a","addCustomRestriction","addCustomAllergy","mealPlan","getTotalCost","getMealIcon","AlertCircle","t","AccommodationMatchingModal","_onSelectHost","module","require$$0","this","o","s","g","i","l","c","d","n","u","p","f","b","y","w","E","A","P","T","S","x","k","C","RoadmapView","speaker","componentRef","useRef","handlePrint","useReactToPrint","formatDate","dateString","format","parseISO","fr","Calendar","User","Phone","VisitActionModal","action","updateVisit","deleteVisit","completeVisit","speakers","addToast","useToast","isLoading","setIsLoading","isAddingExpense","setIsAddingExpense","editingExpense","setEditingExpense","_activeTab","_setActiveTab","_isTravelModalOpen","_setIsTravelModalOpen","_isMealModalOpen","_setIsMealModalOpen","_isAccommodationModalOpen","_setIsAccommodationModalOpen","generatorParams","setGeneratorParams","useEffect","confirm","useConfirm","handleStatusChange","newStatus","handleSaveExpense","expenseData","currentExpenses","newExpenses","updatedVisit","handleDeleteExpense","expenseId","confirmDelete","getModalContent","currentLogistics","newAccommodation","newAddress","CheckCircle","MessageSquare","Star","activeVisit","acc","isHostType","updatedLogistics","getFooter","MessageGeneratorModal"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,24]}