{"version":3,"file":"CommunicationProgress-2rVILIWn.js","sources":["../../node_modules/lucide-react/dist/esm/icons/check-circle-2.js","../../node_modules/lucide-react/dist/esm/icons/circle.js","../../src/components/messages/CommunicationProgress.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle2 = createLucideIcon(\"CheckCircle2\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { CheckCircle2 as default };\n//# sourceMappingURL=check-circle-2.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Circle = createLucideIcon(\"Circle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Circle as default };\n//# sourceMappingURL=circle.js.map\n","import React from 'react';\r\nimport { Visit } from '@/types';\r\nimport { CheckCircle2, Circle } from 'lucide-react';\r\n\r\ninterface CommunicationProgressProps {\r\n  visit: Visit;\r\n  showLabels?: boolean;\r\n  size?: 'sm' | 'md';\r\n}\r\n\r\nexport const CommunicationProgress: React.FC<CommunicationProgressProps> = ({\r\n  visit,\r\n  showLabels = false,\r\n  size = 'md'\r\n}) => {\r\n  // Définir les étapes de communication\r\n  const steps = [\r\n    { key: 'confirmation', label: 'Confirmation', role: 'speaker' },\r\n    { key: 'preparation', label: 'Préparation', role: 'speaker' },\r\n    { key: 'reminder-7', label: 'Rappel J-7', role: 'speaker' },\r\n    { key: 'reminder-2', label: 'Rappel J-2', role: 'speaker' },\r\n    { key: 'thanks', label: 'Remerciements', role: 'speaker' }\r\n  ];\r\n\r\n  // Calculer le nombre d'étapes complétées\r\n  const completedSteps = steps.filter(step => {\r\n    const stepData = visit.communicationStatus?.[step.key as keyof typeof visit.communicationStatus];\r\n    return stepData && (stepData as any)[step.role];\r\n  });\r\n\r\n  const totalSteps = steps.length;\r\n  const completedCount = completedSteps.length;\r\n  const progress = Math.round((completedCount / totalSteps) * 100);\r\n\r\n  const iconSize = size === 'sm' ? 'w-3 h-3' : 'w-4 h-4';\r\n  \r\n  // Classes Tailwind pour les différentes largeurs de progression\r\n  const getProgressWidthClass = (progress: number) => {\r\n    if (progress === 0) return 'w-0';\r\n    if (progress === 20) return 'w-1/5';\r\n    if (progress === 40) return 'w-2/5';\r\n    if (progress === 60) return 'w-3/5';\r\n    if (progress === 80) return 'w-4/5';\r\n    if (progress === 100) return 'w-full';\r\n    if (progress < 20) return 'w-[5%]';\r\n    if (progress < 40) return 'w-[25%]';\r\n    if (progress < 60) return 'w-[45%]';\r\n    if (progress < 80) return 'w-[65%]';\r\n    if (progress < 100) return 'w-[85%]';\r\n    return 'w-full';\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {/* Barre de progression */}\r\n      <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden\">\r\n        <div \r\n          className={`bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500 ease-out ${getProgressWidthClass(progress)}`}\r\n        />\r\n      </div>\r\n\r\n      {/* Texte de progression */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <p className={`text-gray-600 dark:text-gray-400 ${size === 'sm' ? 'text-xs' : 'text-sm'}`}>\r\n          {completedCount}/{totalSteps} étapes\r\n        </p>\r\n        <span className={`font-medium ${\r\n          progress === 100 \r\n            ? 'text-green-600 dark:text-green-400' \r\n            : progress > 50 \r\n            ? 'text-blue-600 dark:text-blue-400' \r\n            : 'text-gray-500 dark:text-gray-400'\r\n        } ${size === 'sm' ? 'text-xs' : 'text-sm'}`}>\r\n          {Math.round(progress)}%\r\n        </span>\r\n      </div>\r\n\r\n      {/* Liste détaillée des étapes (optionnel) */}\r\n      {showLabels && (\r\n        <div className=\"mt-3 grid grid-cols-2 gap-2\">\r\n          {steps.map((step) => {\r\n            const isCompleted = completedSteps.some(s => s.key === step.key);\r\n            return (\r\n              <div \r\n                key={step.key}\r\n                className={`flex items-center gap-2 text-xs ${\r\n                  isCompleted \r\n                    ? 'text-green-600 dark:text-green-400' \r\n                    : 'text-gray-400 dark:text-gray-600'\r\n                }`}\r\n              >\r\n                {isCompleted ? (\r\n                  <CheckCircle2 className={iconSize} />\r\n                ) : (\r\n                  <Circle className={iconSize} />\r\n                )}\r\n                <span>{step.label}</span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":["CheckCircle2","createLucideIcon","Circle","CommunicationProgress","visit","showLabels","size","steps","completedSteps","step","stepData","totalSteps","completedCount","progress","iconSize","getProgressWidthClass","jsxs","jsx","isCompleted","s"],"mappings":"+CASA,MAAMA,EAAeC,EAAiB,eAAgB,CACpD,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,gBAAiB,IAAK,QAAQ,CAAE,CAChD,CAAC,ECHD,MAAMC,EAASD,EAAiB,SAAU,CACxC,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,QAAQ,CAAE,CAC3D,CAAC,ECDYE,EAA8D,CAAC,CAC1E,MAAAC,EACA,WAAAC,EAAa,GACb,KAAAC,EAAO,IACT,IAAM,CAEJ,MAAMC,EAAQ,CACZ,CAAE,IAAK,eAAgB,MAAO,eAAgB,KAAM,SAAA,EACpD,CAAE,IAAK,cAAe,MAAO,cAAe,KAAM,SAAA,EAClD,CAAE,IAAK,aAAc,MAAO,aAAc,KAAM,SAAA,EAChD,CAAE,IAAK,aAAc,MAAO,aAAc,KAAM,SAAA,EAChD,CAAE,IAAK,SAAU,MAAO,gBAAiB,KAAM,SAAA,CAAU,EAIrDC,EAAiBD,EAAM,OAAOE,GAAQ,CAC1C,MAAMC,EAAWN,EAAM,sBAAsBK,EAAK,GAA6C,EAC/F,OAAOC,GAAaA,EAAiBD,EAAK,IAAI,CAChD,CAAC,EAEKE,EAAaJ,EAAM,OACnBK,EAAiBJ,EAAe,OAChCK,EAAW,KAAK,MAAOD,EAAiBD,EAAc,GAAG,EAEzDG,EAAWR,IAAS,KAAO,UAAY,UAGvCS,EAAyBF,GACzBA,IAAa,EAAU,MACvBA,IAAa,GAAW,QACxBA,IAAa,GAAW,QACxBA,IAAa,GAAW,QACxBA,IAAa,GAAW,QACxBA,IAAa,IAAY,SACzBA,EAAW,GAAW,SACtBA,EAAW,GAAW,UACtBA,EAAW,GAAW,UACtBA,EAAW,GAAW,UACtBA,EAAW,IAAY,UACpB,SAGT,OACEG,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,uEACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAW,sGAAsGF,EAAsBF,CAAQ,CAAC,EAAA,CAAA,EAEpJ,EAGAG,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,KAAE,UAAW,oCAAoCV,IAAS,KAAO,UAAY,SAAS,GACpF,SAAA,CAAAM,EAAe,IAAED,EAAW,SAAA,EAC/B,SACC,OAAA,CAAK,UAAW,eACfE,IAAa,IACT,qCACAA,EAAW,GACX,mCACA,kCACN,IAAIP,IAAS,KAAO,UAAY,SAAS,GACtC,SAAA,CAAA,KAAK,MAAMO,CAAQ,EAAE,GAAA,CAAA,CACxB,CAAA,EACF,EAGCR,SACE,MAAA,CAAI,UAAU,8BACZ,SAAAE,EAAM,IAAKE,GAAS,CACnB,MAAMS,EAAcV,EAAe,QAAUW,EAAE,MAAQV,EAAK,GAAG,EAC/D,OACEO,EAAAA,KAAC,MAAA,CAEC,UAAW,mCACTE,EACI,qCACA,kCACN,GAEC,SAAA,CAAAA,EACCD,EAAAA,IAACjB,GAAa,UAAWc,CAAA,CAAU,EAEnCG,EAAAA,IAACf,EAAA,CAAO,UAAWY,CAAA,CAAU,EAE/BG,EAAAA,IAAC,OAAA,CAAM,SAAAR,EAAK,KAAA,CAAM,CAAA,CAAA,EAZbA,EAAK,GAAA,CAehB,CAAC,CAAA,CACH,CAAA,EAEJ,CAEJ","x_google_ignoreList":[0,1]}