import {
  c as B,
  j as e,
  B as f,
  P as be,
  C as Le,
  n as _e,
  H as me,
  X as Oe,
  q as Ne,
  u as Ee,
  k as ve,
  U as Ye,
  i as xe,
  f as fe,
  g as je,
  A as We,
  m as de,
  l as Xe,
  a as Ke,
  r as Te,
  M as Qe,
} from './index-D4MkNNtG.js';
import { r as j } from './charts-CCOFnOOy.js';
import { I as X, M as le, U as He, P as Ze } from './Select-Cs8xHSai.js';
import { S as Je, T as Ae } from './trash-2-avPRzuE0.js';
import { f as pe, p as ke } from './utils-FTT-aY8U.js';
import { C as Se, S as Fe, F as et } from './FeedbackFormModal-D34kdZHa.js';
import { C as we } from './copy-DwuKvwjM.js';
import { L as tt } from './link-BcWZK_UP.js';
import { C as rt, M as st } from './MessageGeneratorModal-DsejHfJr.js';
import { r as at } from './react-vendor-B9D_A6Vq.js';
const nt = B('Building', [
  ['rect', { width: '16', height: '20', x: '4', y: '2', rx: '2', ry: '2', key: '76otgf' }],
  ['path', { d: 'M9 22v-4h6v4', key: 'r93iot' }],
  ['path', { d: 'M8 6h.01', key: '1dz90k' }],
  ['path', { d: 'M16 6h.01', key: '1x0f13' }],
  ['path', { d: 'M12 6h.01', key: '1vi96p' }],
  ['path', { d: 'M12 10h.01', key: '1nrarc' }],
  ['path', { d: 'M12 14h.01', key: '1etili' }],
  ['path', { d: 'M16 10h.01', key: '1m94wz' }],
  ['path', { d: 'M16 14h.01', key: '1gbofw' }],
  ['path', { d: 'M8 10h.01', key: '19clt8' }],
  ['path', { d: 'M8 14h.01', key: '6423bh' }],
]);
const qe = B('CheckSquare', [
  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],
  ['path', { d: 'M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11', key: '1jnkn4' }],
]);
const lt = B('CreditCard', [
  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' }],
  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],
]);
const it = B('DollarSign', [
  ['line', { x1: '12', x2: '12', y1: '2', y2: '22', key: '7eqyqh' }],
  ['path', { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6', key: '1b0p4s' }],
]);
const ot = B('Euro', [
  ['path', { d: 'M4 10h12', key: '1y6xl8' }],
  ['path', { d: 'M4 14h9', key: '1loblj' }],
  [
    'path',
    {
      d: 'M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2',
      key: '1j6lzo',
    },
  ],
]);
const Me = B('Hotel', [
  [
    'path',
    {
      d: 'M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z',
      key: 'p9z69c',
    },
  ],
  ['path', { d: 'm9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16', key: '1bvcvh' }],
  ['path', { d: 'M8 7h.01', key: '1vti4s' }],
  ['path', { d: 'M16 7h.01', key: '1kdx03' }],
  ['path', { d: 'M12 7h.01', key: '1ivr5q' }],
  ['path', { d: 'M12 11h.01', key: 'z322tv' }],
  ['path', { d: 'M16 11h.01', key: 'xkw8gn' }],
  ['path', { d: 'M8 11h.01', key: '1dfujw' }],
  ['path', { d: 'M10 22v-6.5m4 0V22', key: '16gs4s' }],
]);
const ze = B('Map', [
  ['polygon', { points: '3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21', key: 'ok2ie8' }],
  ['line', { x1: '9', x2: '9', y1: '3', y2: '18', key: 'w34qz5' }],
  ['line', { x1: '15', x2: '15', y1: '6', y2: '21', key: 'volv9a' }],
]);
const Ie = B('Navigation', [['polygon', { points: '3 11 22 2 13 21 11 13 3 11', key: '1ltx0t' }]]);
const Ve = B('Pen', [
  ['path', { d: 'M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z', key: '5qss01' }],
]);
const Ge = B('Plane', [
  [
    'path',
    {
      d: 'M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z',
      key: '1v9wt8',
    },
  ],
]);
const ct = B('Printer', [
  ['polyline', { points: '6 9 6 2 18 2 18 9', key: '1306q4' }],
  [
    'path',
    {
      d: 'M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2',
      key: '143wyd',
    },
  ],
  ['rect', { width: '12', height: '8', x: '6', y: '14', key: '5ipwut' }],
]);
const dt = B('Share2', [
  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],
  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],
  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],
  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],
  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],
]);
const mt = B('Tag', [
  [
    'path',
    {
      d: 'M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z',
      key: '14b2ls',
    },
  ],
  ['path', { d: 'M7 7h.01', key: '7u93v4' }],
]);
const $e = B('TramFront', [
  ['rect', { width: '16', height: '16', x: '4', y: '3', rx: '2', key: '1wxw4b' }],
  ['path', { d: 'M4 11h16', key: 'mpoxn0' }],
  ['path', { d: 'M12 3v8', key: '1h2ygw' }],
  ['path', { d: 'm8 19-2 3', key: '13i0xs' }],
  ['path', { d: 'm18 22-2-3', key: '1p0ohu' }],
  ['path', { d: 'M8 15h0', key: 'q9eq1f' }],
  ['path', { d: 'M16 15h0', key: 'pzrbjg' }],
]);
const Ce = B('Truck', [
  ['path', { d: 'M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11', key: 'hs4xqm' }],
  ['path', { d: 'M14 9h4l4 4v4c0 .6-.4 1-1 1h-2', key: '11fp61' }],
  ['circle', { cx: '7', cy: '18', r: '2', key: '19iecd' }],
  ['path', { d: 'M15 18H9', key: '1lyqi6' }],
  ['circle', { cx: '17', cy: '18', r: '2', key: '332jqn' }],
]);
const he = B('Utensils', [
  ['path', { d: 'M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2', key: 'cjf0a3' }],
  ['path', { d: 'M7 2v20', key: '1473qp' }],
  ['path', { d: 'M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7', key: '1ogz0v' }],
]);
const ge = B('XCircle', [
    ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],
    ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],
    ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],
  ]),
  Pe = ['Transport', 'Hébergement', 'Repas', 'Matériel', 'Autre'],
  gt = ({ onSubmit: t, onCancel: h, initialData: r, currency: x = '€' }) => {
    const [p, n] = j.useState(r?.description || ''),
      [a, g] = j.useState(r?.amount?.toString() || ''),
      [D, o] = j.useState(r?.date || new Date().toISOString().split('T')[0]),
      [k, w] = j.useState(r?.category || Pe[0]),
      _ = (E) => {
        (E.preventDefault(),
          !(!p || !a || !D) && t({ description: p, amount: parseFloat(a), date: D, category: k }));
      };
    return e.jsxs('form', {
      onSubmit: _,
      className:
        'space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700',
      children: [
        e.jsxs('div', {
          className: 'grid grid-cols-1 sm:grid-cols-2 gap-4',
          children: [
            e.jsxs('div', {
              children: [
                e.jsx('label', {
                  className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1',
                  children: 'Description *',
                }),
                e.jsx('input', {
                  type: 'text',
                  value: p,
                  onChange: (E) => n(E.target.value),
                  className:
                    'w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm',
                  placeholder: 'Ex: Billet de train...',
                  required: !0,
                  autoFocus: !0,
                }),
              ],
            }),
            e.jsxs('div', {
              children: [
                e.jsx('label', {
                  className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1',
                  children: 'Catégorie',
                }),
                e.jsx('select', {
                  value: k,
                  onChange: (E) => w(E.target.value),
                  className:
                    'w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm',
                  title: 'Catégorie de la dépense',
                  children: Pe.map((E) => e.jsx('option', { value: E, children: E }, E)),
                }),
              ],
            }),
            e.jsxs('div', {
              children: [
                e.jsxs('label', {
                  className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1',
                  children: ['Montant (', x, ') *'],
                }),
                e.jsx('input', {
                  type: 'number',
                  step: '0.01',
                  min: '0',
                  value: a,
                  onChange: (E) => g(E.target.value),
                  className:
                    'w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm',
                  required: !0,
                  title: 'Montant de la dépense',
                  placeholder: '0.00',
                }),
              ],
            }),
            e.jsxs('div', {
              children: [
                e.jsx('label', {
                  className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1',
                  children: 'Date *',
                }),
                e.jsx('input', {
                  type: 'date',
                  value: D,
                  onChange: (E) => o(E.target.value),
                  className:
                    'w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm',
                  required: !0,
                  title: 'Date de la dépense',
                }),
              ],
            }),
          ],
        }),
        e.jsxs('div', {
          className: 'flex justify-end gap-2 pt-2',
          children: [
            e.jsx(f, { variant: 'ghost', onClick: h, type: 'button', children: 'Annuler' }),
            e.jsx(f, {
              variant: 'primary',
              type: 'submit',
              leftIcon: e.jsx(Je, { className: 'w-4 h-4' }),
              children: 'Enregistrer',
            }),
          ],
        }),
      ],
    });
  },
  ut = ({
    expenses: t = [],
    onAdd: h,
    onEdit: r,
    onDelete: x,
    currency: p = '€',
    readOnly: n = !1,
  }) => {
    const a = j.useMemo(() => t.reduce((g, D) => g + D.amount, 0), [t]);
    return t.length === 0 && n
      ? e.jsx('div', {
          className: 'text-center py-8 text-gray-500 dark:text-gray-400',
          children: 'Aucune dépense enregistrée.',
        })
      : e.jsxs('div', {
          className: 'space-y-4',
          children: [
            e.jsxs('div', {
              className:
                'flex items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700',
              children: [
                e.jsxs('div', {
                  children: [
                    e.jsx('p', {
                      className: 'text-sm text-gray-500 dark:text-gray-400',
                      children: 'Total des dépenses',
                    }),
                    e.jsxs('p', {
                      className: 'text-2xl font-bold text-gray-900 dark:text-white',
                      children: [a.toFixed(2), ' ', p],
                    }),
                  ],
                }),
                !n &&
                  e.jsx(f, {
                    onClick: h,
                    variant: 'primary',
                    leftIcon: e.jsx(be, { className: 'w-4 h-4' }),
                    children: 'Ajouter une dépense',
                  }),
              ],
            }),
            e.jsx('div', {
              className: 'space-y-2',
              children:
                t.length === 0
                  ? e.jsxs('div', {
                      className:
                        'text-center py-8 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-dashed border-gray-300 dark:border-gray-700',
                      children: [
                        e.jsx(ot, { className: 'w-10 h-10 mx-auto text-gray-400 mb-2' }),
                        e.jsx('p', {
                          className: 'text-gray-500 dark:text-gray-400',
                          children: 'Aucune dépense pour le moment',
                        }),
                        !n &&
                          e.jsx(f, {
                            onClick: h,
                            variant: 'ghost',
                            className: 'mt-2 text-primary-600',
                            children: 'Commencer à ajouter',
                          }),
                      ],
                    })
                  : t.map((g) =>
                      e.jsxs(
                        'div',
                        {
                          className:
                            'flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-100 dark:border-gray-700 hover:shadow-sm transition-shadow',
                          children: [
                            e.jsxs('div', {
                              className: 'flex-1 min-w-0',
                              children: [
                                e.jsxs('div', {
                                  className: 'flex items-center gap-2 mb-1',
                                  children: [
                                    e.jsx('span', {
                                      className:
                                        'font-medium text-gray-900 dark:text-white truncate',
                                      children: g.description,
                                    }),
                                    g.category &&
                                      e.jsxs('span', {
                                        className:
                                          'inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200',
                                        children: [
                                          e.jsx(mt, { className: 'w-3 h-3 mr-1' }),
                                          g.category,
                                        ],
                                      }),
                                  ],
                                }),
                                e.jsxs('div', {
                                  className:
                                    'flex items-center text-xs text-gray-500 dark:text-gray-400',
                                  children: [
                                    e.jsx(Le, { className: 'w-3 h-3 mr-1' }),
                                    pe(new Date(g.date), 'dd MMMM yyyy', { locale: _e }),
                                  ],
                                }),
                              ],
                            }),
                            e.jsxs('div', {
                              className: 'flex items-center gap-4',
                              children: [
                                e.jsxs('span', {
                                  className: 'font-semibold text-gray-900 dark:text-white',
                                  children: [g.amount.toFixed(2), ' ', p],
                                }),
                                !n &&
                                  e.jsxs('div', {
                                    className: 'flex items-center gap-1',
                                    children: [
                                      e.jsx('button', {
                                        onClick: () => r(g),
                                        className:
                                          'p-1 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors',
                                        title: 'Modifier',
                                        children: e.jsx(Ve, { className: 'w-4 h-4' }),
                                      }),
                                      e.jsx('button', {
                                        onClick: () => x(g.id),
                                        className:
                                          'p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors',
                                        title: 'Supprimer',
                                        children: e.jsx(Ae, { className: 'w-4 h-4' }),
                                      }),
                                    ],
                                  }),
                              ],
                            }),
                          ],
                        },
                        g.id
                      )
                    ),
            }),
          ],
        });
  },
  Be = j.memo(ut);
Be.displayName = 'ExpenseList';
const xt = ({ itinerary: t, onUpdate: h, readOnly: r = !1 }) => {
    const x = (n, a) => {
        h({ ...t, [n]: a });
      },
      p = (n) => {
        const a = encodeURIComponent(t.meetingPoint || '');
        if (!a) return;
        const g =
          n === 'waze'
            ? `https://waze.com/ul?q=${a}&navigate=yes`
            : `https://www.google.com/maps/search/?api=1&query=${a}`;
        window.open(g, '_blank');
      };
    return e.jsxs('div', {
      className: 'space-y-6',
      children: [
        e.jsx('div', {
          className: 'flex gap-4',
          children: [
            { mode: 'car', icon: Se, label: 'Voiture' },
            { mode: 'train', icon: $e, label: 'Train' },
            { mode: 'plane', icon: Ge, label: 'Avion' },
          ].map(({ mode: n, icon: a, label: g }) =>
            e.jsxs(
              'button',
              {
                type: 'button',
                onClick: () => x('transportMode', n),
                className: `flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all ${t.transportMode === n ? 'border-primary bg-primary/5 text-primary' : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-500'}`,
                disabled: r,
                children: [
                  e.jsx(a, { className: 'w-6 h-6 mb-2' }),
                  e.jsx('span', { className: 'text-sm font-medium', children: g }),
                ],
              },
              n
            )
          ),
        }),
        e.jsxs('div', {
          className: 'grid grid-cols-2 gap-4',
          children: [
            e.jsx(X, {
              label: 'Distance (km)',
              type: 'number',
              value: t.distance?.toString() || '',
              onChange: (n) => x('distance', n.target.value ? parseFloat(n.target.value) : void 0),
              disabled: r,
              leftIcon: e.jsx(Ie, { className: 'w-4 h-4' }),
            }),
            e.jsx(X, {
              label: 'Durée estimée',
              placeholder: 'ex: 1h 30m',
              value: t.duration?.toString() || '',
              onChange: (n) => x('duration', n.target.value),
              disabled: r,
              leftIcon: e.jsx(we, { className: 'w-4 h-4' }),
            }),
          ],
        }),
        e.jsxs('div', {
          className: 'space-y-4',
          children: [
            e.jsx(X, {
              label: 'Point de rendez-vous / Adresse',
              value: t.meetingPoint || '',
              onChange: (n) => x('meetingPoint', n.target.value),
              disabled: r,
              leftIcon: e.jsx(le, { className: 'w-4 h-4' }),
            }),
            t.meetingPoint &&
              e.jsxs('div', {
                className: 'flex gap-2',
                children: [
                  e.jsx(f, {
                    variant: 'outline',
                    className: 'flex-1',
                    onClick: () => p('google'),
                    leftIcon: e.jsx(ze, { className: 'w-4 h-4' }),
                    children: 'Google Maps',
                  }),
                  e.jsx(f, {
                    variant: 'outline',
                    className: 'flex-1',
                    onClick: () => p('waze'),
                    leftIcon: e.jsx(Ie, { className: 'w-4 h-4' }),
                    children: 'Waze',
                  }),
                ],
              }),
          ],
        }),
        e.jsxs('div', {
          children: [
            e.jsx('label', {
              className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1',
              children: 'Notes de voyage',
            }),
            e.jsx('textarea', {
              value: t.notes || '',
              onChange: (n) => x('notes', n.target.value),
              disabled: r,
              className:
                'w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-primary focus:border-primary p-3 min-h-[100px]',
              placeholder: 'Informations supplémentaires...',
            }),
          ],
        }),
      ],
    });
  },
  De = (t) => (t ? t.slice(0, 16) : ''),
  pt = ({ accommodation: t, onUpdate: h, readOnly: r = !1, hosts: x = [] }) => {
    const p = (a, g) => {
        h({ ...t, [a]: g });
      },
      n = () => {
        const a = encodeURIComponent(t.address || t.name || '');
        a && window.open(`https://www.google.com/maps/search/?api=1&query=${a}`, '_blank');
      };
    return e.jsxs('div', {
      className: 'space-y-6',
      children: [
        e.jsx('div', {
          className: 'flex gap-4',
          children: [
            { type: 'host', icon: me, label: "Chez l'habitant" },
            { type: 'hotel', icon: nt, label: 'Hôtel' },
          ].map(({ type: a, icon: g, label: D }) =>
            e.jsxs(
              'button',
              {
                onClick: () => !r && p('type', a),
                className: `flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all ${t.type === a ? 'border-primary bg-primary/5 text-primary' : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-500'}`,
                disabled: r,
                children: [
                  e.jsx(g, { className: 'w-6 h-6 mb-2' }),
                  e.jsx('span', { className: 'text-sm font-medium', children: D }),
                ],
              },
              a
            )
          ),
        }),
        e.jsxs('div', {
          className: 'space-y-4',
          children: [
            t.type === 'hotel'
              ? e.jsx(X, {
                  label: "Nom de l'hôtel",
                  value: t.name || '',
                  onChange: (a) => p('name', a.target.value),
                  disabled: r,
                  placeholder: 'Ex: Hôtel de la Gare',
                })
              : e.jsxs('div', {
                  children: [
                    e.jsx('label', {
                      className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                      children: "Nom de l'hôte",
                    }),
                    e.jsxs('select', {
                      value: t.name || '',
                      onChange: (a) => {
                        const g = x.find((D) => D.nom === a.target.value);
                        h({ ...t, name: a.target.value, address: g?.address || t.address || '' });
                      },
                      disabled: r,
                      title: 'Sélectionner un hôte',
                      className:
                        'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                      children: [
                        e.jsx('option', { value: '', children: 'Sélectionner un hôte...' }),
                        x.map((a) => e.jsx('option', { value: a.nom, children: a.nom }, a.nom)),
                      ],
                    }),
                  ],
                }),
            e.jsxs('div', {
              className: 'flex gap-2 items-end',
              children: [
                e.jsx('div', {
                  className: 'flex-1',
                  children: e.jsx(X, {
                    label: 'Adresse',
                    value: t.address || '',
                    onChange: (a) => p('address', a.target.value),
                    disabled: r,
                    leftIcon: e.jsx(le, { className: 'w-4 h-4' }),
                  }),
                }),
                t.address &&
                  e.jsx(f, {
                    variant: 'outline',
                    className: 'mb-[2px]',
                    onClick: n,
                    leftIcon: e.jsx(le, { className: 'w-4 h-4' }),
                    children: 'Voir',
                  }),
              ],
            }),
            e.jsxs('div', {
              className: 'grid grid-cols-2 gap-4',
              children: [
                e.jsx(X, {
                  label: 'Arrivée (Check-in)',
                  type: 'datetime-local',
                  value: De(t.checkIn),
                  onChange: (a) => p('checkIn', a.target.value),
                  disabled: r,
                }),
                e.jsx(X, {
                  label: 'Départ (Check-out)',
                  type: 'datetime-local',
                  value: De(t.checkOut),
                  onChange: (a) => p('checkOut', a.target.value),
                  disabled: r,
                }),
              ],
            }),
            t.type === 'hotel' &&
              e.jsx(X, {
                label: 'Référence réservation',
                value: t.bookingReference || '',
                onChange: (a) => p('bookingReference', a.target.value),
                disabled: r,
                leftIcon: e.jsx(tt, { className: 'w-4 h-4' }),
              }),
            e.jsxs('div', {
              children: [
                e.jsx('label', {
                  className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1',
                  children: 'Notes / Instructions',
                }),
                e.jsx('textarea', {
                  value: t.notes || '',
                  onChange: (a) => p('notes', a.target.value),
                  disabled: r,
                  className:
                    'w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-primary focus:border-primary p-3 min-h-[100px]',
                  placeholder: "Codes d'accès, petit-déjeuner, etc.",
                }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  ht = ({ items: t = [], onUpdate: h }) => {
    const [r, x] = j.useState(''),
      [p, n] = j.useState(!1),
      a = (o) => {
        const k = t.map((w) => (w.id === o ? { ...w, isCompleted: !w.isCompleted } : w));
        h(k);
      },
      g = (o) => {
        const k = t.filter((w) => w.id !== o);
        h(k);
      },
      D = (o) => {
        if ((o?.preventDefault(), !r.trim())) return;
        const k = { id: Ne(), label: r.trim(), isCompleted: !1 };
        (h([...t, k]), x(''), n(!1));
      };
    return e.jsxs('div', {
      className: 'space-y-4',
      children: [
        e.jsxs('div', {
          className: 'flex items-center justify-between mb-2',
          children: [
            e.jsxs('h4', {
              className: 'text-sm font-medium text-gray-700 dark:text-gray-300',
              children: [
                'Liste des tâches (',
                t.filter((o) => o.isCompleted).length,
                '/',
                t.length,
                ')',
              ],
            }),
            e.jsxs(f, {
              size: 'sm',
              variant: 'ghost',
              onClick: () => n(!p),
              className: 'text-primary hover:text-primary/80 p-0 h-auto',
              children: [e.jsx(be, { className: 'w-4 h-4 mr-1' }), 'Ajouter'],
            }),
          ],
        }),
        p &&
          e.jsxs('form', {
            onSubmit: D,
            className:
              'flex gap-2 items-center mb-4 animate-in fade-in slide-in-from-top-2 duration-200',
            children: [
              e.jsx(X, {
                autoFocus: !0,
                value: r,
                onChange: (o) => x(o.target.value),
                placeholder: 'Nouvelle tâche...',
                className: 'flex-1 h-9 text-sm',
              }),
              e.jsx(f, { type: 'submit', size: 'sm', disabled: !r.trim(), children: 'Ajouter' }),
              e.jsx(f, {
                type: 'button',
                variant: 'ghost',
                size: 'sm',
                onClick: () => n(!1),
                leftIcon: e.jsx(Oe, { className: 'w-4 h-4' }),
              }),
            ],
          }),
        e.jsx('div', {
          className: 'space-y-2',
          children:
            t.length === 0 && !p
              ? e.jsxs('div', {
                  className:
                    'text-center py-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg',
                  children: [
                    e.jsx('p', {
                      className: 'text-sm text-gray-500',
                      children: 'Aucune tâche pour le moment',
                    }),
                    e.jsx(f, {
                      variant: 'ghost',
                      size: 'sm',
                      onClick: () => n(!0),
                      children: 'Commencer une liste',
                    }),
                  ],
                })
              : t.map((o) =>
                  e.jsxs(
                    'div',
                    {
                      className: `flex items-center group p-2 rounded-lg transition-colors hover:bg-gray-50 dark:hover:bg-gray-800/50 ${o.isCompleted ? 'opacity-75' : ''}`,
                      children: [
                        e.jsx('button', {
                          onClick: () => a(o.id),
                          className: `flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center mr-3 transition-colors ${o.isCompleted ? 'bg-green-500 border-green-500 text-white' : 'border-gray-300 dark:border-gray-600 hover:border-green-500'}`,
                          children: o.isCompleted && e.jsx(rt, { className: 'w-3.5 h-3.5' }),
                        }),
                        e.jsx('span', {
                          className: `flex-1 text-sm transition-all ${o.isCompleted ? 'text-gray-400 line-through' : 'text-gray-700 dark:text-gray-200'}`,
                          children: o.label,
                        }),
                        e.jsx('button', {
                          onClick: () => g(o.id),
                          className:
                            'opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-opacity',
                          title: 'Supprimer',
                          children: e.jsx(Ae, { className: 'w-4 h-4' }),
                        }),
                      ],
                    },
                    o.id
                  )
                ),
        }),
      ],
    });
  },
  yt = ({ logistics: t = {}, onUpdate: h, readOnly: r = !1, hosts: x = [] }) => {
    const [p, n] = j.useState('itinerary'),
      a = (k) => {
        h({ ...t, itinerary: k });
      },
      g = (k) => {
        h({ ...t, accommodation: k });
      },
      D = (k) => {
        h({ ...t, checklist: k });
      },
      o = [
        { id: 'itinerary', label: 'Trajet', icon: ze },
        { id: 'accommodation', label: 'Hébergement', icon: me },
        { id: 'checklist', label: 'Tâches', icon: qe },
      ];
    return e.jsxs('div', {
      className: 'flex flex-col h-full',
      children: [
        e.jsx('div', {
          className: 'flex border-b border-gray-200 dark:border-gray-700 mb-6',
          children: o.map(({ id: k, label: w, icon: _ }) =>
            e.jsxs(
              'button',
              {
                onClick: () => n(k),
                className: `flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${p === k ? 'border-primary text-primary' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}`,
                children: [e.jsx(_, { className: 'w-4 h-4' }), w],
              },
              k
            )
          ),
        }),
        e.jsxs('div', {
          className: 'flex-1 overflow-y-auto min-h-[400px]',
          children: [
            p === 'itinerary' &&
              e.jsx(xt, {
                itinerary: t.itinerary || { transportMode: 'car' },
                onUpdate: a,
                readOnly: r,
              }),
            p === 'accommodation' &&
              e.jsx(pt, {
                accommodation: t.accommodation || { type: 'host', name: '' },
                onUpdate: g,
                readOnly: r,
                hosts: x,
              }),
            p === 'checklist' && e.jsx(ht, { items: t.checklist || [], onUpdate: D }),
          ],
        }),
      ],
    });
  },
  bt = [
    { value: 'car', label: 'Voiture personnelle', icon: Se, color: 'blue' },
    { value: 'carpool', label: 'Covoiturage', icon: Ye, color: 'green' },
    { value: 'train', label: 'Train', icon: $e, color: 'purple' },
    { value: 'plane', label: 'Avion', icon: Ge, color: 'orange' },
    { value: 'other', label: 'Autre', icon: le, color: 'gray' },
  ],
  ft = ({ isOpen: t, onClose: h, visit: r, onSave: x }) => {
    const { visits: p } = Ee(),
      [n, a] = j.useState('car'),
      [g, D] = j.useState(''),
      [o, k] = j.useState(''),
      [w, _] = j.useState(''),
      [E, K] = j.useState(''),
      [y, C] = j.useState(),
      [S, l] = j.useState(''),
      [i, N] = j.useState(),
      [T, q] = j.useState([]),
      [O, M] = j.useState(''),
      [z, H] = j.useState(''),
      [R, s] = j.useState(''),
      d = j.useMemo(
        () =>
          p
            .filter(
              (c) =>
                c.visitDate === r.visitDate && c.visitId !== r.visitId && c.status !== 'cancelled'
            )
            .map((c) => ({
              visitId: c.visitId,
              speakerId: c.id,
              speakerName: c.nom,
              congregation: c.congregation,
              time: c.visitTime,
            })),
        [p, r]
      ),
      F = (c) => {
        q((ee) => (ee.includes(c) ? ee.filter((ie) => ie !== c) : [...ee, c]));
      },
      V = () => {
        if (!i) return 0;
        const c = 1 + T.length;
        return (i / c).toFixed(2);
      },
      te = () => {
        const c = {
          visitId: r.visitId,
          transportMode: n,
          departureTime: g || void 0,
          arrivalTime: o || void 0,
          departureLocation: w || void 0,
          arrivalLocation: E || void 0,
          distance: y || void 0,
          duration: S || void 0,
          estimatedCost: i || void 0,
          carpoolPartners: n === 'carpool' ? T : void 0,
          notes: O || void 0,
          mapLink: z || void 0,
          bookingReference: R || void 0,
        };
        (x(c), h());
      };
    return e.jsx(ve, {
      isOpen: t,
      onClose: h,
      title: 'Coordination du voyage',
      size: 'lg',
      children: e.jsxs('div', {
        className: 'space-y-6',
        children: [
          e.jsxs('div', {
            className:
              'p-4 bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 rounded-lg',
            children: [
              e.jsx('h4', {
                className: 'font-semibold text-gray-900 dark:text-white mb-1',
                children: r.nom,
              }),
              e.jsxs('p', {
                className: 'text-sm text-gray-600 dark:text-gray-400',
                children: [
                  new Date(r.visitDate).toLocaleDateString('fr-FR', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long',
                  }),
                  ' à ',
                  r.visitTime,
                ],
              }),
            ],
          }),
          e.jsxs('div', {
            children: [
              e.jsx('label', {
                className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3',
                children: 'Mode de transport',
              }),
              e.jsx('div', {
                className: 'grid grid-cols-2 md:grid-cols-3 gap-3',
                children: bt.map((c) =>
                  e.jsxs(
                    'button',
                    {
                      onClick: () => a(c.value),
                      className: `p-4 rounded-lg border-2 transition-all ${n === c.value ? 'border-primary-500 bg-primary-50 dark:bg-primary-900/20' : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'}`,
                      children: [
                        e.jsx(c.icon, {
                          className: `w-6 h-6 mx-auto mb-2 ${n === c.value ? 'text-primary-600' : 'text-gray-400'}`,
                        }),
                        e.jsx('div', {
                          className: 'text-sm font-medium text-gray-900 dark:text-white',
                          children: c.label,
                        }),
                      ],
                    },
                    c.value
                  )
                ),
              }),
            ],
          }),
          e.jsxs('div', {
            className: 'grid grid-cols-2 gap-4',
            children: [
              e.jsxs('div', {
                children: [
                  e.jsxs('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                    children: [e.jsx(we, { className: 'w-4 h-4 inline mr-1' }), 'Heure de départ'],
                  }),
                  e.jsx('input', {
                    type: 'time',
                    value: g,
                    onChange: (c) => D(c.target.value),
                    'aria-label': 'Heure de départ',
                    className:
                      'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                ],
              }),
              e.jsxs('div', {
                children: [
                  e.jsxs('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                    children: [e.jsx(we, { className: 'w-4 h-4 inline mr-1' }), "Heure d'arrivée"],
                  }),
                  e.jsx('input', {
                    type: 'time',
                    value: o,
                    onChange: (c) => k(c.target.value),
                    'aria-label': "Heure d'arrivée",
                    className:
                      'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                ],
              }),
            ],
          }),
          e.jsxs('div', {
            className: 'grid grid-cols-2 gap-4',
            children: [
              e.jsxs('div', {
                children: [
                  e.jsxs('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                    children: [e.jsx(le, { className: 'w-4 h-4 inline mr-1' }), 'Lieu de départ'],
                  }),
                  e.jsx('input', {
                    type: 'text',
                    value: w,
                    onChange: (c) => _(c.target.value),
                    placeholder: 'Adresse de départ',
                    className:
                      'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                ],
              }),
              e.jsxs('div', {
                children: [
                  e.jsxs('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                    children: [e.jsx(le, { className: 'w-4 h-4 inline mr-1' }), "Lieu d'arrivée"],
                  }),
                  e.jsx('input', {
                    type: 'text',
                    value: E,
                    onChange: (c) => K(c.target.value),
                    placeholder: "Adresse d'arrivée",
                    className:
                      'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                ],
              }),
            ],
          }),
          e.jsxs('div', {
            className: 'grid grid-cols-2 gap-4',
            children: [
              e.jsxs('div', {
                children: [
                  e.jsx('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                    children: 'Distance (km)',
                  }),
                  e.jsx('input', {
                    type: 'number',
                    value: y || '',
                    onChange: (c) => C(c.target.value ? Number(c.target.value) : void 0),
                    placeholder: '150',
                    className:
                      'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                ],
              }),
              e.jsxs('div', {
                children: [
                  e.jsx('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                    children: 'Durée estimée',
                  }),
                  e.jsx('input', {
                    type: 'text',
                    value: S,
                    onChange: (c) => l(c.target.value),
                    placeholder: '2h 30min',
                    className:
                      'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                ],
              }),
            ],
          }),
          e.jsxs('div', {
            children: [
              e.jsxs('label', {
                className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                children: [e.jsx(it, { className: 'w-4 h-4 inline mr-1' }), 'Coût estimé (€)'],
              }),
              e.jsx('input', {
                type: 'number',
                value: i || '',
                onChange: (c) => N(c.target.value ? Number(c.target.value) : void 0),
                placeholder: '50',
                step: '0.01',
                className:
                  'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
              }),
            ],
          }),
          n === 'carpool' &&
            e.jsxs('div', {
              className: 'space-y-3',
              children: [
                e.jsxs('div', {
                  className: 'flex items-center justify-between',
                  children: [
                    e.jsxs('label', {
                      className: 'block text-sm font-medium text-gray-700 dark:text-gray-300',
                      children: [
                        e.jsx(dt, { className: 'w-4 h-4 inline mr-1' }),
                        'Partenaires de covoiturage',
                      ],
                    }),
                    T.length > 0 &&
                      i &&
                      e.jsxs(xe, { variant: 'success', children: [V(), '€ / personne'] }),
                  ],
                }),
                d.length === 0
                  ? e.jsx('div', {
                      className:
                        'p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center text-sm text-gray-600 dark:text-gray-400',
                      children: 'Aucun orateur disponible pour le covoiturage ce jour-là',
                    })
                  : e.jsx('div', {
                      className: 'space-y-2',
                      children: d.map((c) =>
                        e.jsxs(
                          'label',
                          {
                            className:
                              'flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700',
                            children: [
                              e.jsx('input', {
                                type: 'checkbox',
                                checked: T.includes(c.visitId),
                                onChange: () => F(c.visitId),
                                className:
                                  'w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500',
                              }),
                              e.jsxs('div', {
                                className: 'flex-1',
                                children: [
                                  e.jsx('div', {
                                    className: 'font-medium text-gray-900 dark:text-white',
                                    children: c.speakerName,
                                  }),
                                  e.jsxs('div', {
                                    className: 'text-sm text-gray-600 dark:text-gray-400',
                                    children: [c.congregation, ' • ', c.time],
                                  }),
                                ],
                              }),
                            ],
                          },
                          c.visitId
                        )
                      ),
                    }),
              ],
            }),
          e.jsxs('div', {
            children: [
              e.jsx('label', {
                className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                children: 'Lien Google Maps (optionnel)',
              }),
              e.jsx('input', {
                type: 'url',
                value: z,
                onChange: (c) => H(c.target.value),
                placeholder: 'https://maps.google.com/...',
                className:
                  'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
              }),
            ],
          }),
          (n === 'train' || n === 'plane') &&
            e.jsxs('div', {
              children: [
                e.jsx('label', {
                  className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                  children: 'Référence de réservation',
                }),
                e.jsx('input', {
                  type: 'text',
                  value: R,
                  onChange: (c) => s(c.target.value),
                  placeholder: 'ABC123456',
                  className:
                    'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                }),
              ],
            }),
          e.jsxs('div', {
            children: [
              e.jsx('label', {
                className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                children: 'Notes supplémentaires',
              }),
              e.jsx('textarea', {
                value: O,
                onChange: (c) => M(c.target.value),
                rows: 3,
                placeholder: 'Informations complémentaires sur le voyage...',
                className:
                  'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
              }),
            ],
          }),
          (y || S || i) &&
            e.jsx(fe, {
              className: 'bg-blue-50 dark:bg-blue-900/20',
              children: e.jsxs(je, {
                children: [
                  e.jsx('h4', {
                    className: 'font-medium text-blue-900 dark:text-blue-200 mb-2',
                    children: 'Résumé du voyage',
                  }),
                  e.jsxs('div', {
                    className: 'space-y-1 text-sm text-blue-800 dark:text-blue-300',
                    children: [
                      y && e.jsxs('p', { children: ['• Distance : ', y, ' km'] }),
                      S && e.jsxs('p', { children: ['• Durée : ', S] }),
                      i &&
                        e.jsxs('p', {
                          children: [
                            '• Coût : ',
                            i,
                            '€',
                            n === 'carpool' &&
                              T.length > 0 &&
                              e.jsxs('span', { children: [' (', V(), '€ / personne)'] }),
                          ],
                        }),
                      n === 'carpool' &&
                        T.length > 0 &&
                        e.jsxs('p', {
                          children: ['• ', T.length + 1, ' personne(s) dans le covoiturage'],
                        }),
                    ],
                  }),
                ],
              }),
            }),
          e.jsxs('div', {
            className: 'flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700',
            children: [
              e.jsx(f, { variant: 'secondary', onClick: h, children: 'Annuler' }),
              e.jsxs(f, {
                variant: 'primary',
                onClick: te,
                children: [
                  e.jsx(Se, { className: 'w-4 h-4 mr-2' }),
                  'Enregistrer le plan de voyage',
                ],
              }),
            ],
          }),
        ],
      }),
    });
  },
  ue = [
    { value: 'breakfast', label: 'Petit-déjeuner', icon: '🌅', defaultTime: '08:00' },
    { value: 'lunch', label: 'Déjeuner', icon: '🍽️', defaultTime: '12:30' },
    { value: 'dinner', label: 'Dîner', icon: '🌙', defaultTime: '19:00' },
    { value: 'snack', label: 'Collation', icon: '☕', defaultTime: '15:00' },
  ],
  jt = [
    'Végétarien',
    'Végétalien',
    'Sans gluten',
    'Sans lactose',
    'Halal',
    'Casher',
    'Sans porc',
    'Sans fruits de mer',
  ],
  vt = ['Arachides', 'Fruits à coque', 'Lait', 'Œufs', 'Poisson', 'Crustacés', 'Soja', 'Blé'],
  kt = ({ isOpen: t, onClose: h, visit: r, onSave: x, hosts: p = [] }) => {
    const [n, a] = j.useState([]),
      [g, D] = j.useState([]),
      [o, k] = j.useState([]),
      [w] = j.useState([]),
      [_, E] = j.useState(''),
      [K, y] = j.useState(''),
      [C, S] = j.useState(''),
      l = (s) => {
        const d = ue.find((V) => V.value === s),
          F = {
            id: `meal-${Date.now()}`,
            type: s,
            time: d?.defaultTime || '12:00',
            location: '',
            attendees: 1,
          };
        a([...n, F]);
      },
      i = (s, d) => {
        a(n.map((F) => (F.id === s ? { ...F, ...d } : F)));
      },
      N = (s) => {
        a(n.filter((d) => d.id !== s));
      },
      T = (s) => {
        D((d) => (d.includes(s) ? d.filter((F) => F !== s) : [...d, s]));
      },
      q = (s) => {
        k((d) => (d.includes(s) ? d.filter((F) => F !== s) : [...d, s]));
      },
      O = () => {
        K.trim() && (D([...g, K.trim()]), y(''));
      },
      M = () => {
        C.trim() && (k([...o, C.trim()]), S(''));
      },
      z = () => {
        const s = {
          visitId: r.visitId,
          meals: n,
          dietaryRestrictions: g,
          allergies: o,
          preferences: w,
          notes: _ || void 0,
        };
        (x(s), h());
      },
      H = () => n.reduce((s, d) => s + (d.cost || 0), 0),
      R = (s) => ue.find((d) => d.value === s)?.icon || '🍽️';
    return e.jsx(ve, {
      isOpen: t,
      onClose: h,
      title: 'Planification des repas',
      size: 'xl',
      children: e.jsxs('div', {
        className: 'space-y-6',
        children: [
          e.jsxs('div', {
            className:
              'p-4 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-lg',
            children: [
              e.jsxs('div', {
                className: 'flex items-center gap-2 mb-1',
                children: [
                  e.jsx(he, { className: 'w-5 h-5 text-orange-600' }),
                  e.jsx('h4', {
                    className: 'font-semibold text-gray-900 dark:text-white',
                    children: r.nom,
                  }),
                ],
              }),
              e.jsx('p', {
                className: 'text-sm text-gray-600 dark:text-gray-400',
                children: new Date(r.visitDate).toLocaleDateString('fr-FR', {
                  weekday: 'long',
                  day: 'numeric',
                  month: 'long',
                }),
              }),
            ],
          }),
          e.jsxs('div', {
            className: 'space-y-3',
            children: [
              e.jsx('label', {
                className: 'block text-sm font-medium text-gray-700 dark:text-gray-300',
                children: 'Restrictions alimentaires',
              }),
              e.jsx('div', {
                className: 'flex flex-wrap gap-2',
                children: jt.map((s) =>
                  e.jsx(
                    'button',
                    {
                      onClick: () => T(s),
                      className: `px-3 py-1.5 rounded-full text-sm font-medium transition-all ${g.includes(s) ? 'bg-orange-500 text-white' : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'}`,
                      children: s,
                    },
                    s
                  )
                ),
              }),
              e.jsxs('div', {
                className: 'flex gap-2',
                children: [
                  e.jsx('input', {
                    type: 'text',
                    value: K,
                    onChange: (s) => y(s.target.value),
                    onKeyPress: (s) => s.key === 'Enter' && O(),
                    placeholder: 'Autre restriction...',
                    className:
                      'flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                  e.jsx(f, {
                    variant: 'outline',
                    size: 'sm',
                    onClick: O,
                    children: e.jsx(be, { className: 'w-4 h-4' }),
                  }),
                ],
              }),
            ],
          }),
          e.jsxs('div', {
            className: 'space-y-3',
            children: [
              e.jsxs('div', {
                className: 'flex items-center gap-2',
                children: [
                  e.jsx(We, { className: 'w-4 h-4 text-red-600' }),
                  e.jsx('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300',
                    children: 'Allergies (important !)',
                  }),
                ],
              }),
              e.jsx('div', {
                className: 'flex flex-wrap gap-2',
                children: vt.map((s) =>
                  e.jsx(
                    'button',
                    {
                      onClick: () => q(s),
                      className: `px-3 py-1.5 rounded-full text-sm font-medium transition-all ${o.includes(s) ? 'bg-red-500 text-white' : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'}`,
                      children: s,
                    },
                    s
                  )
                ),
              }),
              e.jsxs('div', {
                className: 'flex gap-2',
                children: [
                  e.jsx('input', {
                    type: 'text',
                    value: C,
                    onChange: (s) => S(s.target.value),
                    onKeyPress: (s) => s.key === 'Enter' && M(),
                    placeholder: 'Autre allergie...',
                    className:
                      'flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                  }),
                  e.jsx(f, {
                    variant: 'outline',
                    size: 'sm',
                    onClick: M,
                    children: e.jsx(be, { className: 'w-4 h-4' }),
                  }),
                ],
              }),
            ],
          }),
          e.jsxs('div', {
            className: 'space-y-3',
            children: [
              e.jsxs('div', {
                className: 'flex items-center justify-between',
                children: [
                  e.jsx('label', {
                    className: 'block text-sm font-medium text-gray-700 dark:text-gray-300',
                    children: 'Repas planifiés',
                  }),
                  e.jsx('div', {
                    className: 'flex gap-2',
                    children: ue.map((s) =>
                      e.jsx(
                        f,
                        {
                          variant: 'outline',
                          size: 'sm',
                          onClick: () => l(s.value),
                          title: `Ajouter ${s.label}`,
                          children: e.jsx('span', { className: 'text-lg', children: s.icon }),
                        },
                        s.value
                      )
                    ),
                  }),
                ],
              }),
              n.length === 0
                ? e.jsxs('div', {
                    className: 'p-8 text-center bg-gray-50 dark:bg-gray-800 rounded-lg',
                    children: [
                      e.jsx(he, { className: 'w-12 h-12 mx-auto mb-3 text-gray-400' }),
                      e.jsx('p', {
                        className: 'text-sm text-gray-600 dark:text-gray-400',
                        children:
                          'Aucun repas planifié. Cliquez sur les icônes ci-dessus pour ajouter un repas.',
                      }),
                    ],
                  })
                : e.jsx('div', {
                    className: 'space-y-3',
                    children: n.map((s) =>
                      e.jsx(
                        fe,
                        {
                          children: e.jsx(je, {
                            children: e.jsxs('div', {
                              className: 'space-y-3',
                              children: [
                                e.jsxs('div', {
                                  className: 'flex items-center justify-between',
                                  children: [
                                    e.jsxs('div', {
                                      className: 'flex items-center gap-2',
                                      children: [
                                        e.jsx('span', {
                                          className: 'text-2xl',
                                          children: R(s.type),
                                        }),
                                        e.jsx('span', {
                                          className: 'font-medium text-gray-900 dark:text-white',
                                          children: ue.find((d) => d.value === s.type)?.label,
                                        }),
                                      ],
                                    }),
                                    e.jsx('button', {
                                      onClick: () => N(s.id),
                                      'aria-label': 'Supprimer ce repas',
                                      className:
                                        'p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded',
                                      children: e.jsx(Oe, { className: 'w-4 h-4' }),
                                    }),
                                  ],
                                }),
                                e.jsxs('div', {
                                  className: 'grid grid-cols-2 gap-3',
                                  children: [
                                    e.jsxs('div', {
                                      children: [
                                        e.jsx('label', {
                                          className:
                                            'block text-xs text-gray-600 dark:text-gray-400 mb-1',
                                          children: 'Heure',
                                        }),
                                        e.jsx('input', {
                                          type: 'time',
                                          value: s.time,
                                          onChange: (d) => i(s.id, { time: d.target.value }),
                                          'aria-label': 'Heure du repas',
                                          className:
                                            'w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                                        }),
                                      ],
                                    }),
                                    e.jsxs('div', {
                                      children: [
                                        e.jsx('label', {
                                          className:
                                            'block text-xs text-gray-600 dark:text-gray-400 mb-1',
                                          children: 'Nombre de personnes',
                                        }),
                                        e.jsx('input', {
                                          type: 'number',
                                          value: s.attendees,
                                          onChange: (d) =>
                                            i(s.id, { attendees: Number(d.target.value) }),
                                          min: '1',
                                          'aria-label': 'Nombre de personnes',
                                          className:
                                            'w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                                e.jsxs('div', {
                                  children: [
                                    e.jsx('label', {
                                      className:
                                        'block text-xs text-gray-600 dark:text-gray-400 mb-1',
                                      children: 'Lieu',
                                    }),
                                    e.jsx('input', {
                                      type: 'text',
                                      value: s.location,
                                      onChange: (d) => i(s.id, { location: d.target.value }),
                                      placeholder: 'Restaurant, domicile, etc.',
                                      className:
                                        'w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                                    }),
                                  ],
                                }),
                                e.jsxs('div', {
                                  children: [
                                    e.jsx('label', {
                                      className:
                                        'block text-xs text-gray-600 dark:text-gray-400 mb-1',
                                      children: 'Hôte / Responsable',
                                    }),
                                    e.jsxs('select', {
                                      value: s.host || '',
                                      onChange: (d) => i(s.id, { host: d.target.value }),
                                      className:
                                        'w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                                      children: [
                                        e.jsx('option', {
                                          value: '',
                                          children: 'Sélectionner un hôte...',
                                        }),
                                        p.map((d) =>
                                          e.jsx('option', { value: d.nom, children: d.nom }, d.nom)
                                        ),
                                      ],
                                    }),
                                  ],
                                }),
                                e.jsxs('div', {
                                  className: 'grid grid-cols-2 gap-3',
                                  children: [
                                    e.jsxs('div', {
                                      children: [
                                        e.jsx('label', {
                                          className:
                                            'block text-xs text-gray-600 dark:text-gray-400 mb-1',
                                          children: 'Menu (optionnel)',
                                        }),
                                        e.jsx('input', {
                                          type: 'text',
                                          value: s.menu || '',
                                          onChange: (d) => i(s.id, { menu: d.target.value }),
                                          placeholder: 'Description du menu',
                                          className:
                                            'w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                                        }),
                                      ],
                                    }),
                                    e.jsxs('div', {
                                      children: [
                                        e.jsx('label', {
                                          className:
                                            'block text-xs text-gray-600 dark:text-gray-400 mb-1',
                                          children: 'Coût estimé (€)',
                                        }),
                                        e.jsx('input', {
                                          type: 'number',
                                          value: s.cost || '',
                                          onChange: (d) =>
                                            i(s.id, {
                                              cost: d.target.value
                                                ? Number(d.target.value)
                                                : void 0,
                                            }),
                                          placeholder: '0.00',
                                          step: '0.01',
                                          className:
                                            'w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          }),
                        },
                        s.id
                      )
                    ),
                  }),
            ],
          }),
          e.jsxs('div', {
            children: [
              e.jsx('label', {
                className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                children: 'Notes supplémentaires',
              }),
              e.jsx('textarea', {
                value: _,
                onChange: (s) => E(s.target.value),
                rows: 3,
                placeholder: 'Préférences culinaires, informations complémentaires...',
                className:
                  'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
              }),
            ],
          }),
          (n.length > 0 || g.length > 0 || o.length > 0) &&
            e.jsx(fe, {
              className: 'bg-blue-50 dark:bg-blue-900/20',
              children: e.jsxs(je, {
                children: [
                  e.jsx('h4', {
                    className: 'font-medium text-blue-900 dark:text-blue-200 mb-2',
                    children: 'Résumé',
                  }),
                  e.jsxs('div', {
                    className: 'space-y-1 text-sm text-blue-800 dark:text-blue-300',
                    children: [
                      e.jsxs('p', { children: ['• ', n.length, ' repas planifié(s)'] }),
                      g.length > 0 &&
                        e.jsxs('p', {
                          children: ['• ', g.length, ' restriction(s) alimentaire(s)'],
                        }),
                      o.length > 0 &&
                        e.jsxs('p', {
                          className: 'text-red-600 dark:text-red-400 font-medium',
                          children: ['⚠️ ', o.length, ' allergie(s) à prendre en compte'],
                        }),
                      H() > 0 &&
                        e.jsxs('p', { children: ['• Coût total estimé : ', H().toFixed(2), '€'] }),
                    ],
                  }),
                ],
              }),
            }),
          e.jsxs('div', {
            className: 'flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700',
            children: [
              e.jsx(f, { variant: 'secondary', onClick: h, children: 'Annuler' }),
              e.jsxs(f, {
                variant: 'primary',
                onClick: z,
                children: [
                  e.jsx(he, { className: 'w-4 h-4 mr-2' }),
                  'Enregistrer le plan de repas',
                ],
              }),
            ],
          }),
        ],
      }),
    });
  },
  I = {
    AVAILABILITY: 40,
    GENDER_COUPLE_COUPLE: 20,
    GENDER_SAME: 15,
    GENDER_PARTIAL: 10,
    CAPACITY_GOOD: 15,
    CAPACITY_LIMITED: 5,
    EQUIPMENT_PARKING: 10,
    EQUIPMENT_ELEVATOR: 5,
    PREFERENCE_PENALTY: 10,
    EXPERIENCE_PER_HOST: 5,
    MAX_EXPERIENCE: 20,
    RECENT_HOST_PENALTY: 10,
    LONG_TIME_AVAILABLE: 10,
    DAYS_RECENT: 30,
    DAYS_LONG_TIME: 180,
    DAYS_IN_MS: 864e5,
    SCORE_EXCELLENT: 80,
    SCORE_GOOD: 60,
    SCORE_ACCEPTABLE: 40,
    MIN_CAPACITY: 2,
  },
  Nt = ({ isOpen: t, onClose: h, visit: r, speaker: x, onSelectHost: p }) => {
    const { hosts: n, visits: a } = Ee(),
      [g, D] = j.useState(null),
      [o, k] = j.useState(!0),
      w = j.useMemo(() => {
        const y = [];
        return (
          n.forEach((C) => {
            let S = 0;
            const l = [],
              i = [],
              { AVAILABILITY: N } = I;
            if (!C.unavailableDates?.includes(r.visitDate))
              ((S += N), l.push({ factor: 'Disponible à cette date', score: N, positive: !0 }));
            else if ((i.push('Indisponible à cette date'), o)) return;
            (x &&
              (x.gender === 'couple' && C.gender === 'couple'
                ? ((S += I.GENDER_COUPLE_COUPLE),
                  l.push({
                    factor: 'Couple accueille couple',
                    score: I.GENDER_COUPLE_COUPLE,
                    positive: !0,
                  }))
                : x.gender === C.gender
                  ? ((S += I.GENDER_SAME),
                    l.push({ factor: 'Genre compatible', score: I.GENDER_SAME, positive: !0 }))
                  : (x.gender === 'couple' || C.gender === 'couple') &&
                    ((S += I.GENDER_PARTIAL),
                    l.push({
                      factor: 'Genre partiellement compatible',
                      score: I.GENDER_PARTIAL,
                      positive: !0,
                    }))),
              C.capacity &&
                (C.capacity >= I.MIN_CAPACITY
                  ? ((S += I.CAPACITY_GOOD),
                    l.push({
                      factor: `Capacité: ${C.capacity} personne(s)`,
                      score: I.CAPACITY_GOOD,
                      positive: !0,
                    }))
                  : l.push({
                      factor: 'Capacité limitée (1 personne)',
                      score: I.CAPACITY_LIMITED,
                      positive: !1,
                    })),
              C.hasParking &&
                ((S += I.EQUIPMENT_PARKING),
                l.push({ factor: 'Parking disponible', score: I.EQUIPMENT_PARKING, positive: !0 })),
              C.hasElevator &&
                ((S += I.EQUIPMENT_ELEVATOR),
                l.push({
                  factor: 'Ascenseur disponible',
                  score: I.EQUIPMENT_ELEVATOR,
                  positive: !0,
                })),
              x?.isVehiculed &&
                !C.hasParking &&
                (i.push('Orateur véhiculé mais pas de parking'), (S -= I.PREFERENCE_PENALTY)),
              C.hasPets &&
                (l.push({ factor: 'Animaux de compagnie', score: 0, positive: !1 }),
                i.push("Présence d'animaux")));
            const q = a.filter((M) => M.host === C.nom && M.status === 'completed');
            if (q.length > 0) {
              const M = Math.min(q.length * I.EXPERIENCE_PER_HOST, I.MAX_EXPERIENCE);
              ((S += M),
                l.push({ factor: `${q.length} accueil(s) réussi(s)`, score: M, positive: !0 }));
            }
            const O = q.sort(
              (M, z) => new Date(z.visitDate).getTime() - new Date(M.visitDate).getTime()
            )[0];
            if (O) {
              const M = Math.floor(
                (new Date(r.visitDate).getTime() - new Date(O.visitDate).getTime()) / I.DAYS_IN_MS
              );
              M < I.DAYS_RECENT
                ? (i.push('A accueilli récemment'), (S -= I.RECENT_HOST_PENALTY))
                : M > I.DAYS_LONG_TIME &&
                  ((S += I.LONG_TIME_AVAILABLE),
                  l.push({
                    factor: 'Disponible depuis longtemps',
                    score: I.LONG_TIME_AVAILABLE,
                    positive: !0,
                  }));
            }
            y.push({ host: C, score: Math.max(0, S), compatibility: l, warnings: i });
          }),
          y.sort((C, S) => S.score - C.score)
        );
      }, [n, a, r, x, o]),
      _ = () => {
        g && (p(g), h());
      },
      E = (y) =>
        y >= I.SCORE_EXCELLENT
          ? 'text-green-600 bg-green-100 dark:bg-green-900/20'
          : y >= I.SCORE_GOOD
            ? 'text-blue-600 bg-blue-100 dark:bg-blue-900/20'
            : y >= I.SCORE_ACCEPTABLE
              ? 'text-orange-600 bg-orange-100 dark:bg-orange-900/20'
              : 'text-red-600 bg-red-100 dark:bg-red-900/20',
      K = (y) =>
        y >= I.SCORE_EXCELLENT
          ? 'Excellent match'
          : y >= I.SCORE_GOOD
            ? 'Bon match'
            : y >= I.SCORE_ACCEPTABLE
              ? 'Match acceptable'
              : 'Match faible';
    return e.jsx(ve, {
      isOpen: t,
      onClose: h,
      title: 'Matching intelligent hôte/orateur',
      size: 'xl',
      children: e.jsxs('div', {
        className: 'space-y-6',
        children: [
          e.jsxs('div', {
            className:
              'p-4 bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20 rounded-lg',
            children: [
              e.jsxs('div', {
                className: 'flex items-center gap-3 mb-2',
                children: [
                  e.jsx(He, { className: 'w-5 h-5 text-primary-600' }),
                  e.jsx('h4', {
                    className: 'font-semibold text-gray-900 dark:text-white',
                    children: r.nom,
                  }),
                ],
              }),
              e.jsx('p', {
                className: 'text-sm text-gray-600 dark:text-gray-400',
                children: new Date(r.visitDate).toLocaleDateString('fr-FR', {
                  weekday: 'long',
                  day: 'numeric',
                  month: 'long',
                }),
              }),
              x &&
                e.jsxs('div', {
                  className: 'mt-2 flex gap-2',
                  children: [
                    e.jsx(xe, {
                      variant: 'default',
                      children:
                        x.gender === 'male' ? 'Homme' : x.gender === 'female' ? 'Femme' : 'Couple',
                    }),
                    x.isVehiculed && e.jsx(xe, { variant: 'default', children: 'Véhiculé' }),
                  ],
                }),
            ],
          }),
          e.jsxs('div', {
            className: 'flex items-center justify-between',
            children: [
              e.jsxs('label', {
                className: 'flex items-center gap-2 cursor-pointer',
                children: [
                  e.jsx('input', {
                    type: 'checkbox',
                    checked: o,
                    onChange: (y) => k(y.target.checked),
                    className:
                      'w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500',
                  }),
                  e.jsx('span', {
                    className: 'text-sm text-gray-700 dark:text-gray-300',
                    children: 'Afficher uniquement les hôtes disponibles',
                  }),
                ],
              }),
              e.jsxs(xe, { variant: 'default', children: [w.length, ' hôte(s) trouvé(s)'] }),
            ],
          }),
          e.jsx('div', {
            className: 'space-y-3 max-h-96 overflow-y-auto',
            children:
              w.length === 0
                ? e.jsxs('div', {
                    className: 'text-center py-12',
                    children: [
                      e.jsx(me, { className: 'w-16 h-16 mx-auto mb-4 text-gray-400' }),
                      e.jsx('h3', {
                        className: 'text-lg font-semibold text-gray-900 dark:text-white mb-2',
                        children: 'Aucun hôte trouvé',
                      }),
                      e.jsx('p', {
                        className: 'text-gray-600 dark:text-gray-400',
                        children: 'Essayez de désactiver le filtre de disponibilité',
                      }),
                    ],
                  })
                : w.map((y) =>
                    e.jsx(
                      fe,
                      {
                        hoverable: !0,
                        className: `cursor-pointer transition-all ${g?.nom === y.host.nom ? 'ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20' : ''}`,
                        onClick: () => D(y.host),
                        children: e.jsx(je, {
                          children: e.jsxs('div', {
                            className: 'space-y-3',
                            children: [
                              e.jsxs('div', {
                                className: 'flex items-start justify-between',
                                children: [
                                  e.jsxs('div', {
                                    className: 'flex items-center gap-3',
                                    children: [
                                      e.jsx('div', {
                                        className:
                                          'w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-700 dark:text-purple-300 font-bold text-lg',
                                        children: y.host.nom.charAt(0).toUpperCase(),
                                      }),
                                      e.jsxs('div', {
                                        children: [
                                          e.jsx('h4', {
                                            className:
                                              'font-semibold text-gray-900 dark:text-white',
                                            children: y.host.nom,
                                          }),
                                          e.jsx('div', {
                                            className:
                                              'flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400',
                                            children:
                                              y.host.address &&
                                              e.jsxs(e.Fragment, {
                                                children: [
                                                  e.jsx(le, { className: 'w-3 h-3' }),
                                                  y.host.address,
                                                ],
                                              }),
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  e.jsxs('div', {
                                    className: 'text-right',
                                    children: [
                                      e.jsxs('div', {
                                        className: `inline-flex items-center gap-2 px-3 py-1 rounded-full ${E(y.score)}`,
                                        children: [
                                          e.jsx(Fe, { className: 'w-4 h-4' }),
                                          e.jsx('span', {
                                            className: 'text-lg font-bold',
                                            children: y.score,
                                          }),
                                        ],
                                      }),
                                      e.jsx('div', {
                                        className: 'text-xs text-gray-600 dark:text-gray-400 mt-1',
                                        children: K(y.score),
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              e.jsx('div', {
                                className: 'flex flex-wrap gap-2',
                                children: y.compatibility.map((C, S) =>
                                  e.jsxs(
                                    'div',
                                    {
                                      className: `flex items-center gap-1 px-2 py-1 rounded text-xs ${C.positive ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300' : 'bg-gray-100 text-gray-700 dark:bg-gray-900/20 dark:text-gray-300'}`,
                                      children: [
                                        C.positive
                                          ? e.jsx(de, { className: 'w-3 h-3' })
                                          : e.jsx(Xe, { className: 'w-3 h-3' }),
                                        C.factor,
                                      ],
                                    },
                                    S
                                  )
                                ),
                              }),
                              y.warnings.length > 0 &&
                                e.jsx('div', {
                                  className: 'flex flex-wrap gap-2',
                                  children: y.warnings.map((C, S) =>
                                    e.jsxs(
                                      'div',
                                      {
                                        className:
                                          'flex items-center gap-1 px-2 py-1 rounded text-xs bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-300',
                                        children: [e.jsx(ge, { className: 'w-3 h-3' }), C],
                                      },
                                      S
                                    )
                                  ),
                                }),
                              y.host.notes &&
                                e.jsxs('div', {
                                  className: 'text-sm text-gray-600 dark:text-gray-400 italic',
                                  children: ['"', y.host.notes, '"'],
                                }),
                            ],
                          }),
                        }),
                      },
                      y.host.nom
                    )
                  ),
          }),
          g &&
            e.jsx('div', {
              className:
                'p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg',
              children: e.jsxs('div', {
                className: 'flex items-start gap-3',
                children: [
                  e.jsx(me, { className: 'w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5' }),
                  e.jsxs('div', {
                    className: 'text-sm text-blue-800 dark:text-blue-300',
                    children: [
                      e.jsx('strong', { children: 'Hôte sélectionné :' }),
                      ' ',
                      g.nom,
                      g.telephone &&
                        e.jsxs('div', {
                          className: 'mt-1',
                          children: ['Téléphone : ', g.telephone],
                        }),
                      g.email &&
                        e.jsxs('div', { className: 'mt-1', children: ['Email : ', g.email] }),
                    ],
                  }),
                ],
              }),
            }),
          e.jsxs('div', {
            className: 'flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700',
            children: [
              e.jsx(f, { variant: 'secondary', onClick: h, children: 'Annuler' }),
              e.jsxs(f, {
                variant: 'primary',
                onClick: _,
                disabled: !g,
                children: [e.jsx(me, { className: 'w-4 h-4 mr-2' }), 'Sélectionner cet hôte'],
              }),
            ],
          }),
        ],
      }),
    });
  };
var ye = { exports: {} },
  wt = ye.exports,
  Re;
function Ct() {
  return (
    Re ||
      ((Re = 1),
      (function (t, h) {
        (function (r, x) {
          t.exports = x(at());
        })(typeof self < 'u' ? self : wt, function (r) {
          return (function () {
            var x = {
                155: function (l) {
                  l.exports = r;
                },
              },
              p = {};
            function n(l) {
              var i = p[l];
              if (i !== void 0) return i.exports;
              var N = (p[l] = { exports: {} });
              return (x[l](N, N.exports, n), N.exports);
            }
            ((n.d = function (l, i) {
              for (var N in i)
                n.o(i, N) &&
                  !n.o(l, N) &&
                  Object.defineProperty(l, N, { enumerable: !0, get: i[N] });
            }),
              (n.o = function (l, i) {
                return Object.prototype.hasOwnProperty.call(l, i);
              }),
              (n.r = function (l) {
                (typeof Symbol < 'u' &&
                  Symbol.toStringTag &&
                  Object.defineProperty(l, Symbol.toStringTag, { value: 'Module' }),
                  Object.defineProperty(l, '__esModule', { value: !0 }));
              }));
            var a = {};
            (n.r(a),
              n.d(a, {
                useReactToPrint: function () {
                  return S;
                },
              }));
            var g = n(155);
            const D = 'printWindow';
            function o({ level: l = 'error', messages: i, suppressErrors: N = !1 }) {
              N ||
                (l === 'error'
                  ? console.error(i)
                  : l === 'warning'
                    ? console.warn(i)
                    : console.debug(i));
            }
            function k(l, i) {
              if (i || !l) {
                const N = document.getElementById(D);
                N && document.body.removeChild(N);
              }
            }
            function w(l) {
              return l instanceof Error ? l : new Error('Unknown Error');
            }
            function _(l, i) {
              const {
                documentTitle: N,
                onAfterPrint: T,
                onPrintError: q,
                preserveAfterPrint: O,
                print: M,
                suppressErrors: z,
              } = i;
              setTimeout(() => {
                var H, R;
                if (l.contentWindow) {
                  let s = function () {
                    (T?.(), k(O));
                  };
                  if ((l.contentWindow.focus(), M))
                    M(l)
                      .then(s)
                      .catch((d) => {
                        q
                          ? q('print', w(d))
                          : o({
                              messages: ['An error was thrown by the specified `print` function'],
                              suppressErrors: z,
                            });
                      });
                  else {
                    if (l.contentWindow.print) {
                      const d =
                          (R =
                            (H = l.contentDocument) === null || H === void 0 ? void 0 : H.title) !==
                            null && R !== void 0
                            ? R
                            : '',
                        F = l.ownerDocument.title;
                      (N &&
                        ((l.ownerDocument.title = N),
                        l.contentDocument && (l.contentDocument.title = N)),
                        l.contentWindow.print(),
                        N &&
                          ((l.ownerDocument.title = F),
                          l.contentDocument && (l.contentDocument.title = d)));
                    } else
                      o({
                        messages: [
                          'Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes.',
                        ],
                        suppressErrors: z,
                      });
                    [
                      /Android/i,
                      /webOS/i,
                      /iPhone/i,
                      /iPad/i,
                      /iPod/i,
                      /BlackBerry/i,
                      /Windows Phone/i,
                    ].some((d) => {
                      var F, V;
                      return (
                        (V =
                          (F = navigator.userAgent) !== null && F !== void 0
                            ? F
                            : navigator.vendor) !== null && V !== void 0
                          ? V
                          : 'opera' in window && window.opera
                      ).match(d);
                    })
                      ? setTimeout(s, 500)
                      : s();
                  }
                } else
                  o({
                    messages: [
                      'Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/',
                    ],
                    suppressErrors: z,
                  });
              }, 500);
            }
            function E(l) {
              const i = [],
                N = document.createTreeWalker(l, NodeFilter.SHOW_ELEMENT, null);
              let T = N.nextNode();
              for (; T; ) (i.push(T), (T = N.nextNode()));
              return i;
            }
            function K(l, i, N) {
              const T = E(l),
                q = E(i);
              if (T.length === q.length)
                for (let O = 0; O < T.length; O++) {
                  const M = T[O],
                    z = q[O],
                    H = M.shadowRoot;
                  if (H !== null) {
                    const R = z.attachShadow({ mode: H.mode });
                    ((R.innerHTML = H.innerHTML), K(H, R, N));
                  }
                }
              else
                o({
                  messages: [
                    'When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.',
                    l,
                    i,
                  ],
                  suppressErrors: N,
                });
            }
            const y = `
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;
            function C(l, i, N, T) {
              var q, O, M, z, H;
              const {
                  contentNode: R,
                  clonedContentNode: s,
                  clonedImgNodes: d,
                  clonedVideoNodes: F,
                  numResourcesToLoad: V,
                  originalCanvasNodes: te,
                } = N,
                {
                  bodyClass: c,
                  fonts: ee,
                  ignoreGlobalStyles: ie,
                  pageStyle: re,
                  nonce: u,
                  suppressErrors: b,
                  copyShadowRoots: U,
                } = T;
              l.onload = null;
              const m =
                (q = l.contentDocument) !== null && q !== void 0
                  ? q
                  : (O = l.contentWindow) === null || O === void 0
                    ? void 0
                    : O.document;
              if (m) {
                const A = m.body.appendChild(s);
                (U && K(R, A, !!b),
                  ee &&
                    (!((M = l.contentDocument) === null || M === void 0) &&
                    M.fonts &&
                    !((z = l.contentWindow) === null || z === void 0) &&
                    z.FontFace
                      ? ee.forEach((P) => {
                          const v = new FontFace(P.family, P.source, {
                            weight: P.weight,
                            style: P.style,
                          });
                          (l.contentDocument.fonts.add(v),
                            v.loaded
                              .then(() => {
                                i(v);
                              })
                              .catch((Y) => {
                                i(v, ['Failed loading the font:', v, 'Load error:', w(Y)]);
                              }));
                        })
                      : (ee.forEach((P) => {
                          i(P);
                        }),
                        o({
                          messages: [
                            '"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page',
                          ],
                          suppressErrors: b,
                        }))));
                const se = re ?? y,
                  G = m.createElement('style');
                (u && (G.setAttribute('nonce', u), m.head.setAttribute('nonce', u)),
                  G.appendChild(m.createTextNode(se)),
                  m.head.appendChild(G),
                  c && m.body.classList.add(...c.split(' ')));
                const Q = m.querySelectorAll('canvas');
                for (let P = 0; P < te.length; ++P) {
                  const v = te[P],
                    Y = Q[P];
                  if (Y === void 0) {
                    o({
                      messages: [
                        'A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.',
                        v,
                      ],
                      suppressErrors: b,
                    });
                    continue;
                  }
                  const L = Y.getContext('2d');
                  L && L.drawImage(v, 0, 0);
                }
                for (let P = 0; P < d.length; P++) {
                  const v = d[P],
                    Y = v.getAttribute('src');
                  if (Y) {
                    const L = new Image();
                    ((L.onload = () => {
                      i(v);
                    }),
                      (L.onerror = ($, W, ae, J, ne) => {
                        i(v, ['Error loading <img>', v, 'Error', ne]);
                      }),
                      (L.src = Y));
                  } else
                    i(v, [
                      'Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',
                      v,
                    ]);
                }
                for (let P = 0; P < F.length; P++) {
                  const v = F[P];
                  v.preload = 'auto';
                  const Y = v.getAttribute('poster');
                  if (Y) {
                    const L = new Image();
                    ((L.onload = () => {
                      i(v);
                    }),
                      (L.onerror = ($, W, ae, J, ne) => {
                        i(v, ['Error loading video poster', Y, 'for video', v, 'Error:', ne]);
                      }),
                      (L.src = Y));
                  } else
                    v.readyState >= 2
                      ? i(v)
                      : v.src
                        ? ((v.onloadeddata = () => {
                            i(v);
                          }),
                          (v.onerror = (L, $, W, ae, J) => {
                            i(v, ['Error loading video', v, 'Error', J]);
                          }),
                          (v.onstalled = () => {
                            i(v, ['Loading video stalled, skipping', v]);
                          }))
                        : i(v, ['Error loading video, `src` is empty', v]);
                }
                const ce = 'select',
                  Z = R.querySelectorAll(ce),
                  oe = m.querySelectorAll(ce);
                for (let P = 0; P < Z.length; P++) oe[P].value = Z[P].value;
                if (!ie) {
                  const P = document.querySelectorAll(
                    "style, link[rel~='stylesheet'], link[as='style']"
                  );
                  for (let v = 0, Y = P.length; v < Y; ++v) {
                    const L = P[v];
                    if (L.tagName.toLowerCase() === 'style') {
                      const $ = m.createElement(L.tagName),
                        W = L.sheet;
                      if (W) {
                        let ae = '';
                        try {
                          const J = W.cssRules.length;
                          for (let ne = 0; ne < J; ++ne)
                            typeof W.cssRules[ne].cssText == 'string' &&
                              (ae += `${W.cssRules[ne].cssText}\r
`);
                        } catch (J) {
                          o({
                            messages: [
                              'A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.',
                              L,
                              `Original error: ${w(J).message}`,
                            ],
                            level: 'warning',
                          });
                        }
                        ($.setAttribute('id', `react-to-print-${v}`),
                          u && $.setAttribute('nonce', u),
                          $.appendChild(m.createTextNode(ae)),
                          m.head.appendChild($));
                      }
                    } else if (L.getAttribute('href'))
                      if (L.hasAttribute('disabled'))
                        (o({
                          messages: [
                            '`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:',
                            L,
                          ],
                          level: 'warning',
                        }),
                          i(L));
                      else {
                        const $ = m.createElement(L.tagName);
                        for (let W = 0, ae = L.attributes.length; W < ae; ++W) {
                          const J = L.attributes[W];
                          J &&
                            $.setAttribute(
                              J.nodeName,
                              (H = J.nodeValue) !== null && H !== void 0 ? H : ''
                            );
                        }
                        (($.onload = () => {
                          i($);
                        }),
                          ($.onerror = (W, ae, J, ne, Ue) => {
                            i($, ['Failed to load', $, 'Error:', Ue]);
                          }),
                          u && $.setAttribute('nonce', u),
                          m.head.appendChild($));
                      }
                    else
                      (o({
                        messages: [
                          '`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',
                          L,
                        ],
                        level: 'warning',
                      }),
                        i(L));
                  }
                }
              }
              V === 0 && _(l, T);
            }
            function S({
              bodyClass: l,
              contentRef: i,
              copyShadowRoots: N,
              documentTitle: T,
              fonts: q,
              ignoreGlobalStyles: O,
              nonce: M,
              onAfterPrint: z,
              onBeforePrint: H,
              onPrintError: R,
              pageStyle: s,
              preserveAfterPrint: d,
              print: F,
              printIframeProps: V,
              suppressErrors: te,
            }) {
              return (0, g.useCallback)(
                (ee) => {
                  function ie() {
                    const re = {
                        bodyClass: l,
                        contentRef: i,
                        copyShadowRoots: N,
                        documentTitle: T,
                        fonts: q,
                        ignoreGlobalStyles: O,
                        nonce: M,
                        onAfterPrint: z,
                        onPrintError: R,
                        pageStyle: s,
                        preserveAfterPrint: d,
                        print: F,
                        suppressErrors: te,
                      },
                      u = (function (m) {
                        const A = document.createElement('iframe');
                        return (
                          (A.width = `${document.documentElement.clientWidth}px`),
                          (A.height = `${document.documentElement.clientHeight}px`),
                          (A.style.position = 'absolute'),
                          (A.style.top = `-${document.documentElement.clientHeight + 100}px`),
                          (A.style.left = `-${document.documentElement.clientWidth + 100}px`),
                          (A.id = D),
                          (A.srcdoc = '<!DOCTYPE html>'),
                          m &&
                            (m.allow && (A.allow = m.allow),
                            m.referrerPolicy !== void 0 && (A.referrerPolicy = m.referrerPolicy),
                            m.sandbox !== void 0 && (A.sandbox = m.sandbox)),
                          A
                        );
                      })(V),
                      b = (function (m, A) {
                        const {
                            contentRef: se,
                            fonts: G,
                            ignoreGlobalStyles: Q,
                            suppressErrors: ce,
                          } = A,
                          Z = (function ({
                            contentRef: $,
                            optionalContent: W,
                            suppressErrors: ae,
                          }) {
                            return W && typeof W == 'function'
                              ? ($ &&
                                  o({
                                    level: 'warning',
                                    messages: [
                                      '"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.',
                                    ],
                                  }),
                                W())
                              : $
                                ? $.current
                                : void o({
                                    messages: [
                                      '"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.',
                                    ],
                                    suppressErrors: ae,
                                  });
                          })({ contentRef: se, optionalContent: m, suppressErrors: ce });
                        if (!Z) return;
                        const oe = Z.cloneNode(!0),
                          P = document.querySelectorAll(
                            "link[rel~='stylesheet'], link[as='style']"
                          ),
                          v = oe.querySelectorAll('img'),
                          Y = oe.querySelectorAll('video'),
                          L = G ? G.length : 0;
                        return {
                          contentNode: Z,
                          clonedContentNode: oe,
                          clonedImgNodes: v,
                          clonedVideoNodes: Y,
                          numResourcesToLoad: (Q ? 0 : P.length) + v.length + Y.length + L,
                          originalCanvasNodes: Z.querySelectorAll('canvas'),
                        };
                      })(ee, re);
                    if (!b)
                      return void o({
                        messages: ['There is nothing to print'],
                        suppressErrors: te,
                      });
                    const U = (function (m, A, se) {
                      const { suppressErrors: G } = m,
                        Q = [],
                        ce = [];
                      return function (Z, oe) {
                        Q.includes(Z)
                          ? o({
                              level: 'debug',
                              messages: [
                                'Tried to mark a resource that has already been handled',
                                Z,
                              ],
                              suppressErrors: G,
                            })
                          : (oe
                              ? (o({
                                  messages: [
                                    '"react-to-print" was unable to load a resource but will continue attempting to print the page',
                                    ...oe,
                                  ],
                                  suppressErrors: G,
                                }),
                                ce.push(Z))
                              : Q.push(Z),
                            Q.length + ce.length === A && _(se, m));
                      };
                    })(re, b.numResourcesToLoad, u);
                    (function (m, A, se, G) {
                      ((m.onload = () => {
                        C(m, A, se, G);
                      }),
                        document.body.appendChild(m));
                    })(u, U, b, re);
                  }
                  (k(d, !0),
                    H
                      ? H()
                          .then(() => {
                            ie();
                          })
                          .catch((re) => {
                            R?.('onBeforePrint', w(re));
                          })
                      : ie());
                },
                [l, i, N, T, q, O, M, z, H, R, s, d, F, te]
              );
            }
            return a;
          })();
        });
      })(ye)),
    ye.exports
  );
}
var Et = Ct();
const At = ({ visit: t, speaker: h, host: r }) => {
    const x = j.useRef(null),
      p = Et.useReactToPrint({
        content: () => x.current,
        documentTitle: `Feuille_de_route_${t.nom}_${t.visitDate}`,
      }),
      n = (a) => {
        try {
          return pe(ke(a), 'EEEE d MMMM yyyy', { locale: _e });
        } catch {
          return a;
        }
      };
    return e.jsxs('div', {
      className: 'space-y-4',
      children: [
        e.jsx('div', {
          className: 'flex justify-end no-print',
          children: e.jsx(f, {
            onClick: p,
            leftIcon: e.jsx(ct, { className: 'w-4 h-4' }),
            children: 'Imprimer la feuille de route',
          }),
        }),
        e.jsxs('div', {
          ref: x,
          className:
            'bg-white p-8 max-w-[210mm] mx-auto min-h-[297mm] shadow-sm print:shadow-none print:w-full print:max-w-none',
          children: [
            e.jsxs('div', {
              className: 'border-b-2 border-gray-800 pb-6 mb-8 text-center',
              children: [
                e.jsx('h1', {
                  className: 'text-3xl font-bold uppercase tracking-wider mb-2 text-gray-900',
                  children: 'Feuille de Route',
                }),
                e.jsx('p', { className: 'text-xl text-gray-600', children: t.congregation }),
                e.jsxs('div', {
                  className: 'mt-4 inline-flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-lg',
                  children: [
                    e.jsx(Le, { className: 'w-5 h-5' }),
                    e.jsx('span', { className: 'font-semibold text-lg', children: n(t.visitDate) }),
                    e.jsx('span', { className: 'text-gray-400 mx-2', children: '|' }),
                    e.jsx('span', { className: 'font-semibold', children: t.visitTime }),
                  ],
                }),
              ],
            }),
            e.jsxs('div', {
              className: 'grid grid-cols-1 md:grid-cols-2 gap-8 print:grid-cols-2 print:gap-8',
              children: [
                e.jsxs('section', {
                  className: 'space-y-4',
                  children: [
                    e.jsxs('h2', {
                      className:
                        'text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black',
                      children: [e.jsx(He, { className: 'w-5 h-5' }), ' Orateur & Discours'],
                    }),
                    e.jsxs('div', {
                      className:
                        'bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200',
                      children: [
                        e.jsx('div', { className: 'font-semibold text-lg mb-1', children: t.nom }),
                        e.jsx('div', {
                          className: 'text-gray-600 mb-2',
                          children: h?.email || 'Email non renseigné',
                        }),
                        e.jsx('div', {
                          className: 'text-gray-600 mb-4',
                          children: h?.telephone || 'Tel non renseigné',
                        }),
                        e.jsxs('div', {
                          className: 'mt-4 pt-4 border-t border-gray-200',
                          children: [
                            e.jsx('div', {
                              className: 'text-sm text-gray-500 uppercase font-semibold',
                              children: 'Discours',
                            }),
                            e.jsxs('div', {
                              className: 'font-medium',
                              children: ['N°', t.talkNoOrType || 'Non défini'],
                            }),
                            t.talkTheme &&
                              e.jsx('div', {
                                className: 'text-sm text-gray-600 mt-1',
                                children: t.talkTheme,
                              }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                t.meals &&
                  e.jsxs('section', {
                    className: 'space-y-4',
                    children: [
                      e.jsxs('h2', {
                        className:
                          'text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black',
                        children: [e.jsx(Me, { className: 'w-5 h-5' }), ' Repas'],
                      }),
                      e.jsx('div', {
                        className:
                          'bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200',
                        children: e.jsx('div', { className: 'text-gray-700', children: t.meals }),
                      }),
                    ],
                  }),
                (r || t.logistics?.accommodation?.name) &&
                  e.jsxs('section', {
                    className: 'space-y-4',
                    children: [
                      e.jsxs('h2', {
                        className:
                          'text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black',
                        children: [e.jsx(Me, { className: 'w-5 h-5' }), ' Hébergement'],
                      }),
                      e.jsxs('div', {
                        className:
                          'bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200',
                        children: [
                          r && t.logistics?.accommodation?.type !== 'hotel'
                            ? e.jsxs(e.Fragment, {
                                children: [
                                  e.jsx('div', {
                                    className: 'font-semibold text-lg mb-1',
                                    children: r.nom,
                                  }),
                                  e.jsxs('div', {
                                    className: 'flex items-start gap-2 text-gray-600 mb-2',
                                    children: [
                                      e.jsx(le, { className: 'w-4 h-4 mt-1 flex-shrink-0' }),
                                      e.jsx('span', { children: r.address }),
                                    ],
                                  }),
                                  e.jsxs('div', {
                                    className: 'flex items-center gap-2 text-gray-600 mb-2',
                                    children: [
                                      e.jsx(Ze, { className: 'w-4 h-4 flex-shrink-0' }),
                                      e.jsx('span', { children: r.telephone }),
                                    ],
                                  }),
                                  e.jsx('div', {
                                    className: 'text-sm text-gray-500 mt-2',
                                    children:
                                      r.notes &&
                                      e.jsxs('p', {
                                        className: 'italic',
                                        children: ['"', r.notes, '"'],
                                      }),
                                  }),
                                ],
                              })
                            : e.jsxs(e.Fragment, {
                                children: [
                                  e.jsx('div', {
                                    className: 'font-semibold text-lg mb-1',
                                    children: t.logistics?.accommodation?.name,
                                  }),
                                  e.jsxs('div', {
                                    className: 'flex items-start gap-2 text-gray-600 mb-2',
                                    children: [
                                      e.jsx(le, { className: 'w-4 h-4 mt-1 flex-shrink-0' }),
                                      e.jsx('span', {
                                        children:
                                          t.logistics?.accommodation?.address ||
                                          'Adresse non renseignée',
                                      }),
                                    ],
                                  }),
                                  t.logistics?.accommodation?.bookingReference &&
                                    e.jsxs('div', {
                                      className: 'text-sm text-gray-600 mb-2',
                                      children: [
                                        e.jsx('strong', { children: 'Référence:' }),
                                        ' ',
                                        t.logistics.accommodation.bookingReference,
                                      ],
                                    }),
                                  e.jsx('div', {
                                    className: 'text-sm text-gray-500 mt-2',
                                    children:
                                      t.logistics?.accommodation?.notes &&
                                      e.jsxs('p', {
                                        className: 'italic',
                                        children: ['"', t.logistics.accommodation.notes, '"'],
                                      }),
                                  }),
                                ],
                              }),
                          t.logistics?.accommodation &&
                            e.jsxs('div', {
                              className:
                                'mt-4 pt-4 border-t border-gray-200 text-sm grid grid-cols-2 gap-2',
                              children: [
                                e.jsxs('div', {
                                  children: [
                                    e.jsx('span', {
                                      className: 'text-gray-500 block',
                                      children: 'Check-in',
                                    }),
                                    e.jsx('span', {
                                      className: 'font-medium',
                                      children: t.logistics.accommodation.checkIn
                                        ? pe(ke(t.logistics.accommodation.checkIn), 'dd/MM HH:mm')
                                        : '-',
                                    }),
                                  ],
                                }),
                                e.jsxs('div', {
                                  children: [
                                    e.jsx('span', {
                                      className: 'text-gray-500 block',
                                      children: 'Check-out',
                                    }),
                                    e.jsx('span', {
                                      className: 'font-medium',
                                      children: t.logistics.accommodation.checkOut
                                        ? pe(ke(t.logistics.accommodation.checkOut), 'dd/MM HH:mm')
                                        : '-',
                                    }),
                                  ],
                                }),
                              ],
                            }),
                        ],
                      }),
                    ],
                  }),
                t.logistics?.itinerary &&
                  e.jsxs('section', {
                    className: 'space-y-4',
                    children: [
                      e.jsxs('h2', {
                        className:
                          'text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black',
                        children: [e.jsx(Ce, { className: 'w-5 h-5' }), ' Trajet'],
                      }),
                      e.jsxs('div', {
                        className:
                          'bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200',
                        children: [
                          e.jsxs('div', {
                            className: 'grid grid-cols-2 gap-4 mb-4',
                            children: [
                              e.jsxs('div', {
                                children: [
                                  e.jsx('div', {
                                    className: 'text-sm text-gray-500',
                                    children: 'Mode',
                                  }),
                                  e.jsx('div', {
                                    className: 'font-medium capitalize',
                                    children: t.logistics.itinerary.transportMode,
                                  }),
                                ],
                              }),
                              e.jsxs('div', {
                                children: [
                                  e.jsx('div', {
                                    className: 'text-sm text-gray-500',
                                    children: 'Durée estimée',
                                  }),
                                  e.jsx('div', {
                                    className: 'font-medium',
                                    children: t.logistics.itinerary.duration || '-',
                                  }),
                                ],
                              }),
                            ],
                          }),
                          t.logistics.itinerary.meetingPoint &&
                            e.jsxs('div', {
                              className: 'mb-2',
                              children: [
                                e.jsx('div', {
                                  className: 'text-sm text-gray-500',
                                  children: 'Point de RDV',
                                }),
                                e.jsx('div', {
                                  className: 'font-medium',
                                  children: t.logistics.itinerary.meetingPoint,
                                }),
                              ],
                            }),
                        ],
                      }),
                    ],
                  }),
                t.logistics?.checklist &&
                  t.logistics.checklist.length > 0 &&
                  e.jsxs('section', {
                    className: 'space-y-4',
                    children: [
                      e.jsxs('h2', {
                        className:
                          'text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black',
                        children: [e.jsx(qe, { className: 'w-5 h-5' }), ' À ne pas oublier'],
                      }),
                      e.jsx('div', {
                        className:
                          'bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200',
                        children: e.jsxs('ul', {
                          className: 'space-y-2',
                          children: [
                            t.logistics.checklist
                              .filter((a) => !a.isCompleted)
                              .map((a) =>
                                e.jsxs(
                                  'li',
                                  {
                                    className: 'flex items-center gap-3',
                                    children: [
                                      e.jsx('div', {
                                        className:
                                          'w-4 h-4 border-2 border-black rounded-sm print:block',
                                      }),
                                      e.jsx('span', { children: a.label }),
                                    ],
                                  },
                                  a.id
                                )
                              ),
                            t.logistics.checklist.every((a) => a.isCompleted) &&
                              e.jsx('li', {
                                className: 'text-green-600 italic',
                                children: 'Toutes les tâches logistiques sont complétées.',
                              }),
                          ],
                        }),
                      }),
                    ],
                  }),
              ],
            }),
            e.jsx('div', {
              className:
                'mt-16 text-center text-sm text-gray-400 border-t pt-8 print:mt-auto print:absolute print:bottom-8 print:left-0 print:right-0',
              children: e.jsxs('p', {
                children: ['Généré par KBV2 Manager - ', new Date().toLocaleDateString()],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Ht = ({ isOpen: t, onClose: h, visit: r, action: x }) => {
    const { updateVisit: p, deleteVisit: n, completeVisit: a, speakers: g, hosts: D } = Ee(),
      { addToast: o } = Ke(),
      [k, w] = j.useState(!1),
      [_, E] = j.useState({}),
      [K, y] = j.useState(!1),
      [C, S] = j.useState(void 0),
      [l, i] = j.useState('accommodation'),
      [N, T] = j.useState(!1),
      [q, O] = j.useState(!1),
      [M, z] = j.useState(!1),
      [H, R] = j.useState({ isOpen: !1, type: 'confirmation' });
    if (
      (j.useEffect(() => {
        r && E(r);
      }, [r]),
      !r)
    )
      return null;
    const s = async () => {
        if (_) {
          w(!0);
          try {
            (await p({ ...r, ..._ }), o('Visite mise à jour', 'success'), h());
          } catch {
            o('Erreur lors de la mise à jour', 'error');
          } finally {
            w(!1);
          }
        }
      },
      { confirm: d } = Te(),
      F = async () => {
        if (
          await d({
            title: 'Supprimer la visite',
            message: 'Êtes-vous sûr de vouloir supprimer cette visite ?',
            confirmText: 'Supprimer',
            confirmVariant: 'danger',
            cancelText: 'Annuler',
          })
        ) {
          w(!0);
          try {
            (await n(r.visitId), o('Visite supprimée', 'success'), h());
          } catch {
            o('Erreur lors de la suppression', 'error');
          } finally {
            w(!1);
          }
        }
      },
      V = async (u) => {
        w(!0);
        try {
          (u === 'completed'
            ? (await a(r), o('Visite terminée et archivée', 'success'))
            : (await p({ ...r, status: u }), o('Statut mis à jour', 'success')),
            h());
        } catch {
          o('Erreur lors de la mise à jour', 'error');
        } finally {
          w(!1);
        }
      },
      te = async (u) => {
        w(!0);
        try {
          const b = {
            ...u,
            id: Ne(),
            visitId: r.visitId,
            submittedBy: 'currentUser',
            submittedAt: new Date().toISOString(),
          };
          (await p({ ...r, visitFeedback: b }), o('Bilan enregistré avec succès', 'success'), h());
        } catch {
          o("Erreur lors de l'enregistrement du bilan", 'error');
        } finally {
          w(!1);
        }
      },
      c = async (u) => {
        w(!0);
        try {
          const b = r.expenses || [];
          let U;
          C
            ? (U = b.map((A) => (A.id === C.id ? { ...u, id: C.id } : A)))
            : (U = [...b, { ...u, id: Ne() }]);
          const m = { ...r, expenses: U };
          (await p(m),
            E(m),
            o(C ? 'Dépense modifiée' : 'Dépense ajoutée', 'success'),
            y(!1),
            S(void 0));
        } catch {
          o('Erreur lors de la sauvegarde de la dépense', 'error');
        } finally {
          w(!1);
        }
      },
      ee = async (u) => {
        const { confirm: b } = Te();
        if (
          await b({
            title: 'Supprimer la dépense',
            message: 'Voulez-vous vraiment supprimer cette dépense ?',
            confirmText: 'Supprimer',
            confirmVariant: 'danger',
            cancelText: 'Annuler',
          })
        ) {
          w(!0);
          try {
            const m = (r.expenses || []).filter((se) => se.id !== u),
              A = { ...r, expenses: m };
            (await p(A), E(A), o('Dépense supprimée', 'success'));
          } catch {
            o('Erreur lors de la suppression', 'error');
          } finally {
            w(!1);
          }
        }
      },
      ie = () => {
        switch (x) {
          case 'edit':
            return e.jsxs('div', {
              className: 'space-y-4',
              children: [
                e.jsxs('h3', {
                  className: 'text-lg font-semibold flex items-center gap-2',
                  children: [e.jsx(Ve, { className: 'w-5 h-5' }), 'Modifier la visite'],
                }),
                e.jsxs('div', {
                  className: 'grid grid-cols-2 gap-4',
                  children: [
                    e.jsx(X, {
                      label: 'Date',
                      type: 'date',
                      value: _.visitDate || '',
                      onChange: (u) => E((b) => ({ ...b, visitDate: u.target.value })),
                    }),
                    e.jsx(X, {
                      label: 'Heure',
                      type: 'time',
                      value: _.visitTime || '',
                      onChange: (u) => E((b) => ({ ...b, visitTime: u.target.value })),
                    }),
                    e.jsx(X, {
                      label: 'N° Discours',
                      value: _.talkNoOrType || '',
                      onChange: (u) => E((b) => ({ ...b, talkNoOrType: u.target.value })),
                      placeholder: 'Ex: 185',
                    }),
                    e.jsxs('div', {
                      children: [
                        e.jsx('label', {
                          className:
                            'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                          children: "Contact d'accueil",
                        }),
                        e.jsxs('select', {
                          value: _.host || '',
                          onChange: (u) => {
                            const { value: b } = u.target,
                              U = D.find((m) => m.nom === b);
                            E((m) => {
                              const A = m.logistics || {},
                                G = { ...(A.accommodation || {}) };
                              let Q = m.accommodation;
                              return (
                                b === 'Hôtel'
                                  ? ((G.type = 'hotel'), G.type, (Q = ''))
                                  : U
                                    ? ((G.type = 'host'),
                                      (G.name = U.nom),
                                      (G.address = U.address),
                                      (Q = U.address || ''))
                                    : b === 'Pas besoin' &&
                                      ((G.type = 'other'),
                                      (G.name = ''),
                                      (G.address = ''),
                                      (Q = '')),
                                {
                                  ...m,
                                  host: b,
                                  accommodation: Q,
                                  logistics: { ...A, accommodation: G },
                                }
                              );
                            });
                          },
                          title: 'Sélectionner un hôte',
                          className:
                            'w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent',
                          children: [
                            e.jsx('option', { value: '', children: 'Sélectionner un hôte...' }),
                            e.jsx('option', { value: 'Pas besoin', children: 'Pas besoin' }),
                            e.jsx('option', { value: 'Hôtel', children: 'Hôtel' }),
                            D.map((u) => e.jsx('option', { value: u.nom, children: u.nom }, u.nom)),
                          ],
                        }),
                      ],
                    }),
                    e.jsx(X, {
                      label: "Nombre d'accompagnateurs",
                      type: 'number',
                      min: 0,
                      max: 10,
                      value: _.accompanyingPersons || 0,
                      onChange: (u) =>
                        E((b) => ({
                          ...b,
                          accompanyingPersons: parseInt(u.target.value, 10) || 0,
                        })),
                      placeholder: '0',
                    }),
                  ],
                }),
                e.jsx(X, {
                  label: 'Titre du discours',
                  value: _.talkTheme || '',
                  onChange: (u) => E((b) => ({ ...b, talkTheme: u.target.value })),
                  placeholder: 'Ex: Nega iluzon di mundu...',
                }),
                e.jsxs('div', {
                  className: 'border-t border-gray-200 dark:border-gray-700 pt-4',
                  children: [
                    e.jsx('label', {
                      className: 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3',
                      children: 'Statut de la visite',
                    }),
                    e.jsxs('div', {
                      className: 'grid grid-cols-2 gap-2',
                      children: [
                        e.jsx(f, {
                          variant: r.status === 'pending' ? 'primary' : 'secondary',
                          size: 'sm',
                          onClick: () => V('pending'),
                          disabled: k,
                          leftIcon: e.jsx(ge, { className: 'w-3 h-3' }),
                          children: 'En attente',
                        }),
                        e.jsx(f, {
                          variant: r.status === 'confirmed' ? 'primary' : 'secondary',
                          size: 'sm',
                          onClick: () => V('confirmed'),
                          disabled: k,
                          leftIcon: e.jsx(de, { className: 'w-3 h-3' }),
                          children: 'Confirmé',
                        }),
                        e.jsx(f, {
                          variant: r.status === 'completed' ? 'primary' : 'secondary',
                          size: 'sm',
                          onClick: () => V('completed'),
                          disabled: k,
                          leftIcon: e.jsx(de, { className: 'w-3 h-3' }),
                          children: 'Terminé',
                        }),
                        e.jsx(f, {
                          variant: r.status === 'cancelled' ? 'danger' : 'secondary',
                          size: 'sm',
                          onClick: () => V('cancelled'),
                          disabled: k,
                          leftIcon: e.jsx(ge, { className: 'w-3 h-3' }),
                          children: 'Annulé',
                        }),
                      ],
                    }),
                    e.jsxs('p', {
                      className: 'text-xs text-gray-500 dark:text-gray-400 mt-2',
                      children: [
                        'Statut actuel: ',
                        e.jsx('span', { className: 'font-medium capitalize', children: r.status }),
                      ],
                    }),
                  ],
                }),
                e.jsx(X, {
                  label: 'Notes',
                  value: _.notes || '',
                  onChange: (u) => E((b) => ({ ...b, notes: u.target.value })),
                }),
                e.jsx('div', {
                  className:
                    'bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-sm text-gray-600 dark:text-gray-400',
                  children: `💡 Pour gérer le logement et les repas, utilisez l'onglet "Logistique" du menu`,
                }),
              ],
            });
          case 'delete':
            return e.jsxs('div', {
              className: 'text-center py-6',
              children: [
                e.jsx(Ae, { className: 'w-16 h-16 text-red-500 mx-auto mb-4' }),
                e.jsx('h3', {
                  className: 'text-lg font-semibold text-gray-900 dark:text-white mb-2',
                  children: 'Supprimer la visite',
                }),
                e.jsxs('p', {
                  className: 'text-gray-600 dark:text-gray-400 mb-6',
                  children: [
                    'Êtes-vous sûr de vouloir supprimer la visite de ',
                    e.jsx('strong', { children: r.nom }),
                    'du ',
                    new Date(r.visitDate).toLocaleDateString('fr-FR'),
                    ' ?',
                  ],
                }),
                e.jsx('p', {
                  className: 'text-sm text-red-600 dark:text-red-400',
                  children: 'Cette action est irréversible.',
                }),
              ],
            });
          case 'status':
            return e.jsxs('div', {
              className: 'space-y-4',
              children: [
                e.jsxs('h3', {
                  className: 'text-lg font-semibold flex items-center gap-2',
                  children: [e.jsx(de, { className: 'w-5 h-5' }), 'Changer le statut'],
                }),
                e.jsxs('div', {
                  className: 'space-y-3',
                  children: [
                    e.jsxs('p', {
                      className: 'text-gray-600 dark:text-gray-400',
                      children: [
                        'Statut actuel: ',
                        e.jsx('span', { className: 'font-medium', children: r.status }),
                      ],
                    }),
                    e.jsxs('div', {
                      className: 'space-y-2',
                      children: [
                        e.jsx(f, {
                          variant: 'secondary',
                          onClick: () => V('pending'),
                          className: 'w-full justify-start',
                          leftIcon: e.jsx(ge, { className: 'w-4 h-4' }),
                          children: 'Marquer en attente',
                        }),
                        e.jsx(f, {
                          variant: 'secondary',
                          onClick: () => V('confirmed'),
                          className: 'w-full justify-start',
                          leftIcon: e.jsx(de, { className: 'w-4 h-4' }),
                          children: 'Confirmer',
                        }),
                        e.jsx(f, {
                          variant: 'secondary',
                          onClick: () => V('completed'),
                          className: 'w-full justify-start',
                          leftIcon: e.jsx(de, { className: 'w-4 h-4' }),
                          children: 'Marquer comme terminé',
                        }),
                        e.jsx(f, {
                          variant: 'danger',
                          onClick: () => V('cancelled'),
                          className: 'w-full justify-start',
                          leftIcon: e.jsx(ge, { className: 'w-4 h-4' }),
                          children: 'Annuler',
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            });
          case 'message':
            return e.jsxs('div', {
              className: 'space-y-4',
              children: [
                e.jsxs('h3', {
                  className: 'text-lg font-semibold flex items-center gap-2',
                  children: [e.jsx(Qe, { className: 'w-5 h-5' }), 'Générer un message'],
                }),
                e.jsx('p', {
                  className: 'text-gray-600 dark:text-gray-400',
                  children: "Choisissez un type de message pour ouvrir l'assistant de rédaction :",
                }),
                e.jsxs('div', {
                  className: 'grid grid-cols-1 gap-2',
                  children: [
                    e.jsx(f, {
                      variant: 'secondary',
                      onClick: () => R({ isOpen: !0, type: 'confirmation' }),
                      className: 'w-full justify-start',
                      children: 'Message de confirmation',
                    }),
                    e.jsx(f, {
                      variant: 'secondary',
                      onClick: () => R({ isOpen: !0, type: 'preparation' }),
                      className: 'w-full justify-start',
                      children: 'Message de préparation',
                    }),
                    e.jsx(f, {
                      variant: 'secondary',
                      onClick: () => R({ isOpen: !0, type: 'reminder-7' }),
                      className: 'w-full justify-start',
                      children: 'Rappel J-7',
                    }),
                    e.jsx(f, {
                      variant: 'secondary',
                      onClick: () => R({ isOpen: !0, type: 'reminder-2' }),
                      className: 'w-full justify-start',
                      children: 'Rappel J-2',
                    }),
                    e.jsx(f, {
                      variant: 'secondary',
                      onClick: () => R({ isOpen: !0, type: 'thanks' }),
                      className: 'w-full justify-start',
                      children: 'Message de remerciement',
                    }),
                    e.jsx(f, {
                      variant: 'secondary',
                      onClick: () => R({ isOpen: !0, type: 'host_request' }),
                      className: 'w-full justify-start',
                      children: "Demande d'accueil",
                    }),
                  ],
                }),
              ],
            });
          case 'feedback':
            return e.jsxs('div', {
              className: 'space-y-4',
              children: [
                e.jsxs('h3', {
                  className: 'text-lg font-semibold flex items-center gap-2',
                  children: [
                    e.jsx(Fe, { className: 'w-5 h-5 text-yellow-500' }),
                    'Bilan de la visite',
                  ],
                }),
                e.jsx('div', {
                  className: 'text-sm text-gray-600 dark:text-gray-400',
                  children: 'Utilisez la modale de feedback pour évaluer cette visite.',
                }),
              ],
            });
          case 'expenses':
            return e.jsxs('div', {
              className: 'space-y-4',
              children: [
                e.jsxs('h3', {
                  className: 'text-lg font-semibold flex items-center gap-2',
                  children: [
                    e.jsx(lt, { className: 'w-5 h-5 text-green-600' }),
                    'Gestion des coûts',
                  ],
                }),
                K || C
                  ? e.jsx(gt, {
                      initialData: C,
                      onSubmit: c,
                      onCancel: () => {
                        (y(!1), S(void 0));
                      },
                    })
                  : e.jsx(Be, {
                      expenses: _.expenses || [],
                      onAdd: () => y(!0),
                      onEdit: S,
                      onDelete: ee,
                      readOnly: k,
                    }),
              ],
            });
          case 'logistics': {
            const u = { ...r, ..._ },
              b = u.logistics?.accommodation || {},
              U = (b.type || 'host') === 'host';
            return e.jsxs('div', {
              className: 'space-y-4',
              children: [
                e.jsxs('h3', {
                  className: 'text-lg font-semibold flex items-center gap-2',
                  children: [e.jsx(Ce, { className: 'w-5 h-5 text-blue-600' }), 'Logistique'],
                }),
                e.jsx(yt, {
                  logistics: {
                    ...u.logistics,
                    accommodation: {
                      ...b,
                      type: b.type || 'host',
                      name: U ? u.host || b.name || '' : b.name || '',
                      address: U ? u.accommodation || b.address || '' : b.address || '',
                    },
                  },
                  onUpdate: (m) => {
                    E((A) => ({
                      ...A,
                      logistics: m,
                      host: (m.accommodation?.type === 'host' && m.accommodation?.name) || A.host,
                      accommodation:
                        (m.accommodation?.type === 'host' && m.accommodation?.address) ||
                        A.accommodation,
                    }));
                  },
                  readOnly: k,
                  hosts: D,
                }),
                e.jsxs('div', {
                  className: 'border-t pt-4 mt-4',
                  children: [
                    e.jsx('h4', {
                      className: 'text-sm font-medium text-gray-700 dark:text-gray-300 mb-2',
                      children: 'Documents',
                    }),
                    e.jsx('div', {
                      className: 'bg-gray-50 dark:bg-gray-800 p-4 rounded-lg',
                      children: e.jsx(At, {
                        visit: u,
                        speaker: g.find((m) => m.id === u.id),
                        host: D.find((m) => m.nom === u.host),
                      }),
                    }),
                  ],
                }),
                e.jsxs('div', {
                  className: 'space-y-2',
                  children: [
                    e.jsx(f, {
                      variant: 'outline',
                      onClick: () => T(!0),
                      leftIcon: e.jsx(Ce, { className: 'w-4 h-4' }),
                      children: 'Organiser le transport',
                    }),
                    e.jsx(f, {
                      variant: 'outline',
                      onClick: () => O(!0),
                      leftIcon: e.jsx(he, { className: 'w-4 h-4' }),
                      children: 'Planifier les repas',
                    }),
                    e.jsx(f, {
                      variant: 'outline',
                      onClick: () => z(!0),
                      leftIcon: e.jsx(me, { className: 'w-4 h-4' }),
                      children: "Gérer l'hébergement",
                    }),
                  ],
                }),
              ],
            });
          }
          default:
            return null;
        }
      },
      re = () => {
        switch (x) {
          case 'edit':
          case 'logistics':
            return e.jsxs(e.Fragment, {
              children: [
                e.jsx(f, { variant: 'ghost', onClick: h, disabled: k, children: 'Annuler' }),
                e.jsx(f, { onClick: s, isLoading: k, children: 'Enregistrer' }),
              ],
            });
          case 'delete':
            return e.jsxs(e.Fragment, {
              children: [
                e.jsx(f, { variant: 'ghost', onClick: h, disabled: k, children: 'Annuler' }),
                e.jsx(f, { variant: 'danger', onClick: F, isLoading: k, children: 'Supprimer' }),
              ],
            });
          case 'feedback':
          case 'expenses':
            return null;
          case 'message':
            return e.jsx(f, { variant: 'ghost', onClick: h, disabled: k, children: 'Fermer' });
        }
      };
    return x === 'feedback' && r
      ? e.jsx(et, { isOpen: t, onClose: h, visit: r, onSubmit: te })
      : e.jsxs(e.Fragment, {
          children: [
            e.jsx(ve, {
              isOpen: t,
              onClose: h,
              size: x === 'logistics' ? 'xl' : 'md',
              footer: re(),
              children: ie(),
            }),
            N && e.jsx(ft, { isOpen: N, onClose: () => T(!1), visit: r, onSave: () => {} }),
            q && e.jsx(kt, { isOpen: q, onClose: () => O(!1), visit: r, onSave: () => {} }),
            M && e.jsx(Nt, { isOpen: M, onClose: () => z(!1), visit: r, onSelectHost: () => {} }),
            H.isOpen &&
              e.jsx(st, {
                isOpen: H.isOpen,
                onClose: () => R((u) => ({ ...u, isOpen: !1 })),
                speaker: g.find((u) => u.id === r.id) || {
                  id: r.id,
                  nom: r.nom,
                  congregation: r.congregation || '',
                  gender: 'male',
                  talkHistory: [],
                },
                visit: r,
                initialType: H.type,
              }),
          ],
        });
  };
export { lt as C, ot as E, Ve as P, Ce as T, Ht as V, ge as X, Et as l };
//# sourceMappingURL=VisitActionModal-BGIvcVq8.js.map
