{"version":3,"file":"Messages-B3IWL6ub.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../node_modules/lucide-react/dist/esm/icons/shield-alert.js","../../src/components/messages/MessageThread.tsx","../../src/components/messages/HostRequestModal.tsx","../../src/pages/Messages.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowLeft = createLucideIcon(\"ArrowLeft\", [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n]);\n\nexport { ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ShieldAlert = createLucideIcon(\"ShieldAlert\", [\n  [\"path\", { d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\", key: \"1irkt0\" }],\n  [\"path\", { d: \"M12 8v4\", key: \"1got3b\" }],\n  [\"path\", { d: \"M12 16h.01\", key: \"1drbdi\" }]\n]);\n\nexport { ShieldAlert as default };\n//# sourceMappingURL=shield-alert.js.map\n","import React from 'react';\nimport { Speaker, Visit } from '@/types';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport { Button } from '@/components/ui/Button';\nimport { Card, CardBody } from '@/components/ui/Card';\nimport { CommunicationProgress } from '@/components/messages/CommunicationProgress';\nimport { Phone, Mail, MessageSquare, Calendar, MapPin, User, Clock } from 'lucide-react';\nimport { getTalkTitle } from '@/data/talkTitles';\n\ninterface MessageThreadProps {\n  speaker: Speaker;\n  visits: Visit[];\n  onAction: (action: string, visit?: Visit) => void;\n}\n\nexport const MessageThread: React.FC<MessageThreadProps> = ({ speaker, visits, onAction }) => {\n  // Deduplicate visits based on ID\n  const uniqueVisits = visits.filter(\n    (visit, index, self) => index === self.findIndex((t) => t.id === visit.id)\n  );\n\n  // Trier les visites par date d√©croissante\n  const sortedVisits = [...uniqueVisits].sort(\n    (a, b) => new Date(b.visitDate).getTime() - new Date(a.visitDate).getTime()\n  );\n\n  return (\n    <div className='flex flex-col h-full bg-gray-50 dark:bg-gray-900'>\n      {/* Header */}\n      <div className='bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between shadow-sm'>\n        <div className='flex items-center gap-4'>\n          <div className='w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-700 dark:text-primary-300 font-bold text-lg'>\n            {speaker.nom.charAt(0)}\n          </div>\n          <div>\n            <h2 className='font-bold text-gray-900 dark:text-white'>{speaker.nom}</h2>\n            <p className='text-sm text-gray-500 dark:text-gray-400'>{speaker.congregation}</p>\n          </div>\n        </div>\n        <div className='flex gap-2'>\n          {speaker.telephone && (\n            <Button\n              variant='ghost'\n              size='sm'\n              onClick={() => window.open(`tel:${speaker.telephone}`)}\n            >\n              <Phone className='w-4 h-4' />\n            </Button>\n          )}\n          {speaker.email && (\n            <Button\n              variant='ghost'\n              size='sm'\n              onClick={() => window.open(`mailto:${speaker.email}`)}\n            >\n              <Mail className='w-4 h-4' />\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className='flex-1 overflow-y-auto p-4 space-y-6'>\n        {sortedVisits.length > 0 ? (\n          sortedVisits.map((visit) => (\n            <div key={visit.id} className='space-y-2'>\n              <div className='flex items-center gap-2 text-xs text-gray-400 font-medium uppercase tracking-wider justify-center my-4'>\n                <span className='bg-gray-200 dark:bg-gray-700 h-px w-12'></span>\n                {format(new Date(visit.visitDate), 'd MMMM yyyy', { locale: fr })}\n                <span className='bg-gray-200 dark:bg-gray-700 h-px w-12'></span>\n              </div>\n\n              <Card>\n                <CardBody className='p-4'>\n                  <div className='flex justify-between items-start mb-4'>\n                    <div>\n                      <h3 className='font-semibold text-gray-900 dark:text-white'>\n                        Discours n¬∞{visit.talkNoOrType}\n                      </h3>\n                      <p className='text-sm text-gray-500 dark:text-gray-400'>\n                        {visit.talkTheme || getTalkTitle(visit.talkNoOrType)}\n                      </p>\n                    </div>\n                    <span\n                      className={`\n                      px-2 py-1 rounded-full text-xs font-medium\n                      ${\n                        visit.status === 'confirmed'\n                          ? 'bg-green-100 text-green-800'\n                          : visit.status === 'pending'\n                            ? 'bg-orange-100 text-orange-800'\n                            : 'bg-gray-100 text-gray-800'\n                      }\n                    `}\n                    >\n                      {visit.status === 'confirmed'\n                        ? 'Confirm√©'\n                        : visit.status === 'pending'\n                          ? 'En attente'\n                          : visit.status}\n                    </span>\n                  </div>\n\n                  <div className='grid grid-cols-2 gap-4 mb-4 text-sm text-gray-600 dark:text-gray-300'>\n                    <div className='flex items-center gap-2'>\n                      <Clock className='w-4 h-4 text-gray-400' />\n                      {visit.visitTime}\n                    </div>\n                    <div className='flex items-center gap-2'>\n                      <MapPin className='w-4 h-4 text-gray-400' />\n                      {visit.locationType === 'physical' ? 'Salle du Royaume' : 'Zoom'}\n                    </div>\n                    {visit.host && (\n                      <div className='flex items-center gap-2 col-span-2'>\n                        <User className='w-4 h-4 text-gray-400' />\n                        H√©berg√© par {visit.host}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Barre de progression communication */}\n                  <div className='mb-4'>\n                    <CommunicationProgress visit={visit} showLabels={true} size='md' />\n                  </div>\n\n                  <div className='flex flex-wrap gap-2 pt-4 border-t border-gray-100 dark:border-gray-700'>\n                    <Button\n                      size='sm'\n                      variant='primary'\n                      leftIcon={<MessageSquare className='w-4 h-4' />}\n                      onClick={() => onAction('whatsapp', visit)}\n                    >\n                      G√©n√©rer un message\n                    </Button>\n                    {visit.status === 'pending' && (\n                      <>\n                        <Button\n                          size='sm'\n                          variant='primary'\n                          onClick={() => onAction('confirm', visit)}\n                        >\n                          Confirmer\n                        </Button>\n                        {visit.locationType === 'physical' && (\n                          <Button\n                            size='sm'\n                            variant='outline'\n                            onClick={() => onAction('host_request', visit)}\n                          >\n                            Demander un h√¥te\n                          </Button>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </CardBody>\n              </Card>\n            </div>\n          ))\n        ) : (\n          <div className='text-center py-12 text-gray-500 dark:text-gray-400'>\n            <Calendar className='w-12 h-12 mx-auto mb-3 opacity-20' />\n            <p>Aucune visite programm√©e avec cet orateur</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { Badge } from '@/components/ui/Badge';\nimport { Visit, Language } from '@/types';\nimport { useData } from '@/contexts/DataContext';\nimport { useSettings } from '@/contexts/SettingsContext';\nimport { useToast } from '@/contexts/ToastContext';\nimport { generateHostRequestMessage } from '@/utils/messageGenerator';\nimport { Send, Copy, Check } from 'lucide-react';\nimport { formatFullDate } from '@/utils/formatters';\nimport { getTalkTitle } from '@/data/talkTitles';\n\ninterface HostRequestModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  visitsNeedingHost: Visit[];\n}\n\nexport const HostRequestModal: React.FC<HostRequestModalProps> = ({\n  isOpen,\n  onClose,\n  visitsNeedingHost,\n}) => {\n  const { congregationProfile } = useData();\n  const { settings } = useSettings();\n  const { addToast } = useToast();\n\n  const [selectedVisits, setSelectedVisits] = useState<Set<string>>(\n    new Set()\n  );\n  const [message, setMessage] = useState('');\n  const [isIndividualRequest, setIsIndividualRequest] = useState(false);\n  const [selectedHost, setSelectedHost] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState<Language>(settings.language);\n\n  // G√©n√©rer le message quand les visites s√©lectionn√©es ou les param√®tres changent\n  React.useEffect(() => {\n    if (selectedVisits.size > 0 || (isIndividualRequest && selectedVisits.size > 0)) {\n      generateMessage();\n    } else {\n      setMessage('');\n    }\n  }, [selectedVisits, isIndividualRequest, selectedHost, selectedLanguage]);\n\n  const generateMessage = () => {\n    const visits = visitsNeedingHost.filter((v) => selectedVisits.has(v.visitId));\n    \n    if (visits.length === 0) return;\n\n    const generated = generateHostRequestMessage(\n      visits,\n      congregationProfile,\n      selectedLanguage,\n      undefined, // customTemplate\n      isIndividualRequest,\n      selectedHost\n    );\n    \n    setMessage(generated);\n  };\n\n  const toggleVisit = (visitId: string) => {\n    const newSelected = new Set(selectedVisits);\n    if (newSelected.has(visitId)) {\n      newSelected.delete(visitId);\n    } else {\n      newSelected.add(visitId);\n    }\n    setSelectedVisits(newSelected);\n  };\n\n  const toggleAll = () => {\n    if (selectedVisits.size === visitsNeedingHost.length) {\n      setSelectedVisits(new Set());\n    } else {\n      setSelectedVisits(new Set(visitsNeedingHost.map((v) => v.visitId)));\n    }\n  };\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(message);\n      addToast('Message copi√© dans le presse-papier', 'success');\n    } catch (_error) {\n      addToast('Erreur lors de la copie', 'error');\n    }\n  };\n\n  const handleSendWhatsApp = () => {\n    const encodedMessage = encodeURIComponent(message);\n    // Envoyer au groupe KBV Lyon (vous pouvez configurer le num√©ro de groupe)\n    window.open(`https://wa.me/?text=${encodedMessage}`, '_blank');\n    onClose();\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={isIndividualRequest ? \"Demande d'accueil individuelle\" : \"Demande d'accueil group√©e\"}\n      size='lg'\n      footer={\n        <>\n          <Button variant='ghost' onClick={onClose}>\n            Annuler\n          </Button>\n          <Button\n            variant='secondary'\n            onClick={handleCopy}\n            leftIcon={<Copy className='w-4 h-4' />}\n            disabled={selectedVisits.size === 0 || (!isIndividualRequest && selectedVisits.size === 0)}\n            title={!isIndividualRequest && selectedVisits.size === 0 ? 'S√©lectionnez au moins une visite' : ''}\n          >\n            Copier\n          </Button>\n          <Button\n            onClick={handleSendWhatsApp}\n            leftIcon={<Send className='w-4 h-4' />}\n            disabled={selectedVisits.size === 0 || (!isIndividualRequest && selectedVisits.size === 0)}\n            title={!isIndividualRequest && selectedVisits.size === 0 ? 'S√©lectionnez au moins une visite' : ''}\n          >\n            Envoyer sur WhatsApp\n          </Button>\n        </>\n      }\n    >\n      <div className='space-y-6'>\n        {/* Header avec compteur */}\n        <div className='flex items-center justify-between p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg'>\n          <div>\n            <h3 className='font-semibold text-orange-900 dark:text-orange-300'>\n              {visitsNeedingHost.length} visite{visitsNeedingHost.length > 1 ? 's' : ''} sans\n              contact d'accueil\n            </h3>\n            <p className='text-sm text-orange-700 dark:text-orange-400 mt-1'>\n              S√©lectionnez les visites pour lesquelles demander un contact\n            </p>\n          </div>\n          <Badge variant='warning' size='md'>\n            {selectedVisits.size} s√©lectionn√©e{selectedVisits.size > 1 ? 's' : ''}\n          </Badge>\n        </div>\n\n        {/* Liste des visites */}\n        <div className=\"space-y-4\">\n          {/* S√©lecteur de type de demande */}\n          <div className=\"flex space-x-4 mb-4\">\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"radio\"\n                className=\"form-radio\"\n                checked={!isIndividualRequest}\n                onChange={() => {\n                  setIsIndividualRequest(false);\n                  setSelectedHost('');\n                }}\n              />\n              <span>Demande group√©e</span>\n            </label>\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"radio\"\n                className=\"form-radio\"\n                checked={isIndividualRequest}\n                onChange={() => setIsIndividualRequest(true)}\n              />\n              <span>Demande individuelle</span>\n            </label>\n          </div>\n\n          {/* S√©lecteur de langue */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Langue du message\n            </label>\n            <div className=\"flex space-x-4\">\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  className=\"form-radio\"\n                  checked={selectedLanguage === 'fr'}\n                  onChange={() => setSelectedLanguage('fr')}\n                />\n                <span>üá´üá∑ Fran√ßais</span>\n              </label>\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  className=\"form-radio\"\n                  checked={selectedLanguage === 'cv'}\n                  onChange={() => setSelectedLanguage('cv')}\n                />\n                <span>üá®üáª Capverdien</span>\n              </label>\n              <label className=\"flex items-center space-x-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  className=\"form-radio\"\n                  checked={selectedLanguage === 'pt'}\n                  onChange={() => setSelectedLanguage('pt')}\n                />\n                <span>üáµüáπ Portugais</span>\n              </label>\n            </div>\n          </div>\n\n          {isIndividualRequest && (\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                S√©lectionnez l'h√¥te\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"Nom de l'h√¥te\"\n                value={selectedHost}\n                onChange={(e) => setSelectedHost(e.target.value)}\n              />\n            </div>\n          )}\n\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-sm font-medium\">\n                {isIndividualRequest ? 'S√©lectionnez une visite' : 'S√©lectionnez les visites'}\n              </h3>\n              {!isIndividualRequest && (\n                <button\n                  onClick={toggleAll}\n                  className=\"text-sm text-blue-600 hover:underline\"\n                >\n                  {selectedVisits.size === visitsNeedingHost.length ? 'Tout d√©s√©lectionner' : 'Tout s√©lectionner'}\n                </button>\n              )}\n            </div>\n\n            <div className='max-h-64 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3'>\n              {visitsNeedingHost.map((visit) => (\n                <div\n                  key={visit.visitId}\n                  className={`p-3 rounded-md cursor-pointer transition-colors ${\n                    selectedVisits.has(visit.visitId)\n                      ? 'bg-blue-50 border border-blue-200'\n                      : 'hover:bg-gray-50 border border-transparent'\n                  } ${isIndividualRequest && selectedVisits.size > 0 && !selectedVisits.has(visit.visitId) ? 'opacity-50' : ''}`}\n                  onClick={() => {\n                    if (isIndividualRequest) {\n                      const newSelected = new Set<string>();\n                      newSelected.add(visit.visitId);\n                      setSelectedVisits(newSelected);\n                    } else {\n                      toggleVisit(visit.visitId);\n                    }\n                  }}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"font-medium\">{visit.nom}</p>\n                      <p className=\"text-sm text-gray-600\">\n                        {formatFullDate(visit.visitDate)} √† {visit.visitTime}\n                      </p>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {getTalkTitle(visit.talkNoOrType || '')}\n                      </p>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      {visit.host === '√Ä d√©finir' ? (\n                        <Badge variant=\"warning\">√Ä d√©finir</Badge>\n                      ) : (\n                        <Badge variant=\"success\">D√©fini</Badge>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Aper√ßu du message */}\n        <div>\n          <h4 className='font-medium text-gray-900 dark:text-white mb-2'>Aper√ßu du message</h4>\n          <div className='relative'>\n            <textarea\n              className='w-full h-64 p-4 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none font-mono text-sm'\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder={\n                selectedVisits.size === 0\n                  ? 'S√©lectionnez au moins une visite pour g√©n√©rer le message...'\n                  : 'G√©n√©ration du message...'\n              }\n              disabled={selectedVisits.size === 0}\n            />\n            {selectedVisits.size > 0 && (\n              <div className='absolute top-2 right-2'>\n                <Badge variant='success' size='sm'>\n                  <Check className='w-3 h-3 mr-1' />\n                  Message pr√™t\n                </Badge>\n              </div>\n            )}\n          </div>\n          <p className='text-xs text-gray-500 dark:text-gray-400 mt-2'>\n            üí° Vous pouvez modifier le message avant de l'envoyer\n          </p>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n","import React, { useState, useMemo } from 'react';\nimport { useData } from '@/contexts/DataContext';\nimport { usePlatformContext } from '@/contexts/PlatformContext';\nimport { MessageThread } from '@/components/messages/MessageThread';\nimport { MessageGeneratorModal } from '@/components/messages/MessageGeneratorModal';\nimport { HostRequestModal } from '@/components/messages/HostRequestModal';\nimport { Button } from '@/components/ui/Button';\n\nimport { Badge } from '@/components/ui/Badge';\nimport { Card, CardBody } from '@/components/ui/Card';\nimport { cn } from '@/utils/cn';\nimport {\n  MessageSquare,\n  Search,\n  Plus,\n  CheckCircle,\n  Clock,\n  Users,\n  ArrowLeft,\n  ChevronRight,\n  Send,\n  Mail,\n  UserCheck,\n  ShieldAlert,\n  Info,\n} from 'lucide-react';\nimport { Speaker, Visit } from '@/types';\n\nexport const Messages: React.FC = () => {\n  const { visits, speakers, updateVisit, refreshData } = useData();\n  const { deviceType } = usePlatformContext();\n  const isTablet = deviceType === 'tablet';\n  const isSamsungTablet = isTablet && window.innerWidth >= 1200;\n\n  React.useEffect(() => {\n    if (refreshData) refreshData();\n  }, []);\n\n  const [selectedSpeaker, setSelectedSpeaker] = useState<Speaker | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeFilter, setActiveFilter] = useState<'all' | 'pending' | 'needs_host'>('all');\n  const [isGeneratorModalOpen, setIsGeneratorModalOpen] = useState(false);\n  const [isHostRequestModalOpen, setIsHostRequestModalOpen] = useState(false);\n  const [generatorVisit, setGeneratorVisit] = useState<Visit | null>(null);\n\n  // Group visits by speaker\n  const conversations = useMemo(() => {\n    const convos: { speaker: Speaker; visits: Visit[]; nextVisitDate: string }[] = [];\n    const seenSpeakers = new Set<string>();\n\n    speakers.forEach((speaker) => {\n      if (!seenSpeakers.has(speaker.id)) {\n        seenSpeakers.add(speaker.id);\n        const speakerVisits = visits.filter((v) => {\n          const type = (v.talkNoOrType || '').toLowerCase();\n          const isSpecialEvent =\n            type.includes('assembl') ||\n            type.includes('congr') ||\n            type.includes('especial') ||\n            type.includes('circun');\n          return v.id === speaker.id && !isSpecialEvent && v.status !== 'cancelled';\n        });\n\n        if (speakerVisits.length > 0) {\n          const sortedVisits = [...speakerVisits].sort(\n            (a, b) => new Date(a.visitDate).getTime() - new Date(b.visitDate).getTime()\n          );\n          const upcomingVisits = sortedVisits.filter(\n            (v) => new Date(v.visitDate) >= new Date(new Date().setHours(0, 0, 0, 0))\n          );\n\n          if (upcomingVisits.length > 0) {\n            convos.push({\n              speaker,\n              visits: sortedVisits,\n              nextVisitDate: upcomingVisits[0].visitDate,\n            });\n          }\n        }\n      }\n    });\n\n    return convos.sort(\n      (a, b) => new Date(a.nextVisitDate).getTime() - new Date(b.nextVisitDate).getTime()\n    );\n  }, [visits, speakers]);\n\n  // Filtered conversations\n  const filteredConversations = useMemo(() => {\n    return conversations.filter((convo) => {\n      const matchesSearch =\n        convo.speaker.nom.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        convo.speaker.congregation.toLowerCase().includes(searchTerm.toLowerCase());\n\n      const matchesFilter =\n        activeFilter === 'all' ||\n        (activeFilter === 'pending' && convo.visits.some((v) => v.status === 'pending')) ||\n        (activeFilter === 'needs_host' &&\n          convo.visits.some((v) => !v.host || v.host === '√Ä d√©finir'));\n\n      return matchesSearch && matchesFilter;\n    });\n  }, [conversations, searchTerm, activeFilter]);\n\n  const stats = useMemo(() => {\n    const pendingTotal = visits.filter((v) => v.status === 'pending').length;\n    const confirmedTotal = visits.filter((v) => v.status === 'confirmed').length;\n    const needingHostTotal = visits.filter(\n      (v) => (!v.host || v.host === '√Ä d√©finir') && v.locationType === 'physical'\n    ).length;\n    return {\n      pendingTotal,\n      confirmedTotal,\n      needingHostTotal,\n      totalConversations: conversations.length,\n    };\n  }, [visits, conversations]);\n\n  const handleMessageAction = (action: string, visit?: Visit) => {\n    if ((action === 'whatsapp' || action === 'email') && visit && selectedSpeaker) {\n      setGeneratorVisit(visit);\n      setIsGeneratorModalOpen(true);\n    } else if (action === 'confirm' && visit) {\n      updateVisit({ ...visit, status: 'confirmed', updatedAt: new Date().toISOString() });\n    } else if (action === 'host_request' && visit) {\n      setGeneratorVisit(visit);\n      setIsHostRequestModalOpen(true);\n    }\n  };\n\n  return (\n    <div className='max-w-[1600px] mx-auto space-y-8 px-4 sm:px-6 lg:px-8 py-4'>\n      {/* Header Section */}\n      <div className='flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 dark:border-gray-700 pb-6'>\n        <div>\n          <div className='flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400 font-medium mb-1'>\n            <MessageSquare className='w-4 h-4' />\n            <span>Communications Hub</span>\n          </div>\n          <h2 className='text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight'>\n            Messages & Suivi\n          </h2>\n          <p className='text-gray-500 dark:text-gray-400 mt-2 max-w-2xl text-sm'>\n            G√©rez vos √©changes avec les orateurs, confirmez les visites et organisez l'accueil en un\n            seul endroit.\n          </p>\n        </div>\n\n        <div className='flex items-center gap-3'>\n          {deviceType === 'phone' && selectedSpeaker && (\n            <Button\n              variant='ghost'\n              onClick={() => setSelectedSpeaker(null)}\n              leftIcon={<ArrowLeft className='w-4 h-4' />}\n            >\n              Retour\n            </Button>\n          )}\n          <Button\n            className='shadow-lg shadow-primary-200 dark:shadow-none'\n            leftIcon={<Plus className='w-4 h-4' />}\n            onClick={() => {\n              setGeneratorVisit(null);\n              setIsGeneratorModalOpen(true);\n            }}\n          >\n            Nouveau Message\n          </Button>\n        </div>\n      </div>\n\n      {/* Landing / Stats Layer */}\n      {(!selectedSpeaker || !isTablet) && (\n        <div className='grid grid-cols-2 md:grid-cols-4 gap-4 animate-in fade-in duration-500'>\n          {[\n            {\n              label: 'Conversations',\n              value: stats.totalConversations,\n              icon: MessageSquare,\n              color: 'text-blue-600',\n              bg: 'bg-blue-50 dark:bg-blue-900/20',\n            },\n            {\n              label: 'En attente',\n              value: stats.pendingTotal,\n              icon: Clock,\n              color: 'text-orange-600',\n              bg: 'bg-orange-50 dark:bg-orange-900/20',\n            },\n            {\n              label: '√Ä confirmer',\n              value: stats.needingHostTotal,\n              icon: Users,\n              color: 'text-red-600',\n              bg: 'bg-red-50 dark:bg-red-900/20',\n            },\n            {\n              label: 'Confirm√©es',\n              value: stats.confirmedTotal,\n              icon: CheckCircle,\n              color: 'text-green-600',\n              bg: 'bg-green-50 dark:bg-green-900/20',\n            },\n          ].map((s, i) => (\n            <Card\n              key={i}\n              className='border-none shadow-sm hover:translate-y-[-2px] transition-transform'\n            >\n              <CardBody className='p-4 flex items-center justify-between'>\n                <div>\n                  <p className='text-[10px] font-bold text-gray-400 uppercase tracking-widest'>\n                    {s.label}\n                  </p>\n                  <p className='text-xl font-black text-gray-900 dark:text-white mt-1'>{s.value}</p>\n                </div>\n                <div className={cn('p-2.5 rounded-xl', s.bg)}>\n                  <s.icon className={cn('w-4 h-4', s.color)} />\n                </div>\n              </CardBody>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Main Content Area */}\n      <div className='flex flex-col lg:flex-row gap-8 items-start min-h-[600px]'>\n        {/* Left Pane: Conversations List */}\n        {(!selectedSpeaker || deviceType !== 'phone') && (\n          <div\n            className={cn(\n              'flex flex-col w-full shrink-0',\n              isSamsungTablet ? 'lg:w-[450px]' : 'lg:w-96'\n            )}\n          >\n            <div className='space-y-4 sticky top-4'>\n              {/* Filter & Search Card */}\n              <Card className='border-none shadow-md overflow-hidden'>\n                <CardBody className='p-4 space-y-4'>\n                  <div className='relative'>\n                    <Search className='absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400' />\n                    <input\n                      className='w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-800 border-none rounded-xl text-sm focus:ring-2 focus:ring-primary-500 transition-all'\n                      placeholder='Rechercher un orateur...'\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                    />\n                  </div>\n\n                  <div className='flex gap-1 overflow-x-auto pb-1 scrollbar-none'>\n                    {[\n                      { id: 'all', label: 'Tout' },\n                      { id: 'pending', label: 'En attente' },\n                      { id: 'needs_host', label: 'Sans accueil' },\n                    ].map((f) => (\n                      <button\n                        key={f.id}\n                        onClick={() => setActiveFilter(f.id as any)}\n                        className={cn(\n                          'px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-all uppercase tracking-tighter',\n                          activeFilter === f.id\n                            ? 'bg-primary-600 text-white shadow-md'\n                            : 'bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200'\n                        )}\n                      >\n                        {f.label}\n                      </button>\n                    ))}\n                  </div>\n                </CardBody>\n              </Card>\n\n              {/* Conversations Scroller */}\n              <div className='space-y-2 max-h-[calc(100vh-250px)] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-700'>\n                {filteredConversations.length > 0 ? (\n                  filteredConversations.map(({ speaker, visits: speakerVisits, nextVisitDate }) => {\n                    const isSelected = selectedSpeaker?.id === speaker.id;\n                    const hasPending = speakerVisits.some((v) => v.status === 'pending');\n                    const needsHost = speakerVisits.some(\n                      (v) => (!v.host || v.host === '√Ä d√©finir') && v.locationType === 'physical'\n                    );\n\n                    return (\n                      <button\n                        key={speaker.id}\n                        onClick={() => setSelectedSpeaker(speaker)}\n                        className={cn(\n                          'w-full flex items-start gap-3 p-4 rounded-2xl text-left transition-all duration-200 group relative',\n                          isSelected\n                            ? 'bg-white dark:bg-gray-800 shadow-xl border-l-[6px] border-primary-500 translate-x-1'\n                            : 'hover:bg-white/50 dark:hover:bg-white/5'\n                        )}\n                      >\n                        <div\n                          className={cn(\n                            'relative w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg shrink-0 transition-transform group-hover:scale-105',\n                            isSelected\n                              ? 'bg-primary-600 text-white shadow-lg'\n                              : 'bg-gray-100 dark:bg-gray-800 text-gray-400'\n                          )}\n                        >\n                          {speaker.nom.charAt(0).toUpperCase()}\n                          {(hasPending || needsHost) && (\n                            <div className='absolute -top-1 -right-1 w-3.5 h-3.5 bg-red-500 border-2 border-white dark:border-gray-900 rounded-full animate-pulse' />\n                          )}\n                        </div>\n\n                        <div className='flex-1 min-w-0'>\n                          <div className='flex items-center justify-between mb-1'>\n                            <h4\n                              className={cn(\n                                'font-bold truncate text-sm uppercase tracking-tight',\n                                isSelected\n                                  ? 'text-gray-900 dark:text-white'\n                                  : 'text-gray-600 dark:text-gray-400'\n                              )}\n                            >\n                              {speaker.nom}\n                            </h4>\n                            <span className='text-[10px] text-gray-400 font-bold uppercase'>\n                              {new Date(nextVisitDate).toLocaleDateString('fr-FR', {\n                                day: '2-digit',\n                                month: 'short',\n                              })}\n                            </span>\n                          </div>\n                          <p className='text-[11px] text-gray-500 truncate mb-2'>\n                            {speaker.congregation}\n                          </p>\n\n                          <div className='flex gap-1.5'>\n                            {hasPending && (\n                              <Badge variant='danger' className='text-[9px] px-1.5 py-0'>\n                                √Ä CONFIRMER\n                              </Badge>\n                            )}\n                            {needsHost && (\n                              <Badge variant='warning' className='text-[9px] px-1.5 py-0'>\n                                SANS ACCUEIL\n                              </Badge>\n                            )}\n                            {!hasPending && !needsHost && (\n                              <Badge variant='success' className='text-[9px] px-1.5 py-0'>\n                                OK\n                              </Badge>\n                            )}\n                          </div>\n                        </div>\n\n                        <ChevronRight\n                          className={cn(\n                            'w-4 h-4 mt-1 transition-all',\n                            isSelected\n                              ? 'opacity-100 text-primary-500'\n                              : 'opacity-0 group-hover:opacity-100 text-gray-300'\n                          )}\n                        />\n                      </button>\n                    );\n                  })\n                ) : (\n                  <div className='py-20 text-center opacity-40'>\n                    <Info className='w-8 h-8 mx-auto mb-3' />\n                    <p className='text-xs font-bold uppercase tracking-widest'>Aucun r√©sultat</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Right Pane: Message Thread / Dashboard Overview */}\n        {(selectedSpeaker || isTablet) && (\n          <div className='flex-1 w-full min-h-[600px]'>\n            {selectedSpeaker ? (\n              <div className='animate-in fade-in slide-in-from-right-4 duration-300 h-full'>\n                <Card className='border-none shadow-xl h-full flex flex-col bg-gray-50 dark:bg-gray-900/40 rounded-3xl overflow-hidden'>\n                  <MessageThread\n                    speaker={selectedSpeaker}\n                    visits={visits.filter((v) => v.id === selectedSpeaker.id)}\n                    onAction={handleMessageAction}\n                  />\n                </Card>\n              </div>\n            ) : (\n              <div className='h-full flex flex-col items-center justify-center p-12 text-center animate-in zoom-in-95 duration-500'>\n                <div className='relative mb-10'>\n                  <div className='absolute -inset-4 bg-primary-100 dark:bg-primary-900/30 rounded-full blur-2xl animate-pulse' />\n                  <div className='relative w-24 h-24 bg-white dark:bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center'>\n                    <Send className='w-12 h-12 text-primary-500 rotate-[-15deg]' />\n                  </div>\n                </div>\n\n                <h3 className='text-2xl font-black text-gray-900 dark:text-white tracking-tighter mb-4'>\n                  Pr√™t √† communiquer ?\n                </h3>\n                <p className='text-gray-500 max-w-sm mb-12 text-sm leading-relaxed'>\n                  S√©lectionnez un orateur dans la liste de gauche pour pr√©parer son arriv√©e, g√©rer\n                  l'accueil ou simplement lui envoyer un message de confirmation.\n                </p>\n\n                <div className='grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-2xl'>\n                  {[\n                    { icon: Mail, label: 'Mod√®les SMS', desc: 'Gagnez du temps' },\n                    { icon: UserCheck, label: 'Suivi Pr√©cis', desc: 'Statut en direct' },\n                    { icon: ShieldAlert, label: 'Gestion Hosting', desc: 'Alertes accueil' },\n                  ].map((feat, i) => (\n                    <div\n                      key={i}\n                      className='p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 hover:shadow-md transition-all'\n                    >\n                      <feat.icon className='w-6 h-6 text-primary-500 mx-auto mb-3' />\n                      <p className='font-bold text-xs uppercase tracking-tighter mb-1'>\n                        {feat.label}\n                      </p>\n                      <p className='text-[10px] text-gray-400'>{feat.desc}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Modals */}\n      {isGeneratorModalOpen && (\n        <MessageGeneratorModal\n          isOpen={isGeneratorModalOpen}\n          onClose={() => {\n            setIsGeneratorModalOpen(false);\n            setGeneratorVisit(null);\n          }}\n          speaker={selectedSpeaker || speakers[0]}\n          visit={generatorVisit || visits.find((v) => v.id === selectedSpeaker?.id) || visits[0]}\n        />\n      )}\n\n      {isHostRequestModalOpen && (\n        <HostRequestModal\n          isOpen={isHostRequestModalOpen}\n          onClose={() => setIsHostRequestModalOpen(false)}\n          visitsNeedingHost={visits.filter(\n            (v) => (!v.host || v.host === '√Ä d√©finir') && v.locationType === 'physical'\n          )}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Messages;\n"],"names":["ArrowLeft","createLucideIcon","ShieldAlert","MessageThread","speaker","visits","onAction","sortedVisits","visit","index","self","t","b","jsxs","jsx","Button","Phone","Mail","format","fr","Card","CardBody","getTalkTitle","Clock","MapPin","User","CommunicationProgress","MessageSquare","Fragment","Calendar","HostRequestModal","isOpen","onClose","visitsNeedingHost","congregationProfile","useData","settings","useSettings","addToast","useToast","selectedVisits","setSelectedVisits","useState","message","setMessage","isIndividualRequest","setIsIndividualRequest","selectedHost","setSelectedHost","selectedLanguage","setSelectedLanguage","React","generateMessage","v","generated","generateHostRequestMessage","toggleVisit","visitId","newSelected","toggleAll","handleCopy","handleSendWhatsApp","encodedMessage","Modal","Copy","Send","Badge","e","formatFullDate","Check","Messages","speakers","updateVisit","refreshData","deviceType","usePlatformContext","isTablet","isSamsungTablet","selectedSpeaker","setSelectedSpeaker","searchTerm","setSearchTerm","activeFilter","setActiveFilter","isGeneratorModalOpen","setIsGeneratorModalOpen","isHostRequestModalOpen","setIsHostRequestModalOpen","generatorVisit","setGeneratorVisit","conversations","useMemo","convos","seenSpeakers","speakerVisits","type","isSpecialEvent","a","upcomingVisits","filteredConversations","convo","matchesSearch","matchesFilter","stats","pendingTotal","confirmedTotal","needingHostTotal","handleMessageAction","action","Plus","Users","CheckCircle","cn","Search","f","nextVisitDate","isSelected","hasPending","needsHost","ChevronRight","Info","UserCheck","feat","MessageGeneratorModal"],"mappings":"2mBASA,MAAMA,GAAYC,EAAiB,YAAa,CAC9C,CAAC,OAAQ,CAAE,EAAG,iBAAkB,IAAK,QAAQ,CAAE,EAC/C,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,CAC3C,CAAC,ECHD,MAAMC,GAAcD,EAAiB,cAAe,CAClD,CAAC,OAAQ,CAAE,EAAG,6CAA8C,IAAK,QAAQ,CAAE,EAC3E,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,CAC7C,CAAC,ECGYE,GAA8C,CAAC,CAAE,QAAAC,EAAS,OAAAC,EAAQ,SAAAC,KAAe,CAO5F,MAAMC,EAAe,CAAC,GALDF,EAAO,OAC1B,CAACG,EAAOC,EAAOC,IAASD,IAAUC,EAAK,UAAWC,GAAMA,EAAE,KAAOH,EAAM,EAAE,CAAA,CAItC,EAAE,KACrC,CAAC,EAAGI,IAAM,IAAI,KAAKA,EAAE,SAAS,EAAE,QAAA,EAAY,IAAI,KAAK,EAAE,SAAS,EAAE,QAAA,CAAQ,EAG5E,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,mDAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0HACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,sJACZ,WAAQ,IAAI,OAAO,CAAC,EACvB,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,0CAA2C,SAAAV,EAAQ,IAAI,EACrEU,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA4C,WAAQ,YAAA,CAAa,CAAA,CAAA,CAChF,CAAA,EACF,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACZ,SAAA,CAAAT,EAAQ,WACPU,EAAAA,IAACC,EAAA,CACC,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,OAAO,KAAK,OAAOX,EAAQ,SAAS,EAAE,EAErD,SAAAU,EAAAA,IAACE,GAAA,CAAM,UAAU,SAAA,CAAU,CAAA,CAAA,EAG9BZ,EAAQ,OACPU,EAAAA,IAACC,EAAA,CACC,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,OAAO,KAAK,UAAUX,EAAQ,KAAK,EAAE,EAEpD,SAAAU,EAAAA,IAACG,EAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,CAC5B,CAAA,CAEJ,CAAA,EACF,EAGAH,EAAAA,IAAC,MAAA,CAAI,UAAU,uCACZ,WAAa,OAAS,EACrBP,EAAa,IAAKC,GAChBK,EAAAA,KAAC,MAAA,CAAmB,UAAU,YAC5B,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yGACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wCAAA,CAAyC,EACxDI,GAAO,IAAI,KAAKV,EAAM,SAAS,EAAG,cAAe,CAAE,OAAQW,EAAI,EAChEL,EAAAA,IAAC,OAAA,CAAK,UAAU,wCAAA,CAAyC,CAAA,EAC3D,EAEAA,MAACM,EAAA,CACC,SAAAP,EAAAA,KAACQ,EAAA,CAAS,UAAU,MAClB,SAAA,CAAAR,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,8CAA8C,SAAA,CAAA,cAC9CL,EAAM,YAAA,EACpB,EACAM,EAAAA,IAAC,KAAE,UAAU,2CACV,WAAM,WAAaQ,EAAad,EAAM,YAAY,CAAA,CACrD,CAAA,EACF,EACAM,EAAAA,IAAC,OAAA,CACC,UAAW;AAAA;AAAA,wBAGTN,EAAM,SAAW,YACb,8BACAA,EAAM,SAAW,UACf,gCACA,2BACR;AAAA,sBAGC,SAAAA,EAAM,SAAW,YACd,WACAA,EAAM,SAAW,UACf,aACAA,EAAM,MAAA,CAAA,CACd,EACF,EAEAK,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAM,UAAU,uBAAA,CAAwB,EACxCf,EAAM,SAAA,EACT,EACAK,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACU,GAAA,CAAO,UAAU,uBAAA,CAAwB,EACzChB,EAAM,eAAiB,WAAa,mBAAqB,MAAA,EAC5D,EACCA,EAAM,MACLK,OAAC,MAAA,CAAI,UAAU,qCACb,SAAA,CAAAC,EAAAA,IAACW,GAAA,CAAK,UAAU,uBAAA,CAAwB,EAAE,eAC7BjB,EAAM,IAAA,CAAA,CACrB,CAAA,EAEJ,EAGAM,EAAAA,IAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAACY,GAAA,CAAsB,MAAAlB,EAAc,WAAY,GAAM,KAAK,IAAA,CAAK,CAAA,CACnE,EAEAK,EAAAA,KAAC,MAAA,CAAI,UAAU,0EACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,KAAK,KACL,QAAQ,UACR,SAAUD,EAAAA,IAACa,EAAA,CAAc,UAAU,SAAA,CAAU,EAC7C,QAAS,IAAMrB,EAAS,WAAYE,CAAK,EAC1C,SAAA,oBAAA,CAAA,EAGAA,EAAM,SAAW,WAChBK,EAAAA,KAAAe,EAAAA,SAAA,CACE,SAAA,CAAAd,EAAAA,IAACC,EAAA,CACC,KAAK,KACL,QAAQ,UACR,QAAS,IAAMT,EAAS,UAAWE,CAAK,EACzC,SAAA,WAAA,CAAA,EAGAA,EAAM,eAAiB,YACtBM,EAAAA,IAACC,EAAA,CACC,KAAK,KACL,QAAQ,UACR,QAAS,IAAMT,EAAS,eAAgBE,CAAK,EAC9C,SAAA,kBAAA,CAAA,CAED,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAAA,GA3FQA,EAAM,EA4FhB,CACD,EAEDK,EAAAA,KAAC,MAAA,CAAI,UAAU,qDACb,SAAA,CAAAC,EAAAA,IAACe,EAAA,CAAS,UAAU,mCAAA,CAAoC,EACxDf,EAAAA,IAAC,KAAE,SAAA,2CAAA,CAAyC,CAAA,CAAA,CAC9C,CAAA,CAEJ,CAAA,EACF,CAEJ,ECtJagB,GAAoD,CAAC,CAChE,OAAAC,EACA,QAAAC,EACA,kBAAAC,CACF,IAAM,CACJ,KAAM,CAAE,oBAAAC,CAAA,EAAwBC,EAAA,EAC1B,CAAE,SAAAC,CAAA,EAAaC,EAAA,EACf,CAAE,SAAAC,CAAA,EAAaC,EAAA,EAEf,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,aACtC,GAAI,EAEJ,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAE,EACnC,CAACG,EAAqBC,CAAsB,EAAIJ,EAAAA,SAAS,EAAK,EAC9D,CAACK,EAAcC,CAAe,EAAIN,EAAAA,SAAS,EAAE,EAC7C,CAACO,EAAkBC,CAAmB,EAAIR,EAAAA,SAAmBN,EAAS,QAAQ,EAGpFe,EAAM,UAAU,IAAM,CAChBX,EAAe,KAAO,GAAMK,GAAuBL,EAAe,KAAO,EAC3EY,EAAA,EAEAR,EAAW,EAAE,CAEjB,EAAG,CAACJ,EAAgBK,EAAqBE,EAAcE,CAAgB,CAAC,EAExE,MAAMG,EAAkB,IAAM,CAC5B,MAAM/C,EAAS4B,EAAkB,OAAQoB,GAAMb,EAAe,IAAIa,EAAE,OAAO,CAAC,EAE5E,GAAIhD,EAAO,SAAW,EAAG,OAEzB,MAAMiD,EAAYC,GAChBlD,EACA6B,EACAe,EACA,OACAJ,EACAE,CAAA,EAGFH,EAAWU,CAAS,CACtB,EAEME,EAAeC,GAAoB,CACvC,MAAMC,EAAc,IAAI,IAAIlB,CAAc,EACtCkB,EAAY,IAAID,CAAO,EACzBC,EAAY,OAAOD,CAAO,EAE1BC,EAAY,IAAID,CAAO,EAEzBhB,EAAkBiB,CAAW,CAC/B,EAEMC,EAAY,IAAM,CAClBnB,EAAe,OAASP,EAAkB,OAC5CQ,EAAkB,IAAI,GAAK,EAE3BA,EAAkB,IAAI,IAAIR,EAAkB,IAAKoB,GAAMA,EAAE,OAAO,CAAC,CAAC,CAEtE,EAEMO,EAAa,SAAY,CAC7B,GAAI,CACF,MAAM,UAAU,UAAU,UAAUjB,CAAO,EAC3CL,EAAS,sCAAuC,SAAS,CAC3D,MAAiB,CACfA,EAAS,0BAA2B,OAAO,CAC7C,CACF,EAEMuB,EAAqB,IAAM,CAC/B,MAAMC,EAAiB,mBAAmBnB,CAAO,EAEjD,OAAO,KAAK,uBAAuBmB,CAAc,GAAI,QAAQ,EAC7D9B,EAAA,CACF,EAEA,OACElB,EAAAA,IAACiD,EAAA,CACC,OAAAhC,EACA,QAAAC,EACA,MAAOa,EAAsB,iCAAmC,4BAChE,KAAK,KACL,OACEhC,EAAAA,KAAAe,WAAA,CACE,SAAA,CAAAd,MAACC,EAAA,CAAO,QAAQ,QAAQ,QAASiB,EAAS,SAAA,UAE1C,EACAlB,EAAAA,IAACC,EAAA,CACC,QAAQ,YACR,QAAS6C,EACT,SAAU9C,EAAAA,IAACkD,GAAA,CAAK,UAAU,SAAA,CAAU,EACpC,SAAUxB,EAAe,OAAS,GAAM,CAACK,GAAuBL,EAAe,OAAS,EACxF,MAAO,CAACK,GAAuBL,EAAe,OAAS,EAAI,mCAAqC,GACjG,SAAA,QAAA,CAAA,EAGD1B,EAAAA,IAACC,EAAA,CACC,QAAS8C,EACT,SAAU/C,EAAAA,IAACmD,EAAA,CAAK,UAAU,SAAA,CAAU,EACpC,SAAUzB,EAAe,OAAS,GAAM,CAACK,GAAuBL,EAAe,OAAS,EACxF,MAAO,CAACK,GAAuBL,EAAe,OAAS,EAAI,mCAAqC,GACjG,SAAA,sBAAA,CAAA,CAED,EACF,EAGF,SAAA3B,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,sIACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACX,SAAA,CAAAoB,EAAkB,OAAO,UAAQA,EAAkB,OAAS,EAAI,IAAM,GAAG,yBAAA,EAE5E,EACAnB,EAAAA,IAAC,IAAA,CAAE,UAAU,oDAAoD,SAAA,8DAAA,CAEjE,CAAA,EACF,EACAD,EAAAA,KAACqD,EAAA,CAAM,QAAQ,UAAU,KAAK,KAC3B,SAAA,CAAA1B,EAAe,KAAK,gBAAcA,EAAe,KAAO,EAAI,IAAM,EAAA,CAAA,CACrE,CAAA,EACF,EAGA3B,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,sBACb,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,6CACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAU,aACV,QAAS,CAAC+B,EACV,SAAU,IAAM,CACdC,EAAuB,EAAK,EAC5BE,EAAgB,EAAE,CACpB,CAAA,CAAA,EAEFlC,EAAAA,IAAC,QAAK,SAAA,iBAAA,CAAe,CAAA,EACvB,EACAD,EAAAA,KAAC,QAAA,CAAM,UAAU,6CACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAU,aACV,QAAS+B,EACT,SAAU,IAAMC,EAAuB,EAAI,CAAA,CAAA,EAE7ChC,EAAAA,IAAC,QAAK,SAAA,sBAAA,CAAoB,CAAA,CAAA,CAC5B,CAAA,EACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,oBAEhE,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,6CACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAU,aACV,QAASmC,IAAqB,KAC9B,SAAU,IAAMC,EAAoB,IAAI,CAAA,CAAA,EAE1CpC,EAAAA,IAAC,QAAK,SAAA,eAAA,CAAa,CAAA,EACrB,EACAD,EAAAA,KAAC,QAAA,CAAM,UAAU,6CACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAU,aACV,QAASmC,IAAqB,KAC9B,SAAU,IAAMC,EAAoB,IAAI,CAAA,CAAA,EAE1CpC,EAAAA,IAAC,QAAK,SAAA,iBAAA,CAAe,CAAA,EACvB,EACAD,EAAAA,KAAC,QAAA,CAAM,UAAU,6CACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAU,aACV,QAASmC,IAAqB,KAC9B,SAAU,IAAMC,EAAoB,IAAI,CAAA,CAAA,EAE1CpC,EAAAA,IAAC,QAAK,SAAA,gBAAA,CAAc,CAAA,CAAA,CACtB,CAAA,CAAA,CACF,CAAA,EACF,EAEC+B,GACChC,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,sBAEhE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAU,4BACV,YAAY,gBACZ,MAAOiC,EACP,SAAWoB,GAAMnB,EAAgBmB,EAAE,OAAO,KAAK,CAAA,CAAA,CACjD,EACF,EAGFtD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,MAAC,KAAA,CAAG,UAAU,sBACX,SAAA+B,EAAsB,0BAA4B,2BACrD,EACC,CAACA,GACA/B,EAAAA,IAAC,SAAA,CACC,QAAS6C,EACT,UAAU,wCAET,SAAAnB,EAAe,OAASP,EAAkB,OAAS,sBAAwB,mBAAA,CAAA,CAC9E,EAEJ,QAEC,MAAA,CAAI,UAAU,gGACZ,SAAAA,EAAkB,IAAKzB,GACtBM,EAAAA,IAAC,MAAA,CAEC,UAAW,mDACT0B,EAAe,IAAIhC,EAAM,OAAO,EAC5B,oCACA,4CACN,IAAIqC,GAAuBL,EAAe,KAAO,GAAK,CAACA,EAAe,IAAIhC,EAAM,OAAO,EAAI,aAAe,EAAE,GAC5G,QAAS,IAAM,CACb,GAAIqC,EAAqB,CACvB,MAAMa,MAAkB,IACxBA,EAAY,IAAIlD,EAAM,OAAO,EAC7BiC,EAAkBiB,CAAW,CAC/B,MACEF,EAAYhD,EAAM,OAAO,CAE7B,EAEA,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,cAAe,SAAAN,EAAM,IAAI,EACtCK,EAAAA,KAAC,IAAA,CAAE,UAAU,wBACV,SAAA,CAAAuD,EAAe5D,EAAM,SAAS,EAAE,MAAIA,EAAM,SAAA,EAC7C,EACAM,MAAC,KAAE,UAAU,6BACV,WAAaN,EAAM,cAAgB,EAAE,CAAA,CACxC,CAAA,EACF,QACC,MAAA,CAAI,UAAU,8BACZ,SAAAA,EAAM,OAAS,YACdM,EAAAA,IAACoD,EAAA,CAAM,QAAQ,UAAU,qBAAS,EAElCpD,MAACoD,GAAM,QAAQ,UAAU,kBAAM,CAAA,CAEnC,CAAA,CAAA,CACF,CAAA,EAjCK1D,EAAM,OAAA,CAmCd,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAAM,EAAAA,IAAC,KAAA,CAAG,UAAU,iDAAiD,SAAA,oBAAiB,EAChFD,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAC,EAAAA,IAAC,WAAA,CACC,UAAU,4NACV,MAAO6B,EACP,SAAWwB,GAAMvB,EAAWuB,EAAE,OAAO,KAAK,EAC1C,YACE3B,EAAe,OAAS,EACpB,8DACA,2BAEN,SAAUA,EAAe,OAAS,CAAA,CAAA,EAEnCA,EAAe,KAAO,GACrB1B,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACb,SAAAD,EAAAA,KAACqD,EAAA,CAAM,QAAQ,UAAU,KAAK,KAC5B,SAAA,CAAApD,EAAAA,IAACuD,GAAA,CAAM,UAAU,cAAA,CAAe,EAAE,cAAA,CAAA,CAEpC,CAAA,CACF,CAAA,EAEJ,EACAvD,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,uDAAA,CAE7D,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAGN,EC3RawD,GAAqB,IAAM,CACtC,KAAM,CAAE,OAAAjE,EAAQ,SAAAkE,EAAU,YAAAC,EAAa,YAAAC,CAAA,EAAgBtC,EAAA,EACjD,CAAE,WAAAuC,CAAA,EAAeC,EAAA,EACjBC,EAAWF,IAAe,SAC1BG,EAAkBD,GAAY,OAAO,YAAc,KAEzDzB,EAAM,UAAU,IAAM,CAChBsB,GAAaA,EAAA,CACnB,EAAG,CAAA,CAAE,EAEL,KAAM,CAACK,EAAiBC,CAAkB,EAAIrC,EAAAA,SAAyB,IAAI,EACrE,CAACsC,EAAYC,CAAa,EAAIvC,EAAAA,SAAS,EAAE,EACzC,CAACwC,EAAcC,CAAe,EAAIzC,EAAAA,SAA2C,KAAK,EAClF,CAAC0C,EAAsBC,CAAuB,EAAI3C,EAAAA,SAAS,EAAK,EAChE,CAAC4C,EAAwBC,CAAyB,EAAI7C,EAAAA,SAAS,EAAK,EACpE,CAAC8C,EAAgBC,CAAiB,EAAI/C,EAAAA,SAAuB,IAAI,EAGjEgD,EAAgBC,EAAAA,QAAQ,IAAM,CAClC,MAAMC,EAAyE,CAAA,EACzEC,MAAmB,IAEzB,OAAAtB,EAAS,QAASnE,GAAY,CAC5B,GAAI,CAACyF,EAAa,IAAIzF,EAAQ,EAAE,EAAG,CACjCyF,EAAa,IAAIzF,EAAQ,EAAE,EAC3B,MAAM0F,EAAgBzF,EAAO,OAAQgD,GAAM,CACzC,MAAM0C,GAAQ1C,EAAE,cAAgB,IAAI,YAAA,EAC9B2C,EACJD,EAAK,SAAS,SAAS,GACvBA,EAAK,SAAS,OAAO,GACrBA,EAAK,SAAS,UAAU,GACxBA,EAAK,SAAS,QAAQ,EACxB,OAAO1C,EAAE,KAAOjD,EAAQ,IAAM,CAAC4F,GAAkB3C,EAAE,SAAW,WAChE,CAAC,EAED,GAAIyC,EAAc,OAAS,EAAG,CAC5B,MAAMvF,EAAe,CAAC,GAAGuF,CAAa,EAAE,KACtC,CAACG,EAAGrF,IAAM,IAAI,KAAKqF,EAAE,SAAS,EAAE,QAAA,EAAY,IAAI,KAAKrF,EAAE,SAAS,EAAE,QAAA,CAAQ,EAEtEsF,EAAiB3F,EAAa,OACjC8C,GAAM,IAAI,KAAKA,EAAE,SAAS,GAAK,IAAI,KAAK,IAAI,OAAO,SAAS,EAAG,EAAG,EAAG,CAAC,CAAC,CAAA,EAGtE6C,EAAe,OAAS,GAC1BN,EAAO,KAAK,CACV,QAAAxF,EACA,OAAQG,EACR,cAAe2F,EAAe,CAAC,EAAE,SAAA,CAClC,CAEL,CACF,CACF,CAAC,EAEMN,EAAO,KACZ,CAACK,EAAGrF,IAAM,IAAI,KAAKqF,EAAE,aAAa,EAAE,QAAA,EAAY,IAAI,KAAKrF,EAAE,aAAa,EAAE,QAAA,CAAQ,CAEtF,EAAG,CAACP,EAAQkE,CAAQ,CAAC,EAGf4B,EAAwBR,EAAAA,QAAQ,IAC7BD,EAAc,OAAQU,GAAU,CACrC,MAAMC,EACJD,EAAM,QAAQ,IAAI,YAAA,EAAc,SAASpB,EAAW,YAAA,CAAa,GACjEoB,EAAM,QAAQ,aAAa,YAAA,EAAc,SAASpB,EAAW,aAAa,EAEtEsB,EACJpB,IAAiB,OAChBA,IAAiB,WAAakB,EAAM,OAAO,KAAM/C,GAAMA,EAAE,SAAW,SAAS,GAC7E6B,IAAiB,cAChBkB,EAAM,OAAO,KAAM/C,GAAM,CAACA,EAAE,MAAQA,EAAE,OAAS,WAAW,EAE9D,OAAOgD,GAAiBC,CAC1B,CAAC,EACA,CAACZ,EAAeV,EAAYE,CAAY,CAAC,EAEtCqB,EAAQZ,EAAAA,QAAQ,IAAM,CAC1B,MAAMa,EAAenG,EAAO,OAAQgD,GAAMA,EAAE,SAAW,SAAS,EAAE,OAC5DoD,EAAiBpG,EAAO,OAAQgD,GAAMA,EAAE,SAAW,WAAW,EAAE,OAChEqD,EAAmBrG,EAAO,OAC7BgD,IAAO,CAACA,EAAE,MAAQA,EAAE,OAAS,cAAgBA,EAAE,eAAiB,UAAA,EACjE,OACF,MAAO,CACL,aAAAmD,EACA,eAAAC,EACA,iBAAAC,EACA,mBAAoBhB,EAAc,MAAA,CAEtC,EAAG,CAACrF,EAAQqF,CAAa,CAAC,EAEpBiB,EAAsB,CAACC,EAAgBpG,IAAkB,EACxDoG,IAAW,YAAcA,IAAW,UAAYpG,GAASsE,GAC5DW,EAAkBjF,CAAK,EACvB6E,EAAwB,EAAI,GACnBuB,IAAW,WAAapG,EACjCgE,EAAY,CAAE,GAAGhE,EAAO,OAAQ,YAAa,UAAW,IAAI,KAAA,EAAO,YAAA,EAAe,EACzEoG,IAAW,gBAAkBpG,IACtCiF,EAAkBjF,CAAK,EACvB+E,EAA0B,EAAI,EAElC,EAEA,OACE1E,EAAAA,KAAC,MAAA,CAAI,UAAU,6DAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kHACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0FACb,SAAA,CAAAC,EAAAA,IAACa,EAAA,CAAc,UAAU,SAAA,CAAU,EACnCb,EAAAA,IAAC,QAAK,SAAA,oBAAA,CAAkB,CAAA,EAC1B,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,uEAAuE,SAAA,mBAErF,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,0DAA0D,SAAA,wGAAA,CAGvE,CAAA,EACF,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAA6D,IAAe,SAAWI,GACzBhE,EAAAA,IAACC,EAAA,CACC,QAAQ,QACR,QAAS,IAAMgE,EAAmB,IAAI,EACtC,SAAUjE,EAAAA,IAACd,GAAA,CAAU,UAAU,SAAA,CAAU,EAC1C,SAAA,QAAA,CAAA,EAIHc,EAAAA,IAACC,EAAA,CACC,UAAU,gDACV,SAAUD,EAAAA,IAAC+F,EAAA,CAAK,UAAU,SAAA,CAAU,EACpC,QAAS,IAAM,CACbpB,EAAkB,IAAI,EACtBJ,EAAwB,EAAI,CAC9B,EACD,SAAA,iBAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,GAGE,CAACP,GAAmB,CAACF,IACrB9D,EAAAA,IAAC,MAAA,CAAI,UAAU,wEACZ,SAAA,CACC,CACE,MAAO,gBACP,MAAOyF,EAAM,mBACb,KAAM5E,EACN,MAAO,gBACP,GAAI,gCAAA,EAEN,CACE,MAAO,aACP,MAAO4E,EAAM,aACb,KAAMhF,EACN,MAAO,kBACP,GAAI,oCAAA,EAEN,CACE,MAAO,cACP,MAAOgF,EAAM,iBACb,KAAMO,GACN,MAAO,eACP,GAAI,8BAAA,EAEN,CACE,MAAO,aACP,MAAOP,EAAM,eACb,KAAMQ,GACN,MAAO,iBACP,GAAI,kCAAA,CACN,EACA,IAAI,CAAC,EAAG,IACRjG,EAAAA,IAACM,EAAA,CAEC,UAAU,sEAEV,SAAAP,EAAAA,KAACQ,EAAA,CAAS,UAAU,wCAClB,SAAA,CAAAR,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,gEACV,SAAA,EAAE,MACL,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,wDAAyD,WAAE,KAAA,CAAM,CAAA,EAChF,QACC,MAAA,CAAI,UAAWkG,EAAG,mBAAoB,EAAE,EAAE,EACzC,SAAAlG,EAAAA,IAAC,EAAE,KAAF,CAAO,UAAWkG,EAAG,UAAW,EAAE,KAAK,EAAG,CAAA,CAC7C,CAAA,CAAA,CACF,CAAA,EAbK,CAAA,CAeR,EACH,EAIFnG,EAAAA,KAAC,MAAA,CAAI,UAAU,4DAEX,SAAA,EAAA,CAACiE,GAAmBJ,IAAe,UACnC5D,EAAAA,IAAC,MAAA,CACC,UAAWkG,EACT,gCACAnC,EAAkB,eAAiB,SAAA,EAGrC,SAAAhE,EAAAA,KAAC,MAAA,CAAI,UAAU,yBAEb,SAAA,CAAAC,EAAAA,IAACM,GAAK,UAAU,wCACd,SAAAP,EAAAA,KAACQ,EAAA,CAAS,UAAU,gBAClB,SAAA,CAAAR,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAC,EAAAA,IAACmG,GAAA,CAAO,UAAU,gEAAA,CAAiE,EACnFnG,EAAAA,IAAC,QAAA,CACC,UAAU,uIACV,YAAY,2BACZ,MAAOkE,EACP,SAAWb,GAAMc,EAAcd,EAAE,OAAO,KAAK,CAAA,CAAA,CAC/C,EACF,EAEArD,EAAAA,IAAC,MAAA,CAAI,UAAU,iDACZ,SAAA,CACC,CAAE,GAAI,MAAO,MAAO,MAAA,EACpB,CAAE,GAAI,UAAW,MAAO,YAAA,EACxB,CAAE,GAAI,aAAc,MAAO,cAAA,CAAe,EAC1C,IAAKoG,GACLpG,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAMqE,EAAgB+B,EAAE,EAAS,EAC1C,UAAWF,EACT,uGACA9B,IAAiBgC,EAAE,GACf,sCACA,8DAAA,EAGL,SAAAA,EAAE,KAAA,EATEA,EAAE,EAAA,CAWV,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,EAGApG,EAAAA,IAAC,MAAA,CAAI,UAAU,iIACZ,WAAsB,OAAS,EAC9BqF,EAAsB,IAAI,CAAC,CAAE,QAAA/F,EAAS,OAAQ0F,EAAe,cAAAqB,KAAoB,CAC/E,MAAMC,EAAatC,GAAiB,KAAO1E,EAAQ,GAC7CiH,EAAavB,EAAc,KAAMzC,GAAMA,EAAE,SAAW,SAAS,EAC7DiE,EAAYxB,EAAc,KAC7BzC,IAAO,CAACA,EAAE,MAAQA,EAAE,OAAS,cAAgBA,EAAE,eAAiB,UAAA,EAGnE,OACExC,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAMkE,EAAmB3E,CAAO,EACzC,UAAW4G,EACT,qGACAI,EACI,sFACA,yCAAA,EAGN,SAAA,CAAAvG,EAAAA,KAAC,MAAA,CACC,UAAWmG,EACT,wIACAI,EACI,sCACA,4CAAA,EAGL,SAAA,CAAAhH,EAAQ,IAAI,OAAO,CAAC,EAAE,YAAA,GACrBiH,GAAcC,IACdxG,EAAAA,IAAC,MAAA,CAAI,UAAU,uHAAA,CAAwH,CAAA,CAAA,CAAA,EAI3ID,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CACC,UAAWkG,EACT,sDACAI,EACI,gCACA,kCAAA,EAGL,SAAAhH,EAAQ,GAAA,CAAA,EAEXU,EAAAA,IAAC,QAAK,UAAU,gDACb,aAAI,KAAKqG,CAAa,EAAE,mBAAmB,QAAS,CACnD,IAAK,UACL,MAAO,OAAA,CACR,CAAA,CACH,CAAA,EACF,EACArG,EAAAA,IAAC,IAAA,CAAE,UAAU,0CACV,WAAQ,aACX,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,eACZ,SAAA,CAAAwG,SACEnD,EAAA,CAAM,QAAQ,SAAS,UAAU,yBAAyB,SAAA,cAE3D,EAEDoD,GACCxG,EAAAA,IAACoD,EAAA,CAAM,QAAQ,UAAU,UAAU,yBAAyB,SAAA,eAE5D,EAED,CAACmD,GAAc,CAACC,GACfxG,EAAAA,IAACoD,GAAM,QAAQ,UAAU,UAAU,yBAAyB,SAAA,IAAA,CAE5D,CAAA,CAAA,CAEJ,CAAA,EACF,EAEApD,EAAAA,IAACyG,GAAA,CACC,UAAWP,EACT,8BACAI,EACI,+BACA,iDAAA,CACN,CAAA,CACF,CAAA,EAxEKhH,EAAQ,EAAA,CA2EnB,CAAC,EAEDS,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAAC0G,GAAA,CAAK,UAAU,sBAAA,CAAuB,EACvC1G,EAAAA,IAAC,IAAA,CAAE,UAAU,8CAA8C,SAAA,gBAAA,CAAc,CAAA,CAAA,CAC3E,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,GAKFgE,GAAmBF,IACnB9D,EAAAA,IAAC,MAAA,CAAI,UAAU,8BACZ,SAAAgE,EACChE,EAAAA,IAAC,MAAA,CAAI,UAAU,+DACb,SAAAA,EAAAA,IAACM,EAAA,CAAK,UAAU,wGACd,SAAAN,EAAAA,IAACX,GAAA,CACC,QAAS2E,EACT,OAAQzE,EAAO,OAAQgD,GAAMA,EAAE,KAAOyB,EAAgB,EAAE,EACxD,SAAU6B,CAAA,CAAA,EAEd,CAAA,CACF,EAEA9F,EAAAA,KAAC,MAAA,CAAI,UAAU,uGACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,6FAAA,CAA8F,EAC7GA,EAAAA,IAAC,OAAI,UAAU,sGACb,eAACmD,EAAA,CAAK,UAAU,6CAA6C,CAAA,CAC/D,CAAA,EACF,EAEAnD,EAAAA,IAAC,KAAA,CAAG,UAAU,0EAA0E,SAAA,uBAExF,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,uDAAuD,SAAA,mJAGpE,EAEAA,EAAAA,IAAC,MAAA,CAAI,UAAU,yDACZ,SAAA,CACC,CAAE,KAAMG,EAAM,MAAO,cAAe,KAAM,iBAAA,EAC1C,CAAE,KAAMwG,GAAW,MAAO,eAAgB,KAAM,kBAAA,EAChD,CAAE,KAAMvH,GAAa,MAAO,kBAAmB,KAAM,iBAAA,CAAkB,EACvE,IAAI,CAACwH,EAAM,IACX7G,EAAAA,KAAC,MAAA,CAEC,UAAU,oIAEV,SAAA,CAAAC,EAAAA,IAAC4G,EAAK,KAAL,CAAU,UAAU,uCAAA,CAAwC,EAC7D5G,EAAAA,IAAC,IAAA,CAAE,UAAU,oDACV,WAAK,MACR,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,4BAA6B,WAAK,IAAA,CAAK,CAAA,CAAA,EAP/C,CAAA,CASR,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAEJ,CAAA,EAEJ,EAGCsE,GACCtE,EAAAA,IAAC6G,GAAA,CACC,OAAQvC,EACR,QAAS,IAAM,CACbC,EAAwB,EAAK,EAC7BI,EAAkB,IAAI,CACxB,EACA,QAASX,GAAmBP,EAAS,CAAC,EACtC,MAAOiB,GAAkBnF,EAAO,KAAMgD,GAAMA,EAAE,KAAOyB,GAAiB,EAAE,GAAKzE,EAAO,CAAC,CAAA,CAAA,EAIxFiF,GACCxE,EAAAA,IAACgB,GAAA,CACC,OAAQwD,EACR,QAAS,IAAMC,EAA0B,EAAK,EAC9C,kBAAmBlF,EAAO,OACvBgD,IAAO,CAACA,EAAE,MAAQA,EAAE,OAAS,cAAgBA,EAAE,eAAiB,UAAA,CACnE,CAAA,CACF,EAEJ,CAEJ","x_google_ignoreList":[0,1]}