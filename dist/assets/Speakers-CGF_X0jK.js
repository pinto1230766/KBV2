import{c as U,j as e,e as I,u as V,S as P,B as N,f as z,g as B,a as A,k as T,I as W,P as J,U as Y,H as _}from"./index-AmzywnQ-.js";import{r as x}from"./charts-CCOFnOOy.js";import{I as b,P as H,U as Q,S as K,M as X}from"./Select-D3AihcAO.js";import{F as Z,W as ee,c as ae,P as O,v as re}from"./WorkloadIndicator-bNkt5oP9.js";import{T as D}from"./trash-2-DmDBTQF6.js";import{M as R}from"./mail-kyr6NBUW.js";import{C as te,S as se,F as le}from"./FeedbackFormModal-DPgQ6wkp.js";import"./react-vendor-B9D_A6Vq.js";import"./utils-FTT-aY8U.js";const oe=U("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);const ne=U("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ie={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},ce={default:"bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300"},$=({src:g,alt:h,name:r,size:y="md",className:p,fallbackClassName:c,...s})=>{const u=ie[y],f=c||ce.default;return g?e.jsx("div",{className:I("rounded-full overflow-hidden flex items-center justify-center",u,p),...s,children:e.jsx("img",{src:g,alt:h||r||"Avatar",className:"w-full h-full object-cover",onError:n=>{const l=n.target;l.style.display="none";const i=l.parentElement;i&&(i.className=I("rounded-full overflow-hidden flex items-center justify-center font-bold",u,f),i.textContent=r?r.charAt(0).toUpperCase():"?")}})}):e.jsx("div",{className:I("rounded-full overflow-hidden flex items-center justify-center font-bold",u,f,p),...s,children:r?r.charAt(0).toUpperCase():"?"})},de=({speakers:g,onEdit:h,onDelete:r,onFeedback:y})=>{const{visits:p}=V(),[c,s]=x.useState(""),[u,f]=x.useState("name"),[n,l]=x.useState("all"),i=a=>{const d=a.toLowerCase().trim();return{lyon:"Lyon KBV","lyon kbv":"Lyon KBV",creil:"Creil KBV","creil kbv":"Creil KBV","villiers kbv":"Villiers-sur-Marne","villiers-sur-marne":"Villiers-sur-Marne","st denis kbv":"St Denis KBV","st denis":"St Denis KBV","marseille kbv":"Marseille KBV",marseille:"Marseille KBV","cannes kbv":"Cannes KBV","nice kbv":"Nice KBV","plaisir kbv":"Plaisir KBV","ettelbruck kbv":"Ettelbruck KBV","steinsel kbv":"Steinsel KBV","porto kbv":"Porto KBV","albufeira kbv":"Albufeira KBV","rotterdam kbv":"Rotterdam KBV"}[d]||a},o=Array.from(new Set(g.map(a=>i(a.congregation)))).sort((a,d)=>a.toLowerCase().localeCompare(d.toLowerCase())),t=g.filter(a=>{const d=i(a.congregation),m=n==="all"||d===n,v=a.nom.toLowerCase().includes(c.toLowerCase())||a.congregation.toLowerCase().includes(c.toLowerCase());return m&&v}).sort((a,d)=>{if(u==="congregation"){const m=a.congregation.toLowerCase(),v=d.congregation.toLowerCase();if(m!==v)return m.localeCompare(v)}return a.nom.toLowerCase().localeCompare(d.nom.toLowerCase())});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsx(b,{placeholder:"Rechercher un orateur...",leftIcon:e.jsx(P,{className:"w-4 h-4"}),value:c,onChange:a=>s(a.target.value)})})}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs(N,{variant:u==="name"?"primary":"secondary",size:"sm",onClick:()=>f(u==="name"?"congregation":"name"),leftIcon:e.jsx(oe,{className:"w-4 h-4"}),children:["Trier par ",u==="name"?"congrégation":"nom"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:n,onChange:a=>l(a.target.value),title:"Filtrer par congrégation",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toutes les congrégations"}),o.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(a=>{const d=a.talkHistory[0],m=d?p.find(v=>v.visitId===d.visitId):void 0;return e.jsx(z,{hoverable:!0,children:e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{src:a.photoUrl,name:a.nom,size:"md",fallbackClassName:"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:a.nom}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:a.congregation}),e.jsx(ee,{workload:ae(a,p),size:"sm"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>h(a),"aria-label":"Modifier l'orateur",children:e.jsx(O,{className:"w-4 h-4 text-gray-500"})}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>r(a.id),"aria-label":"Supprimer l'orateur",children:e.jsx(D,{className:"w-4 h-4 text-red-500"})})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[a.telephone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`tel:${a.telephone}`,className:"hover:text-primary-600",children:a.telephone})]}),a.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`mailto:${a.email}`,className:"hover:text-primary-600 truncate",children:a.email})]}),a.isVehiculed&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{children:"Véhiculé"})]})]}),d&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Dernier discours :"}),m&&new Date(m.visitDate)<new Date&&e.jsx(N,{variant:"outline",size:"sm",onClick:()=>y(m),leftIcon:e.jsx(se,{className:"w-3 h-3"}),children:"Évaluer"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{className:"font-medium",children:["N°",d.talkNo," - ",d.talkTheme]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(d.date).toLocaleDateString("fr-FR")})]})]}),a.talkHistory.length===0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 text-xs text-gray-500",children:"Aucune visite enregistrée"})]})},a.id)})}),t.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Aucun orateur trouvé"})]})},q=({value:g,onChange:h,label:r="Photo",size:y="md",className:p=""})=>{const c=x.useRef(null),[s,u]=x.useState(!1),f=x.useId(),n={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},l={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"},i=async d=>{const m=d.target.files?.[0];if(m){if(!m.type.startsWith("image/")){alert("Veuillez sélectionner une image");return}if(m.size>5*1024*1024){alert("L'image ne doit pas dépasser 5 Mo");return}u(!0);try{const v=await o(m,300,300);h(v)}catch(v){console.error("Erreur lors du traitement de l'image:",v),alert("Erreur lors du traitement de l'image")}finally{u(!1)}}},o=(d,m,v)=>new Promise((M,E)=>{const L=new FileReader;L.onload=F=>{const C=new Image;C.onload=()=>{const S=document.createElement("canvas");let{width:w,height:k}=C;w>k?w>m&&(k=k*m/w,w=m):k>v&&(w=w*v/k,k=v),S.width=w,S.height=k;const j=S.getContext("2d");if(!j){E(new Error("Impossible de créer le contexte canvas"));return}j.drawImage(C,0,0,w,k);const G=S.toDataURL("image/jpeg",.8);M(G)},C.onerror=()=>E(new Error("Erreur de chargement de l'image")),C.src=F.target?.result},L.onerror=()=>E(new Error("Erreur de lecture du fichier")),L.readAsDataURL(d)}),t=()=>{h(void 0),c.current&&(c.current.value="")},a=()=>{c.current?.click()};return e.jsxs("div",{className:`space-y-2 ${p}`,children:[r&&e.jsx("label",{htmlFor:f,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{onClick:a,className:`
              ${n[y]}
              rounded-full overflow-hidden border-2 border-dashed border-gray-300 dark:border-gray-600
              hover:border-primary-500 dark:hover:border-primary-400
              transition-colors cursor-pointer
              flex items-center justify-center
              bg-gray-100 dark:bg-gray-700
              ${s?"opacity-50":""}
            `,children:g?e.jsx("img",{src:g,alt:"Photo",className:"w-full h-full object-cover"}):e.jsx(Q,{className:`${l[y]} text-gray-400 dark:text-gray-500`})}),e.jsx("button",{type:"button",onClick:a,className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full bg-primary-600 hover:bg-primary-700 text-white flex items-center justify-center shadow-lg transition-colors",title:"Changer la photo",children:e.jsx(ne,{className:"w-4 h-4"})})]}),g&&e.jsx("button",{type:"button",onClick:t,className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Supprimer la photo",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx("input",{id:f,ref:c,type:"file",accept:"image/*",onChange:i,className:"hidden","aria-label":r})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Formats acceptés : JPG, PNG, GIF. Max 5 Mo."})]})},me=({isOpen:g,onClose:h,speaker:r})=>{const{addSpeaker:y,updateSpeaker:p,speakers:c}=V(),{addToast:s}=A(),[u,f]=x.useState(!1),[n,l]=x.useState({nom:"",congregation:"",telephone:"",email:"",photoUrl:"",gender:"male",notes:"",isVehiculed:!0});x.useEffect(()=>{l(r?{...r,nom:r.nom||"",congregation:r.congregation||"",telephone:r.telephone||"",email:r.email||"",photoUrl:r.photoUrl||"",gender:r.gender||"male",notes:r.notes||"",isVehiculed:r.isVehiculed??!0}:{nom:"",congregation:"",telephone:"",email:"",photoUrl:"",gender:"male",notes:"",isVehiculed:!0})},[r,g]);const i=async o=>{o.preventDefault(),f(!0);try{if(!n.nom||!n.congregation)throw new Error("Le nom et la congrégation sont obligatoires");if(!r&&c.some(a=>a.nom.toLowerCase()===n.nom?.toLowerCase()))throw new Error("Un orateur avec ce nom existe déjà");const t={...n,id:r?r.id:re(),talkHistory:r?r.talkHistory:[],updatedAt:new Date().toISOString(),createdAt:r?r.createdAt:new Date().toISOString()};r?(p(t),s("Orateur mis à jour avec succès","success")):(y(t),s("Orateur ajouté avec succès","success")),h()}catch(t){s(t instanceof Error?t.message:"Erreur lors de l'enregistrement","error")}finally{f(!1)}};return e.jsx(T,{isOpen:g,onClose:h,title:r?"Modifier l'orateur":"Ajouter un orateur",size:"lg",footer:e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"ghost",onClick:h,disabled:u,children:"Annuler"}),e.jsx(N,{onClick:i,isLoading:u,children:"Enregistrer"})]}),children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(q,{value:n.photoUrl||"",onChange:o=>l(t=>({...t,photoUrl:o})),label:"Photo de l'orateur",size:"lg"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"Nom complet",value:n.nom||"",onChange:o=>l(t=>({...t,nom:o.target.value})),required:!0,placeholder:"Ex: Jean Dupont"}),e.jsx(b,{label:"Congrégation",value:n.congregation||"",onChange:o=>l(t=>({...t,congregation:o.target.value})),required:!0,placeholder:"Ex: Lyon Centre"}),e.jsx(b,{label:"Téléphone",value:n.telephone||"",onChange:o=>l(t=>({...t,telephone:o.target.value})),placeholder:"Ex: 06 12 34 56 78"}),e.jsx(b,{label:"Email",type:"email",value:n.email||"",onChange:o=>l(t=>({...t,email:o.target.value})),placeholder:"Ex: jean.dupont@email.com"}),e.jsx(K,{label:"Genre",options:[{value:"male",label:"Frère"},{value:"female",label:"Sœur"},{value:"couple",label:"Couple"}],value:n.gender||"male",onChange:o=>l(t=>({...t,gender:o.target.value}))}),e.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[e.jsx("input",{type:"checkbox",id:"isVehiculed",checked:n.isVehiculed,onChange:o=>l(t=>({...t,isVehiculed:o.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"isVehiculed",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Est véhiculé"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),e.jsx("textarea",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,value:n.notes||"",onChange:o=>l(t=>({...t,notes:o.target.value})),placeholder:"Notes particulières..."})]})]})})},xe=({hosts:g,onEdit:h,onDelete:r})=>{const[y,p]=x.useState(""),c=g.filter(s=>s.nom.toLowerCase().includes(y.toLowerCase())||s.address&&s.address.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsx(b,{placeholder:"Rechercher un contact...",leftIcon:e.jsx(P,{className:"w-4 h-4"}),value:y,onChange:s=>p(s.target.value)})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>e.jsx(z,{hoverable:!0,children:e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{src:s.photoUrl,name:s.nom,size:"md",fallbackClassName:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.nom}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Capacité: ",s.capacity," pers."]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>h(s),children:e.jsx(O,{className:"w-4 h-4 text-gray-500"})}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>r(s.nom),children:e.jsx(D,{className:"w-4 h-4 text-red-500"})})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[s.telephone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`tel:${s.telephone}`,className:"hover:text-primary-600",children:s.telephone})]}),s.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:text-primary-600 truncate",children:s.email})]}),s.address&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:s.address})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 flex flex-wrap gap-2",children:[s.hasPets&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Animaux"}),s.notes&&e.jsxs("div",{className:"w-full flex items-start gap-2 mt-2 text-xs text-gray-500 italic",children:[e.jsx(W,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"line-clamp-2",children:s.notes})]})]})]})},s.nom))}),c.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Aucun contact trouvé"})]})},ge=({isOpen:g,onClose:h,host:r})=>{const{addHost:y,updateHost:p,hosts:c}=V(),{addToast:s}=A(),[u,f]=x.useState(!1),n=2,[l,i]=x.useState({nom:"",address:"",telephone:"",email:"",photoUrl:"",gender:"couple",notes:"",capacity:n,hasPets:!1,isSmoker:!1});x.useEffect(()=>{i(r?{...r,nom:r.nom||"",address:r.address||"",telephone:r.telephone||"",email:r.email||"",photoUrl:r.photoUrl||"",gender:r.gender||"couple",notes:r.notes||"",capacity:r.capacity??n,hasPets:r.hasPets??!1,isSmoker:r.isSmoker??!1}:{nom:"",address:"",telephone:"",email:"",photoUrl:"",gender:"couple",notes:"",capacity:n,hasPets:!1,isSmoker:!1})},[r,g]);const o=t=>{t.preventDefault(),f(!0);try{if(!l.nom)throw new Error("Le nom est obligatoire");if(!r&&c.some(d=>d.nom.toLowerCase()===l.nom?.toLowerCase()))throw new Error("Un contact avec ce nom existe déjà");const a={...l,unavailableDates:r?r.unavailableDates:[]};r?(p(r.nom,a),s("Contact mis à jour avec succès","success")):(y(a),s("Contact ajouté avec succès","success")),h()}catch(a){s(a instanceof Error?a.message:"Erreur lors de l'enregistrement","error")}finally{f(!1)}};return e.jsx(T,{isOpen:g,onClose:h,title:r?"Modifier le contact":"Ajouter un contact",size:"lg",footer:e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"ghost",onClick:h,disabled:u,children:"Annuler"}),e.jsx(N,{onClick:o,isLoading:u,children:"Enregistrer"})]}),children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(q,{value:l.photoUrl||"",onChange:t=>i(a=>({...a,photoUrl:t})),label:"Photo du contact",size:"lg"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"Nom complet",value:l.nom||"",onChange:t=>i(a=>({...a,nom:t.target.value})),required:!0,placeholder:"Ex: Famille Martin"}),e.jsx(b,{label:"Adresse",value:l.address||"",onChange:t=>i(a=>({...a,address:t.target.value})),placeholder:"Ex: 12 rue de la Paix, Lyon"}),e.jsx(b,{label:"Téléphone",value:l.telephone||"",onChange:t=>i(a=>({...a,telephone:t.target.value})),placeholder:"Ex: 06 12 34 56 78"}),e.jsx(b,{label:"Email",type:"email",value:l.email||"",onChange:t=>i(a=>({...a,email:t.target.value})),placeholder:"Ex: famille.martin@email.com"}),e.jsx(K,{label:"Type de foyer",options:[{value:"couple",label:"Couple"},{value:"male",label:"Frère seul"},{value:"female",label:"Sœur seule"}],value:l.gender||"couple",onChange:t=>i(a=>({...a,gender:t.target.value}))}),e.jsx(b,{label:"Capacité d'accueil (personnes)",type:"number",min:1,value:l.capacity??n,onChange:t=>i(a=>({...a,capacity:parseInt(t.target.value,10)}))}),e.jsx("div",{className:"flex items-center space-x-4 pt-8 col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"hasPets",checked:l.hasPets,onChange:t=>i(a=>({...a,hasPets:t.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"hasPets",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Animaux de compagnie"})]})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes / Contraintes"}),e.jsx("textarea",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,value:l.notes||"",onChange:t=>i(a=>({...a,notes:t.target.value})),placeholder:"Allergies, régime alimentaire, escaliers..."})]})]})})},we=()=>{const{speakers:g,deleteSpeaker:h,hosts:r,deleteHost:y}=V(),{addToast:p}=A(),[c,s]=x.useState("speakers"),[u,f]=x.useState(!1),[n,l]=x.useState(void 0),[i,o]=x.useState(!1),[t,a]=x.useState(void 0),[d,m]=x.useState(!1),[v,M]=x.useState(null),E=j=>{l(j),f(!0)},L=async j=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet orateur ?")&&(h(j),p("Orateur supprimé","success"))},F=()=>{f(!1),l(void 0)},C=j=>{a(j),o(!0)},S=async j=>{window.confirm("Êtes-vous sûr de vouloir supprimer ce contact ?")&&(y(j),p("Contact supprimé","success"))},w=()=>{o(!1),a(void 0)},k=j=>{M(j),m(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(N,{leftIcon:e.jsx(J,{className:"w-4 h-4"}),onClick:()=>{c==="speakers"?(l(void 0),f(!0)):(a(void 0),o(!0))},children:c==="speakers"?"Ajouter un orateur":"Ajouter un contact"})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>s("speakers"),className:`
              whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2
              ${c==="speakers"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
            `,children:[e.jsx(Y,{className:"w-4 h-4"}),"Orateurs"]}),e.jsxs("button",{onClick:()=>s("hosts"),className:`
              whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2
              ${c==="hosts"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
            `,children:[e.jsx(_,{className:"w-4 h-4"}),"Contacts d'accueil"]})]})}),e.jsx("div",{className:"min-h-[400px]",children:c==="speakers"?e.jsx(de,{speakers:g,onEdit:E,onDelete:L,onFeedback:k}):e.jsx(xe,{hosts:r,onEdit:C,onDelete:S})}),e.jsx(me,{isOpen:u,onClose:F,speaker:n}),e.jsx(ge,{isOpen:i,onClose:w,host:t}),v&&e.jsx(le,{isOpen:d,onClose:()=>{m(!1),M(null)},visit:v,onSubmit:j=>{console.log("Feedback submitted:",j),p("Évaluation enregistrée","success"),m(!1)}})]})};export{we as Speakers};
//# sourceMappingURL=Speakers-CGF_X0jK.js.map
