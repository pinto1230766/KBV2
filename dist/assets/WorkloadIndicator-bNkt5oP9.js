import{c,j as a}from"./index-AmzywnQ-.js";import{n as k,u as v,p as b}from"./utils-FTT-aY8U.js";const M=c("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const S=c("BatteryFull",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]]);const D=c("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const f=c("BatteryMedium",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]]);const P=c("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const R=c("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);let y;const I=new Uint8Array(16);function j(){if(!y&&(y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(I)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function U(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}const N=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),m={randomUUID:N};function F(e,t,s){if(m.randomUUID&&!e)return m.randomUUID();e=e||{};const r=e.random||(e.rng||j)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,U(r)}const p=2,W=(e,t,s=new Date)=>{const r=k(s,6),d=t.filter(o=>o.id===e.id&&(o.status==="completed"||o.status==="confirmed")&&v(b(o.visitDate),r)),u=d.length/6/p*100,i=Math.min(Math.round(u),100);let l=1;i>80?l=5:i>60?l=4:i>40?l=3:i>20&&(l=2);const h=[...d].sort((o,w)=>new Date(w.visitDate).getTime()-new Date(o.visitDate).getTime()),g=h.length>0?h[0].visitDate:null;return{speakerId:e.id,speakerName:e.nom,currentLoad:i,maxCapacity:p*100,lastVisit:g,travelTime:30,workloadScore:l,availabilityNextMonth:i<80}},L=e=>{switch(e){case 5:return"bg-red-500 text-white";case 4:return"bg-orange-500 text-white";case 3:return"bg-yellow-500 text-white";case 2:return"bg-blue-500 text-white";default:return"bg-green-500 text-white"}},B=e=>{switch(e){case 5:return"Surchargé";case 4:return"Très occupé";case 3:return"Occupé";case 2:return"Modéré";default:return"Disponible"}},A=({workload:e,showLabel:t=!1,size:s="md"})=>{const r=L(e.workloadScore),d=B(e.workloadScore),x=()=>e.workloadScore>=5?a.jsx(D,{className:"w-4 h-4 rotate-90"}):e.workloadScore>=4?a.jsx(f,{className:"w-4 h-4 rotate-90"}):e.workloadScore>=3?a.jsx(S,{className:"w-4 h-4 rotate-90"}):a.jsx(M,{className:"w-4 h-4"}),u=s==="sm"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm";return a.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full ${r} ${u}`,title:`Charge: ${e.currentLoad}% - ${d}`,children:[x(),(t||s==="md")&&a.jsx("span",{className:"font-medium",children:d}),s==="md"&&a.jsxs("span",{className:"opacity-80 text-xs ml-1",children:["(",e.currentLoad,"%)"]})]})};export{P as F,R as P,A as W,W as c,F as v};
//# sourceMappingURL=WorkloadIndicator-bNkt5oP9.js.map
