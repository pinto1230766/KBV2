import{c as G,u as me,j as e,n as he,k as X,d as P,e as V,o as je,B as A,g as oe,D as ce,q as pe,F as Ve,h as $e,C as ne,X as qe,U as ye,A as Ue,v as Be,b as He,z as ae,I as Ge,f as L,i as ue,E as K,y as Se}from"./index-CCbl2mUd.js";import{r as m,R as Je}from"./charts-Cazb4rp-.js";import{T as Me,I as Z}from"./Input-DcboTYw6.js";import{a as fe,S as be}from"./Select-Ck3CvvAb.js";import{B as _,P as xe,M as ie,U as te}from"./Badge-DY5YkOWZ.js";import{S as de,u as _e,L as Ye,a as We}from"./useVisitNotifications-CJxDkWG_.js";import{A as Xe,R as Ke}from"./rotate-ccw-Cgjuu7sm.js";import"./react-vendor-B9D_A6Vq.js";import"./utils-FTT-aY8U.js";const le=G("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Ce=G("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const Ze=G("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);const Q=G("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Qe=G("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const De=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const W=G("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const es=G("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const ss=G("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const se=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),rs=({isOpen:C,onClose:j,onMerge:D})=>{const{speakers:i,hosts:u,visits:d,speakerMessages:k,archivedVisits:E}=me(),[v,T]=m.useState(new Set),[g,$]=m.useState("keep-recent"),[b,w]=m.useState(!1),o=95,S=90,p=m.useMemo(()=>{const s=[],n=new Map;i.forEach(a=>{const x=a.nom.toLowerCase().trim().replace(/\s+/g," ");n.has(x)||n.set(x,[]),n.get(x).push(a)}),n.forEach(a=>{if(a.length>1){const y=["Nom identique"],x=a.map(O=>O.telephone).filter(Boolean);x.length>1&&new Set(x).size<x.length&&y.push("T√©l√©phone identique");const z=a.map(O=>O.congregation);new Set(z).size===1&&y.push("M√™me congr√©gation");const H=o;s.push({type:"speaker",items:a,similarity:H,reason:y})}});const t=new Map;u.forEach(a=>{const x=a.nom.toLowerCase().trim().replace(/\s+/g," ");t.has(x)||t.set(x,[]),t.get(x).push(a)}),t.forEach(a=>{if(a.length>1){const y=["Nom identique"],x=a.map(O=>O.telephone).filter(Boolean);x.length>1&&new Set(x).size<x.length&&y.push("T√©l√©phone identique");const z=a.map(O=>O.address).filter(Boolean);z.length>1&&new Set(z).size<z.length&&y.push("Adresse identique");const H=o;s.push({type:"host",items:a,similarity:H,reason:y})}});const l=new Map;if(d.forEach(a=>{const y=`${a.id}-${a.visitDate}-${a.visitTime}`;l.has(y)||l.set(y,[]),l.get(y).push(a)}),l.forEach(a=>{a.length>1&&s.push({type:"visit",items:a,similarity:100,reason:["M√™me orateur, date et heure"]})}),b&&E){const a=new Map;E.forEach(x=>{const z=`${x.id}-${x.visitDate}-${x.visitTime}`;a.has(z)||a.set(z,[]),a.get(z).push(x)}),a.forEach(x=>{x.length>1&&s.push({type:"archivedVisit",items:x,similarity:100,reason:["Doublon dans les archives - M√™me orateur, date et heure"]})});const y=new Map;d.forEach(x=>{const z=`${x.id}-${x.visitDate}-${x.visitTime}`;y.has(z)||y.set(z,[]),y.get(z).push({...x,_source:"current"}),E.filter(O=>O.id===x.id&&O.visitDate===x.visitDate&&O.visitTime===x.visitTime).forEach(O=>{y.get(z).push({...O,_source:"archived"})})}),y.forEach(x=>{x.length>1&&s.push({type:"archivedVisit",items:x,similarity:100,reason:["Doublon entre visites actuelles et archiv√©es"]})})}const c=new Map;return k&&k.length>0&&k.forEach(a=>{const y=a.message?.trim().toLowerCase()||"",x=a.receivedAt?new Date(a.receivedAt).toISOString():"no-date",z=`${a.speakerId}-${y}-${x}`;c.has(z)||c.set(z,[]),c.get(z).push(a)}),c.forEach(a=>{a.length>1&&s.push({type:"message",items:a,similarity:100,reason:["Contenu et date identiques"]})}),s},[i,u,d,k,E,b]),f=s=>{T(n=>{const t=new Set(n);return t.has(s)?t.delete(s):t.add(s),t})},I=()=>{const s=Array.from(v).map(n=>p[n]);D(s,"merge",g),T(new Set)},N=()=>{const s=Array.from(v).map(n=>p[n]);D(s,"delete",g),T(new Set)},M=s=>{switch(s){case"speaker":return"Orateur";case"host":return"H√¥te";case"visit":return"Visite";case"archivedVisit":return"Visite archiv√©e";case"message":return"Message";default:return"Inconnu"}},h=s=>{switch(s){case"speaker":return"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300";case"host":return"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300";case"visit":return"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300";case"archivedVisit":return"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-300";case"message":return"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/20 dark:text-gray-300"}};return e.jsx(he,{isOpen:C,onClose:j,title:"D√©tection de doublons",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.filter(s=>s.type==="speaker").length}),e.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Orateurs"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(s=>s.type==="host").length}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"H√¥tes"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.filter(s=>s.type==="visit").length}),e.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"Visites"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p.filter(s=>s.type==="archivedVisit").length}),e.jsx("div",{className:"text-sm text-orange-800 dark:text-orange-300",children:"Archives"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.filter(s=>s.type==="message").length}),e.jsx("div",{className:"text-sm text-red-800 dark:text-red-300",children:"Messages"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"include-archives",checked:b,onChange:s=>w(s.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("label",{htmlFor:"include-archives",className:"cursor-pointer",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Inclure les archives dans l'analyse"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"D√©tecte les doublons dans les visites archiv√©es et entre visites actuelles/archiv√©es"})]})]}),v.size>0&&e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Strat√©gie de fusion"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"keep-recent",checked:g==="keep-recent",onChange:s=>$(s.target.value),className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Conserver l'entr√©e la plus r√©cente"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"keep-first",checked:g==="keep-first",onChange:s=>$(s.target.value),className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Conserver la premi√®re entr√©e"})]})]})]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun doublon d√©tect√©"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vos donn√©es sont propres et sans doublons"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg mb-2 sticky top-0 z-10",children:[e.jsx("input",{type:"checkbox","aria-label":"Tout s√©lectionner",checked:p.length>0&&v.size===p.length,onChange:s=>{s.target.checked?T(new Set(p.map((n,t)=>t))):T(new Set)},className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Tout s√©lectionner (",p.length,")"]}),v.size>0&&e.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[v.size," s√©lectionn√©(s)"]})]}),p.map((s,n)=>e.jsx(P,{className:`${s.similarity>=S?"border-l-4 border-l-red-600":"border-l-4 border-l-orange-500"} ${v.has(n)?"ring-2 ring-primary-500":""}`,children:e.jsx(V,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:v.has(n),onChange:()=>f(n),"aria-label":`S√©lectionner ce groupe de doublons ${M(s.type)}`,className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(_,{className:h(s.type),children:M(s.type)}),e.jsxs(_,{variant:"warning",children:[s.similarity,"% similaire"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.reason.map((t,l)=>e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["‚Ä¢ ",t]},l))})]})]}),e.jsx(fe,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.items.map((t,l)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-2",children:s.type==="message"?t.subject||"Message sans sujet":t.nom||`Visite ${l+1}`}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[s.type==="speaker"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Congr√©gation : ",t.congregation]}),t.telephone&&e.jsxs("div",{children:["T√©l : ",t.telephone]}),t.email&&e.jsxs("div",{children:["Email : ",t.email]}),e.jsxs("div",{children:["Visites : ",d.filter(c=>c.id===t.id).length]}),e.jsxs("div",{children:["Messages :"," ",d.filter(c=>c.id===t.id&&c.communicationStatus).length]}),t.createdAt&&e.jsxs("div",{className:"text-xs",children:["Cr√©√© : ",new Date(t.createdAt).toLocaleDateString("fr-FR")]})]}),s.type==="host"&&e.jsxs(e.Fragment,{children:[t.telephone&&e.jsxs("div",{children:["T√©l : ",t.telephone]}),t.address&&e.jsxs("div",{children:["Adresse : ",t.address]}),t.createdAt&&e.jsxs("div",{className:"text-xs",children:["Cr√©√© : ",new Date(t.createdAt).toLocaleDateString("fr-FR")]})]}),s.type==="visit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Date : ",new Date(t.visitDate).toLocaleDateString("fr-FR")]}),e.jsxs("div",{children:["Heure : ",t.visitTime]}),e.jsxs("div",{children:["Statut : ",t.status]})]}),s.type==="archivedVisit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Date : ",new Date(t.visitDate).toLocaleDateString("fr-FR")]}),e.jsxs("div",{children:["Heure : ",t.visitTime||"N/A"]}),e.jsxs("div",{children:["Statut : ",t.status]}),t._source&&e.jsx("div",{className:"mt-1",children:e.jsx(_,{variant:t._source==="archived"?"warning":"success",className:"text-xs",children:t._source==="archived"?"Archiv√©e":"Actuelle"})})]}),s.type==="message"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Orateur : ",t.speakerName]}),e.jsxs("div",{children:["Date : ",new Date(t.receivedAt).toLocaleDateString("fr-FR")," ",new Date(t.receivedAt).toLocaleTimeString("fr-FR")]}),e.jsxs("div",{className:"line-clamp-2",children:["Contenu : ",t.message]})]})]})]},l))})]})})},n))]})}),v.size>0&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[e.jsx(je,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-300",children:[e.jsx("strong",{children:"Attention :"})," La fusion des doublons est irr√©versible. Assurez-vous de v√©rifier les donn√©es avant de continuer."]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(A,{variant:"secondary",onClick:j,children:"Fermer"}),v.size>0&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{variant:"danger",onClick:N,children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"Supprimer les doublons (",v.size,")"]}),e.jsxs(A,{variant:"primary",onClick:I,children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Fusionner (",v.size,")"]})]})]})]})})},as=({isOpen:C,onClose:j,onBackup:D,onRestore:i})=>{const[u,d]=m.useState("backup"),[k,E]=m.useState(!0),[v,T]=m.useState(!0),[g,$]=m.useState(!0),[b,w]=m.useState(!1),[o,S]=m.useState(""),[p,f]=m.useState(""),[I,N]=m.useState(!1),[M,h]=m.useState(null),s=[{id:"1",date:new Date().toISOString(),size:2048576,itemsCount:150,encrypted:!0}],n=async()=>{if(b&&o!==p){alert("Les mots de passe ne correspondent pas");return}N(!0);try{await D({includeArchived:k,includeSettings:v,includeTemplates:g,encrypt:b,password:b?o:void 0}),S(""),f(""),N(!1)}catch(a){console.error("Erreur lors de la sauvegarde:",a),N(!1)}},t=a=>{const y=a.target.files?.[0];y&&h(y)},l=async()=>{if(M&&confirm("‚ö†Ô∏è La restauration remplacera toutes les donn√©es actuelles. √ätes-vous s√ªr de vouloir continuer ?"))try{await i(M),j()}catch(a){console.error("Erreur lors de la restauration:",a)}},c=a=>a<1024?`${a} B`:a<1024*1024?`${(a/1024).toFixed(2)} KB`:`${(a/(1024*1024)).toFixed(2)} MB`;return e.jsx(he,{isOpen:C,onClose:j,title:"Gestion des sauvegardes",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>d("backup"),className:`px-4 py-2 font-medium transition-colors ${u==="backup"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(de,{className:"w-4 h-4 inline mr-2"}),"Cr√©er une sauvegarde"]}),e.jsxs("button",{onClick:()=>d("restore"),className:`px-4 py-2 font-medium transition-colors ${u==="restore"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(se,{className:"w-4 h-4 inline mr-2"}),"Restaurer"]}),e.jsxs("button",{onClick:()=>d("history"),className:`px-4 py-2 font-medium transition-colors ${u==="history"?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(oe,{className:"w-4 h-4 inline mr-2"}),"Historique"]})]}),u==="backup"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ce,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Sauvegarde locale :"})," Les donn√©es seront export√©es dans un fichier JSON t√©l√©chargeable. Conservez ce fichier en lieu s√ªr pour pouvoir restaurer vos donn√©es en cas de besoin."]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Donn√©es √† inclure"}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:a=>E(a.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Visites archiv√©es"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Inclure l'historique complet des visites pass√©es"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:a=>T(a.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Param√®tres de l'application"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Th√®me, langue, notifications, etc."})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:a=>$(a.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Templates personnalis√©s"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Mod√®les de messages et configurations personnalis√©es"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:a=>w(a.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Chiffrer la sauvegarde"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Prot√©ger les donn√©es sensibles avec un mot de passe"})]})]}),b&&e.jsxs("div",{className:"space-y-3 pl-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),e.jsx("input",{type:"password",value:o,onChange:a=>S(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Entrez un mot de passe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmer le mot de passe"}),e.jsx("input",{type:"password",value:p,onChange:a=>f(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirmez le mot de passe"})]})]})]}),e.jsxs(A,{variant:"primary",onClick:n,disabled:I||b&&(!o||o!==p),className:"w-full",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),I?"Cr√©ation en cours...":"Cr√©er et t√©l√©charger la sauvegarde"]})]}),u==="restore"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-300",children:[e.jsx("strong",{children:"Attention :"})," La restauration remplacera toutes les donn√©es actuelles. Assurez-vous d'avoir cr√©√© une sauvegarde r√©cente avant de continuer."]})]})}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"S√©lectionner un fichier de sauvegarde"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Fichier JSON (.json) export√© pr√©c√©demment"}),e.jsx("input",{type:"file",accept:".json",onChange:t,className:"hidden",id:"backup-file"}),e.jsx("label",{htmlFor:"backup-file",children:e.jsx("span",{className:"inline-flex items-center justify-center px-4 py-2 border-2 border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300 font-medium rounded-lg cursor-pointer transition-colors",children:"Parcourir"})})]})}),M&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900 dark:text-green-200",children:M.name}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:c(M.size)})]})]}),e.jsx(A,{variant:"danger",onClick:l,children:"Restaurer"})]})})]}),u==="history"&&e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(oe,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune sauvegarde"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cr√©ez votre premi√®re sauvegarde pour s√©curiser vos donn√©es"})]}):s.map(a=>e.jsx(P,{children:e.jsx(V,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900 rounded-lg",children:e.jsx(Ce,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:new Date(a.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.itemsCount," √©l√©ments ‚Ä¢ ",c(a.size),a.encrypted&&e.jsxs(_,{variant:"default",className:"ml-2",children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),"Chiffr√©"]})]})]})]}),e.jsx(A,{variant:"outline",size:"sm",children:e.jsx(ce,{className:"w-4 h-4"})})]})})},a.id))}),e.jsx("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx(A,{variant:"secondary",onClick:j,children:"Fermer"})})]})})},ee={speakers:[{key:"nom",label:"Nom",required:!0},{key:"congregation",label:"Congr√©gation",required:!0},{key:"telephone",label:"T√©l√©phone",required:!1},{key:"email",label:"Email",required:!1},{key:"gender",label:"Genre (male/female/couple)",required:!1}],visits:[{key:"nom",label:"Nom orateur",required:!0},{key:"visitDate",label:"Date (YYYY-MM-DD)",required:!0},{key:"visitTime",label:"Heure (HH:MM)",required:!0},{key:"talkNoOrType",label:"N¬∞ discours",required:!1},{key:"talkTheme",label:"Th√®me discours",required:!1},{key:"host",label:"H√¥te",required:!1},{key:"status",label:"Statut",required:!1}],hosts:[{key:"nom",label:"Nom",required:!0},{key:"telephone",label:"T√©l√©phone",required:!1},{key:"email",label:"Email",required:!1},{key:"address",label:"Adresse",required:!1},{key:"gender",label:"Genre (male/female/couple)",required:!1}]},ts=({isOpen:C,onClose:j,onImport:D})=>{const[i,u]=m.useState("upload"),[d,k]=m.useState("speakers"),[E,v]=m.useState(null),[T,g]=m.useState([]),[$,b]=m.useState([]),[w,o]=m.useState({}),[S,p]=m.useState(null),f=async s=>{const n=s.target.files?.[0];if(!n)return;v(n);const l=(await n.text()).split(`
`).filter(y=>y.trim());if(l.length===0)return;const c=l[0].split(",").map(y=>y.trim().replace(/"/g,""));b(c);const a=l.slice(1).map(y=>{const x=y.split(",").map(H=>H.trim().replace(/"/g,"")),z={};return c.forEach((H,O)=>{z[H]=x[O]||""}),z});g(a),u("mapping")},I=(s,n)=>{o(t=>({...t,[s]:n}))},N=async()=>{u("import");try{const s=T.map(t=>{const l={};return Object.entries(w).forEach(([c,a])=>{a&&t[c]&&(l[a]=t[c])}),l}),n=await D(s,w);p(n),u("result")}catch(s){console.error("Erreur lors de l'import:",s)}},M=()=>{const s=ee[d].filter(t=>t.required);return`${s.filter(t=>Object.values(w).includes(t.key)).length}/${s.length}`},h=()=>ee[d].filter(n=>n.required).every(n=>Object.values(w).includes(n.key));return e.jsx(he,{isOpen:C,onClose:j,title:"Assistant d'importation",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:["upload","mapping","preview","import","result"].map((s,n)=>e.jsxs(Je.Fragment,{children:[e.jsxs("div",{className:`flex items-center gap-2 ${i===s?"text-primary-600":["upload","mapping","preview"].indexOf(i)>n?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-medium ${i===s?"bg-primary-100 dark:bg-primary-900/20":["upload","mapping","preview"].indexOf(i)>n?"bg-green-100 dark:bg-green-900/20":"bg-gray-100 dark:bg-gray-800"}`,children:n+1}),e.jsxs("span",{className:"text-sm font-medium hidden md:inline",children:[s==="upload"&&"Fichier",s==="mapping"&&"Mapping",s==="preview"&&"Aper√ßu",s==="import"&&"Import",s==="result"&&"R√©sultat"]})]}),n<4&&e.jsx(pe,{className:"w-4 h-4 text-gray-400"})]},s))}),i==="upload"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Type de donn√©es √† importer"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"speakers",label:"Orateurs",icon:"üë§"},{value:"visits",label:"Visites",icon:"üìÖ"},{value:"hosts",label:"H√¥tes",icon:"üè†"}].map(s=>e.jsxs("button",{onClick:()=>k(s.value),className:`p-4 rounded-lg border-2 transition-all ${d===s.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:s.icon}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:s.label})]},s.value))})]}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"S√©lectionner un fichier CSV"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Fichier CSV avec en-t√™tes de colonnes"}),e.jsx("input",{type:"file",accept:".csv",onChange:f,className:"hidden",id:"csv-file"}),e.jsx("label",{htmlFor:"csv-file",children:e.jsxs("span",{className:"inline-flex items-center justify-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg cursor-pointer transition-colors",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Parcourir"]})})]})}),e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ve,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Format attendu :"})," Fichier CSV avec la premi√®re ligne contenant les noms de colonnes. Les colonnes seront mapp√©es √† l'√©tape suivante."]})]})})]}),i==="mapping"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:E?.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[T.length," ligne(s) d√©tect√©e(s)"]})]}),e.jsxs(_,{variant:"default",children:["Champs requis : ",M()]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Mapper les colonnes"}),e.jsx("div",{className:"space-y-3",children:$.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s})}),e.jsx(pe,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:w[s]||"",onChange:n=>I(s,n.target.value),"aria-label":`Mapper la colonne ${s}`,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"-- Ignorer --"}),ee[d].map(n=>e.jsxs("option",{value:n.key,children:[n.label," ",n.required&&"*"]},n.key))]})]},s))})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(A,{variant:"secondary",onClick:()=>u("upload"),children:"Retour"}),e.jsxs(A,{variant:"primary",onClick:()=>u("preview"),disabled:!h(),children:["Aper√ßu",e.jsx(pe,{className:"w-4 h-4 ml-2"})]})]})]}),i==="preview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(X,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900 dark:text-green-200",children:"Pr√™t √† importer"})]}),e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[T.length," ",d==="speakers"?"orateur(s)":d==="visits"?"visite(s)":"h√¥te(s)"," ","seront import√©(s)"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Aper√ßu des donn√©es (5 premi√®res lignes)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsx("tr",{children:ee[d].filter(s=>Object.values(w).includes(s.key)).map(s=>e.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-700 dark:text-gray-300",children:s.label},s.key))})}),e.jsx("tbody",{children:T.slice(0,5).map((s,n)=>e.jsx("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:ee[d].filter(t=>Object.values(w).includes(t.key)).map(t=>{const l=Object.keys(w).find(c=>w[c]===t.key);return e.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-white",children:l?s[l]:"-"},t.key)})},n))})]})})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(A,{variant:"secondary",onClick:()=>u("mapping"),children:"Retour"}),e.jsxs(A,{variant:"primary",onClick:N,children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Lancer l'importation"]})]})]}),i==="import"&&e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Importation en cours..."}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Veuillez patienter pendant le traitement des donn√©es"})]}),i==="result"&&S&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"w-20 h-20 mx-auto mb-4 text-green-500"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Importation termin√©e !"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(P,{children:e.jsxs(V,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:S.speakersAdded+S.visitsAdded+S.hostsAdded}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ajout√©(s)"})]})}),e.jsx(P,{children:e.jsxs(V,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:S.speakersUpdated+S.visitsUpdated+S.hostsUpdated}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mis √† jour"})]})})]}),S.errors.length>0&&e.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-orange-900 dark:text-orange-200 mb-2",children:[S.errors.length," erreur(s) d√©tect√©e(s)"]}),e.jsx("ul",{className:"text-sm text-orange-800 dark:text-orange-300 space-y-1",children:S.errors.slice(0,5).map((s,n)=>e.jsxs("li",{children:["‚Ä¢ ",s]},n))})]})]})}),e.jsx("div",{className:"flex gap-3 justify-end",children:e.jsx(A,{variant:"primary",onClick:j,children:"Terminer"})})]})]})})},ls=({isOpen:C,onClose:j,onRestore:D,onDelete:i,onExport:u})=>{const{archivedVisits:d}=me(),[k,E]=m.useState(""),[v,T]=m.useState("all"),[g,$]=m.useState("all"),[b,w]=m.useState(new Set),[o,S]=m.useState("date"),p=m.useMemo(()=>{const l=new Set;return d.forEach(c=>{const a=new Date(c.visitDate).getFullYear();l.add(a)}),Array.from(l).sort((c,a)=>a-c)},[d]),f=m.useMemo(()=>{const l=d.filter(c=>{if(k){const a=k.toLowerCase();if(!c.nom.toLowerCase().includes(a)&&!c.congregation.toLowerCase().includes(a)&&!c.talkTheme?.toLowerCase().includes(a))return!1}return!(v!=="all"&&new Date(c.visitDate).getFullYear()!==v||g!=="all"&&c.status!==g)});return l.sort((c,a)=>{switch(o){case"date":return new Date(a.visitDate).getTime()-new Date(c.visitDate).getTime();case"speaker":return c.nom.localeCompare(a.nom);case"congregation":return c.congregation.localeCompare(a.congregation);default:return 0}}),l},[d,k,v,g,o]),I=l=>{w(c=>{const a=new Set(c);return a.has(l)?a.delete(l):a.add(l),a})},N=()=>{w(new Set(f.map(l=>l.visitId)))},M=()=>{w(new Set)},h=()=>{b.size>0&&(D(Array.from(b)),w(new Set))},s=()=>{b.size>0&&confirm(`‚ö†Ô∏è √ätes-vous s√ªr de vouloir supprimer d√©finitivement ${b.size} visite(s) ?`)&&(i(Array.from(b)),w(new Set))},n=()=>{b.size>0&&u(Array.from(b))},t=l=>{switch(l){case"completed":return e.jsx(_,{variant:"success",children:"Termin√©"});case"cancelled":return e.jsx(_,{variant:"danger",children:"Annul√©"});default:return e.jsx(_,{variant:"default",children:l})}};return e.jsx(he,{isOpen:C,onClose:j,title:"Gestion des archives",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),e.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(l=>l.status==="completed").length}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"Termin√©es"})]}),e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.filter(l=>l.status==="cancelled").length}),e.jsx("div",{className:"text-sm text-red-800 dark:text-red-300",children:"Annul√©es"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.size}),e.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"S√©lectionn√©es"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:l=>E(l.target.value),placeholder:"Rechercher par orateur, congr√©gation ou discours...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs("select",{value:v,onChange:l=>T(l.target.value==="all"?"all":Number(l.target.value)),"aria-label":"Filtrer par ann√©e",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toutes les ann√©es"}),p.map(l=>e.jsx("option",{value:l,children:l},l))]}),e.jsxs("select",{value:g,onChange:l=>$(l.target.value),"aria-label":"Filtrer par statut",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"completed",children:"Termin√©es"}),e.jsx("option",{value:"cancelled",children:"Annul√©es"})]}),e.jsxs("select",{value:o,onChange:l=>S(l.target.value),"aria-label":"Trier les archives",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"date",children:"Trier par date"}),e.jsx("option",{value:"speaker",children:"Trier par orateur"}),e.jsx("option",{value:"congregation",children:"Trier par congr√©gation"})]}),e.jsx("div",{className:"flex-1"}),e.jsx(A,{variant:"outline",size:"sm",onClick:N,children:"Tout s√©lectionner"}),e.jsx(A,{variant:"outline",size:"sm",onClick:M,children:"Tout d√©s√©lectionner"})]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xe,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune archive trouv√©e"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Modifiez vos crit√®res de recherche"})]}):f.map(l=>e.jsx(P,{hoverable:!0,className:`cursor-pointer transition-all ${b.has(l.visitId)?"ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20":""}`,onClick:()=>I(l.visitId),children:e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",checked:b.has(l.visitId),onChange:()=>I(l.visitId),onClick:c=>c.stopPropagation(),"aria-label":`S√©lectionner ${l.nom}`,className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:l.nom}),t(l.status)]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx(ne,{className:"w-3 h-3 inline mr-1"}),new Date(l.visitDate).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]}),e.jsx("p",{children:l.congregation}),l.talkTheme&&e.jsxs("p",{className:"text-xs",children:[l.talkNoOrType," - ",l.talkTheme]})]})]})]})})},l.visitId))}),e.jsxs("div",{className:"flex gap-3 justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(A,{variant:"secondary",onClick:j,children:"Fermer"}),b.size>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(A,{variant:"outline",onClick:n,children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Exporter (",b.size,")"]}),e.jsxs(A,{variant:"danger",onClick:s,children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"Supprimer (",b.size,")"]}),e.jsxs(A,{variant:"primary",onClick:h,children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Restaurer (",b.size,")"]})]})]})]})})};function ns(C){const j=[],D=[];return C.speakers&&C.speakers.forEach(i=>{i.telephone&&i.telephone.trim()&&j.push({nom:i.nom,telephone:i.telephone,congregation:i.congregation})}),C.visits&&C.visits.forEach(i=>{i.telephone&&i.telephone.trim()&&j.push({nom:i.nom,telephone:i.telephone,congregation:i.congregation})}),C.hosts&&C.hosts.forEach(i=>{i.telephone&&i.telephone.trim()&&D.push({nom:i.nom,telephone:i.telephone})}),{speakersWithPhones:j,hostsWithPhones:D}}function is(C,j){const D=new Map;return j.forEach(i=>{const u=i.nom.toLowerCase().replace(/\s+/g," ").trim();D.set(u,i.telephone)}),C.map(i=>{const u=i.nom.toLowerCase().replace(/\s+/g," ").trim(),d=D.get(u);return d&&!i.telephone?{...i,telephone:d,updatedAt:new Date().toISOString()}:i})}function ds(C,j){const D=new Map;return j.forEach(i=>{const u=i.nom.toLowerCase().replace(/\s+/g," ").trim();D.set(u,i.telephone)}),C.map(i=>{const u=i.nom.toLowerCase().replace(/\s+/g," ").trim(),d=D.get(u);return d&&!i.telephone?{...i,telephone:d,updatedAt:new Date().toISOString()}:i})}function os(C,j,D,i){const u=[],d=[];let k=0,E=0;return C.forEach((v,T)=>{const g=j[T];v.telephone!==g.telephone&&g.telephone&&(k++,u.push(`‚úì ${g.nom}: +${g.telephone}`))}),D.forEach((v,T)=>{const g=i[T];v.telephone!==g.telephone&&g.telephone&&(E++,d.push(`‚úì ${g.nom}: +${g.telephone}`))}),{speakersUpdated:k,hostsUpdated:E,speakerDetails:u,hostDetails:d}}function cs(C,j){const{speakersWithPhones:D,hostsWithPhones:i}=ns(C),u=is(j.speakers,D),d=ds(j.hosts,i),k=os(j.speakers,u,j.hosts,d);return{updatedSpeakers:u,updatedHosts:d,report:k}}function xs({isOpen:C,onClose:j}){const{speakers:D,hosts:i,updateSpeaker:u,updateHost:d}=me(),[k,E]=m.useState(""),[v,T]=m.useState(!1),[g,$]=m.useState(null),[b,w]=m.useState(!1),o=f=>{const I=f.target.files?.[0];if(I){const N=new FileReader;N.onload=M=>{const h=M.target?.result;E(h),w(!0)},N.readAsText(I)}},S=async()=>{if(k.trim()){T(!0);try{const f=JSON.parse(k),{updatedSpeakers:I,updatedHosts:N,report:M}=cs(f,{speakers:D,hosts:i}),h=[];D.forEach(n=>{const t=I.find(l=>l.id===n.id);t&&(!n.telephone||n.telephone.trim()==="")&&t.telephone&&t.telephone.trim()!==""&&h.push(t)});const s=i.filter(n=>{const t=N.find(l=>l.nom===n.nom);return t&&(!n.telephone||n.telephone.trim()==="")&&t.telephone&&t.telephone.trim()!==""});console.log("üîÑ Mise √† jour des orateurs:",h.length),console.log("üîÑ Mise √† jour des h√¥tes:",s.length);for(const n of h)console.log(`üì± Mise √† jour orateur: ${n.nom} -> ${n.telephone}`),u(n),await new Promise(t=>setTimeout(t,50));for(const n of s)console.log(`üè† Mise √† jour h√¥te: ${n.nom} -> ${n.telephone}`),d(n.nom,{telephone:n.telephone}),await new Promise(t=>setTimeout(t,50));setTimeout(()=>{window.dispatchEvent(new CustomEvent("phoneNumbersUpdated",{detail:{speakersUpdated:h.length,hostsUpdated:s.length}}))},100),$({speakersUpdated:M.speakersUpdated,hostsUpdated:M.hostsUpdated,speakerDetails:M.speakerDetails,hostDetails:M.hostDetails,errors:[]})}catch(f){$({speakersUpdated:0,hostsUpdated:0,speakerDetails:[],hostDetails:[],errors:[f instanceof Error?f.message:"Erreur lors du parsing JSON"]})}finally{T(!1)}}},p=()=>{E(""),$(null),w(!1),j()};return C?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Import des Num√©ros de T√©l√©phone"})]}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fermer",children:e.jsx(qe,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:g?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(X,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"font-medium text-green-900",children:"Import termin√© avec succ√®s!"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-green-800",children:[e.jsx("span",{className:"font-medium",children:g.speakersUpdated})," orateurs mis √† jour"]}),e.jsxs("div",{className:"text-green-800",children:[e.jsx("span",{className:"font-medium",children:g.hostsUpdated})," h√¥tes mis √† jour"]})]})]}),g.speakerDetails.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"üì± Orateurs mis √† jour"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 max-h-48 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1 text-sm",children:g.speakerDetails.map((f,I)=>e.jsx("li",{className:"text-gray-700",children:f},I))})})]}),g.hostDetails.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"üè† H√¥tes mis √† jour"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 max-h-48 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1 text-sm",children:g.hostDetails.map((f,I)=>e.jsx("li",{className:"text-gray-700",children:f},I))})})]}),g.errors.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-red-600"}),e.jsx("h4",{className:"font-medium text-red-900",children:"Erreurs"})]}),e.jsx("ul",{className:"space-y-1 text-sm text-red-800",children:g.errors.map((f,I)=>e.jsxs("li",{children:["‚Ä¢ ",f]},I))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:p,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 transition-colors",children:"Fermer"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"üìã Instructions"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ S√©lectionnez un fichier JSON contenant les orateurs et h√¥tes avec leurs num√©ros"}),e.jsx("li",{children:'‚Ä¢ Le fichier doit contenir les champs "speakers", "visits" et/ou "hosts"'}),e.jsx("li",{children:"‚Ä¢ Seuls les num√©ros manquants seront ajout√©s (pas de remplacement)"}),e.jsx("li",{children:"‚Ä¢ Un rapport d√©taill√© des modifications sera affich√©"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S√©lectionner un fichier JSON"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"file",accept:".json",onChange:o,title:"S√©lectionner un fichier JSON contenant les num√©ros de t√©l√©phone",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsx(se,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ou coller le contenu JSON"}),e.jsx("textarea",{value:k,onChange:f=>{E(f.target.value),w(f.target.value.trim().length>0)},placeholder:"Collez ici le contenu JSON avec les num√©ros de t√©l√©phone...",className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]}),b&&k.trim()&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"üëÅÔ∏è Aper√ßu des donn√©es"}),e.jsx("div",{className:"text-sm text-gray-600",children:(()=>{try{const f=JSON.parse(k),I=f.speakers?.filter(h=>h.telephone?.trim()).length||0,N=f.visits?.filter(h=>h.telephone?.trim()).length||0,M=f.hosts?.filter(h=>h.telephone?.trim()).length||0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsxs("span",{children:["Orateurs avec num√©ros: ",I]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsxs("span",{children:["Visites avec num√©ros: ",N]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsxs("span",{children:["H√¥tes avec num√©ros: ",M]})]})]})}catch{return e.jsx("span",{className:"text-red-600",children:"‚ùå JSON invalide"})}})()})]}),b&&k.trim()&&e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{E(""),w(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Annuler"}),e.jsx("button",{onClick:S,disabled:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"‚è≥ Import en cours...":"üì± Importer les num√©ros"})]})]})]})})]})}):null}const ms=7,hs=2,ks=()=>{const{congregationProfile:C,updateCongregationProfile:j,syncWithGoogleSheet:D,exportData:i,importData:u,mergeDuplicates:d,deleteVisit:k,deleteSpeaker:E,deleteHost:v,speakers:T,hosts:g,visits:$,archivedVisits:b,speakerMessages:w}=me(),{settings:o,updateSettings:S}=Be(),{addToast:p}=He(),{requestPermissions:f}=_e(),I=async()=>{if(await f())try{await We.schedule({notifications:[{title:"Test Notification",body:"Ceci est une notification de test pour KBV Lyon.",id:Math.floor(Math.random()*1e5),schedule:{at:new Date(Date.now()+1e3)},sound:"default",attachments:[],actionTypeId:"",extra:null}]}),p("Notification de test envoy√©e (dans 1s)","success")}catch(F){console.error("Erreur notification:",F),p("Erreur technique notification","error")}else p("Permissions refus√©es","error")},[N,M]=m.useState("overview"),[h,s]=m.useState(C),[n,t]=m.useState(!1),[l,c]=m.useState(!1),[a,y]=m.useState(!1),[x,z]=m.useState(!1),[H,O]=m.useState(!1),[Ae,ve]=m.useState(!1),Ne=[{id:"overview",label:"Vue d'ensemble",icon:Q,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"},{id:"profile",label:"Profil de la Congr√©gation",icon:te,color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20"},{id:"appearance",label:"Apparence & Th√®me",icon:De,color:"text-pink-600",bg:"bg-pink-50 dark:bg-pink-900/20"},{id:"notifications",label:"Notifications",icon:ae,color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20"},{id:"security",label:"S√©curit√© & Acc√®s",icon:W,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"},{id:"data",label:"Export & Import",icon:le,color:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20"},{id:"duplicates",label:"Maintenance (Doublons)",icon:fe,color:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{id:"about",label:"√Ä propos",icon:Ge,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"}],Y=m.useMemo(()=>({speakersCount:T.length,visitsCount:$.length,hostsCount:g.length,archivedCount:b?.length||0,messagesCount:w?.length||0}),[T,$,g,b,w]),Te=()=>{j(h),p("Profil mis √† jour","success")},Ie=r=>{S({...o,theme:r}),p("Th√®me mis √† jour","success")},ze=r=>{S({...o,language:r}),p("Langue mise √† jour","success")},Ee=()=>{t(!0),D().catch(()=>p("Erreur lors de la synchronisation","error")).finally(()=>t(!1))},ke=r=>new Promise(F=>{const J=i(),U=new Blob([J],{type:"application/json"}),R=URL.createObjectURL(U),B=document.createElement("a");B.href=R,B.download=`kbv-backup-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(R),p("Sauvegarde effectu√©e avec succ√®s","success"),F()}),Oe=r=>new Promise((F,J)=>{const U=new FileReader;U.onload=R=>{if(R.target?.result)try{u(R.target.result),F()}catch(B){J(B)}},U.onerror=J,U.readAsText(r)}),Fe=(r,F)=>(p("Importation effectu√©e avec succ√®s","success"),Promise.resolve({speakersAdded:0,speakersUpdated:0,visitsAdded:Array.isArray(r)?r.length:1,visitsUpdated:0,hostsAdded:0,hostsUpdated:0,errors:[]})),Re=(r,F,J="keep-recent")=>{let U=0;r.forEach(R=>{if(!R.items||R.items.length<2)return;const B=[...R.items];J==="keep-recent"&&B.sort((q,we)=>new Date(we.updatedAt||we.createdAt||0).getTime()-new Date(q.updatedAt||q.createdAt||0).getTime());const ge=B[0],Le=B.slice(1),Pe=R.type==="host"?ge.nom:ge.id||ge.visitId,re=Le.map(q=>R.type==="host"?q.nom:R.type==="visit"||R.type==="archivedVisit"?q.visitId:q.id);F==="merge"?(d(R.type,Pe,re),U++):F==="delete"&&(R.type==="speaker"?re.forEach(q=>E(q)):R.type==="host"?re.forEach(q=>v(q)):R.type==="visit"&&re.forEach(q=>k(q)),U++)}),U>0&&p(F==="merge"?`${U} groupe(s) fusionn√©(s)`:`${U} groupe(s) nettoy√©(s)`,"success")};return e.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8 px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 dark:border-gray-700 pb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400 font-medium mb-1",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Syst√®me & Configuration"})]}),e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:"Param√®tres"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-2xl",children:"Personnalisez votre exp√©rience, g√©rez les donn√©es de la congr√©gation et configurez les options de s√©curit√© avanc√©es."})]}),N!=="overview"&&e.jsx(A,{variant:"ghost",onClick:()=>M("overview"),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Retour √† l'accueil"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[e.jsxs("div",{className:"w-full lg:w-72 shrink-0",children:[e.jsx(P,{className:"overflow-hidden border-none shadow-md",children:e.jsx(V,{className:"p-2 space-y-1",children:Ne.map(r=>e.jsxs("button",{onClick:()=>M(r.id),className:L("w-full flex items-center justify-between group px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-200",N===r.id?"bg-primary-600 text-white shadow-lg shadow-primary-200 dark:shadow-primary-900/20 translate-x-1":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:L("p-2 rounded-lg transition-colors",N===r.id?"bg-white/20":L(r.bg,r.color)),children:e.jsx(r.icon,{className:"w-4 h-4"})}),e.jsx("span",{children:r.label})]}),e.jsx(ue,{className:L("w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity",N===r.id&&"opacity-100")})]},r.id))})}),N!=="overview"&&e.jsxs("div",{className:"mt-8 space-y-4 hidden lg:block",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-4",children:"√âtat du syst√®me"}),e.jsx(P,{className:"bg-gray-50/50 dark:bg-gray-800/30 border-dashed",children:e.jsxs(V,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Base de donn√©es"}),e.jsx("span",{className:"text-green-600 font-bold",children:"En ligne"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Derni√®re synchro"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:localStorage.getItem("lastGoogleSheetSync")?new Date(localStorage.getItem("lastGoogleSheetSync")).toLocaleDateString():"Jamais"})]}),e.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400",children:[e.jsx(W,{className:"w-3 h-3"}),"Chiffrement AES-GCM 256"]})})]})})]})]}),e.jsxs("div",{className:"flex-1 w-full min-h-[700px]",children:[N==="overview"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Orateurs",value:Y.speakersCount,icon:ye,color:"text-blue-600",bg:"bg-blue-50"},{label:"Visites",value:Y.visitsCount,icon:ne,color:"text-purple-600",bg:"bg-purple-50"},{label:"H√¥tes",value:Y.hostsCount,icon:ie,color:"text-green-600",bg:"bg-green-50"},{label:"Archives",value:Y.archivedCount,icon:de,color:"text-orange-600",bg:"bg-orange-50"}].map((r,F)=>e.jsx(P,{className:"overflow-hidden border-none shadow-sm",children:e.jsxs(V,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:r.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-0.5",children:r.value})]}),e.jsx("div",{className:L("p-3 rounded-2xl dark:bg-gray-700",r.bg),children:e.jsx(r.icon,{className:L("w-5 h-5",r.color)})})]})},F))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Ne.filter(r=>r.id!=="overview").map(r=>e.jsx(P,{hoverable:!0,onClick:()=>M(r.id),className:"group",children:e.jsxs(V,{className:"p-6 flex flex-col h-full",children:[e.jsx("div",{className:L("w-12 h-12 rounded-2xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110 duration-300",r.bg),children:e.jsx(r.icon,{className:L("w-6 h-6",r.color)})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:r.label}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex-1",children:[r.id==="profile"&&"G√©rez le nom, la ville et les horaires de r√©union de votre congr√©gation.",r.id==="appearance"&&"Modifiez le th√®me (Clair/Sombre), la langue et les pr√©f√©rences visuelles.",r.id==="notifications"&&"Configurez les rappels automatiques et les pr√©f√©rences d'alertes.",r.id==="security"&&"Param√®tres de chiffrement et gestion des d√©lais de session.",r.id==="data"&&"Sauvegardes export/import et synchronisation Google Sheets.",r.id==="duplicates"&&"Outils de maintenance pour nettoyer les donn√©es en doublon.",r.id==="about"&&"Informations sur l'application, licence et version actuelle."]}),e.jsxs("div",{className:"mt-6 flex items-center text-primary-600 font-semibold text-sm",children:["Configurer ",e.jsx(ue,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},r.id))})]}),N==="profile"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:e.jsxs(P,{className:"border-none shadow-lg outline outline-1 outline-gray-200 dark:outline-gray-700",children:[e.jsx(K,{className:"bg-gray-50/50 dark:bg-gray-900/20 border-b border-gray-100 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-2xl",children:e.jsx(te,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Identit√© de la Congr√©gation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ces informations apparaissent sur les documents officiels."})]})]})}),e.jsxs(V,{className:"space-y-8 p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsx(Z,{label:"Nom de la congr√©gation",value:h.name,onChange:r=>s({...h,name:r.target.value}),placeholder:"Ex: Lyon KBV",leftIcon:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx(Z,{label:"Ville",value:h.city||"",onChange:r=>s({...h,city:r.target.value}),placeholder:"Ex: Lyon",leftIcon:e.jsx(ie,{className:"w-4 h-4"})}),e.jsx(Z,{label:"Responsable Accueil",value:h.hospitalityOverseer,onChange:r=>s({...h,hospitalityOverseer:r.target.value}),placeholder:"Nom complet"}),e.jsx(Z,{label:"T√©l√©phone Responsable",value:h.hospitalityOverseerPhone,onChange:r=>s({...h,hospitalityOverseerPhone:r.target.value}),placeholder:"+33 6 XX XX XX XX",leftIcon:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx(be,{label:"Jour de r√©union",value:h.meetingDay||"Samedi",onChange:r=>s({...h,meetingDay:r.target.value}),options:[{value:"Dimanche",label:"Dimanche"},{value:"Lundi",label:"Lundi"},{value:"Mardi",label:"Mardi"},{value:"Mercredi",label:"Mercredi"},{value:"Jeudi",label:"Jeudi"},{value:"Vendredi",label:"Vendredi"},{value:"Samedi",label:"Samedi"}]}),e.jsx(Z,{label:"Heure de r√©union",type:"time",value:h.meetingTime||"14:30",onChange:r=>s({...h,meetingTime:r.target.value}),leftIcon:e.jsx(oe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-primary-700 p-6 rounded-2xl shadow-xl text-white max-w-sm mx-auto transform hover:rotate-1 transition-transform cursor-default",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-md",children:e.jsx(Q,{className:"w-6 h-6"})}),e.jsx("div",{className:"text-[10px] bg-black/10 px-2 py-1 rounded-full tracking-tighter uppercase font-bold",children:"OFFICIAL PROFILE"})]}),e.jsx("h4",{className:"text-lg font-bold mb-1 truncate",children:h.name||"Nom Congr√©gation"}),e.jsxs("p",{className:"text-xs opacity-80 mb-4",children:[h.city||"Ville",", FR"]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-3 h-3 opacity-60"}),e.jsx("span",{children:h.hospitalityOverseer||"Responsable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-3 h-3 opacity-60"}),e.jsxs("span",{children:[h.meetingDay||"Jour"," √† ",h.meetingTime||"00:00"]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 dark:border-gray-800",children:e.jsx(A,{size:"lg",leftIcon:e.jsx(de,{className:"w-4 h-4"}),onClick:Te,className:"shadow-lg shadow-primary-200 dark:shadow-none",children:"Enregistrer les modifications"})})]})]})}),N==="appearance"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 uppercase",children:e.jsxs(P,{className:"border-none shadow-lg",children:[e.jsx(K,{children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(De,{className:"w-6 h-6 text-pink-500"}),"Pr√©f√©rences Visuelles"]})}),e.jsxs(V,{className:"p-8 space-y-12",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-6 uppercase tracking-wider",children:"Th√®me de l'interface"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[{value:"light",label:"Clair",icon:ss,color:"text-orange-500",preview:"bg-gray-100",inner:"bg-white border-gray-200"},{value:"dark",label:"Sombre",icon:Qe,color:"text-indigo-400",preview:"bg-gray-950",inner:"bg-gray-800 border-gray-700"},{value:"auto",label:"Syst√®me",icon:Q,color:"text-gray-500",preview:"bg-gradient-to-r from-gray-100 to-gray-950",inner:"bg-gray-400 border-gray-400"}].map(r=>e.jsxs("button",{onClick:()=>Ie(r.value),className:L("group relative flex flex-col items-center p-2 rounded-2xl border-2 transition-all duration-300",o.theme===r.value?"border-primary-500 bg-primary-50/50 dark:bg-primary-900/10":"border-transparent hover:bg-gray-50 dark:hover:bg-gray-800/50"),children:[e.jsx("div",{className:L("w-full aspect-[4/3] rounded-xl mb-4 overflow-hidden shadow-inner flex items-center justify-center",r.preview),children:e.jsx("div",{className:L("w-1/2 h-1/2 border rounded-md shadow-lg",r.inner)})}),e.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[e.jsx(r.icon,{className:L("w-4 h-4",r.color)}),e.jsx("span",{className:"text-sm font-bold",children:r.label})]}),o.theme===r.value&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-primary-500 text-white p-1 rounded-full shadow-lg",children:e.jsx(X,{className:"w-4 h-4"})})]},r.value))})]}),e.jsxs("div",{className:"pt-8 border-t border-gray-100 dark:border-gray-800",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 uppercase tracking-wider",children:"Langue d'affichage"}),e.jsx("div",{className:"max-w-xs",children:e.jsx(be,{value:o.language,onChange:r=>ze(r.target.value),options:[{value:"fr",label:"üá´üá∑ Fran√ßais"},{value:"cv",label:"üá®üáª Capverdien"},{value:"pt",label:"üáµüáπ Portugais"}]})})]})]})]})}),N==="notifications"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:e.jsxs(P,{className:"border-none shadow-lg",children:[e.jsx(K,{children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ae,{className:"w-6 h-6 text-orange-500"}),"Notifications & Rappels"]})}),e.jsxs(V,{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gray-50 dark:bg-gray-900/40 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Service de notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Autoriser l'application √† envoyer des messages syst√®me."}),e.jsx(A,{variant:"secondary",size:"sm",onClick:I,className:"mt-3",leftIcon:e.jsx(ae,{className:"w-4 h-4"}),children:"Tester une notification"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.notifications.enabled,onChange:r=>S({...o,notifications:{...o.notifications,enabled:r.target.checked}})}),e.jsx("div",{className:"w-14 h-7 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})]}),o.notifications.enabled&&e.jsxs("div",{className:"space-y-8 pl-4 border-l-2 border-primary-100 dark:border-primary-900/30",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"D√©lais de rappel"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{value:ms,label:"Une semaine",desc:"Rappel J-7 pour confirmer l'orateur."},{value:hs,label:"48 Heures",desc:"Rappel J-2 pour les d√©tails finaux."}].map(r=>e.jsx(P,{className:L("cursor-pointer border-2 transition-all",o.notifications.reminderDays.includes(r.value)?"border-primary-500 bg-primary-50/20":"border-transparent bg-gray-50/50 dark:bg-gray-800/50"),onClick:()=>{const F=o.notifications.reminderDays.includes(r.value)?o.notifications.reminderDays.filter(J=>J!==r.value):[...o.notifications.reminderDays,r.value];S({...o,notifications:{...o.notifications,reminderDays:F}})},children:e.jsxs(V,{className:"p-4 flex items-start gap-3",children:[e.jsx("div",{className:L("p-2 rounded-lg",o.notifications.reminderDays.includes(r.value)?"bg-primary-500 text-white":"bg-gray-200 dark:bg-gray-700"),children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:r.label}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.desc})]})]})},r.value))})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Alertes sonores & Vibrations"}),e.jsx("div",{className:"space-y-4",children:[{id:"sound",label:"Alertes sonores",icon:ae,checked:o.notifications.sound},{id:"vibration",label:"Vibrations",icon:es,checked:o.notifications.vibration}].map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.icon,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium",children:r.label})]}),e.jsx("input",{type:"checkbox",checked:r.checked,onChange:F=>S({...o,notifications:{...o.notifications,[r.id]:F.target.checked}}),className:"w-5 h-5 rounded text-primary-600 focus:ring-primary-500"})]},r.id))})]})]})]})]})}),N==="security"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:e.jsxs(P,{className:"border-none shadow-lg",children:[e.jsx(K,{children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(W,{className:"w-6 h-6 text-green-500"}),"Confidentialit√© & S√©curit√©"]})}),e.jsxs(V,{className:"p-8 space-y-10",children:[e.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-800/30 rounded-2xl flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-white dark:bg-green-900/40 rounded-xl shadow-sm",children:e.jsx(W,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-green-900 dark:text-green-100",children:"Protection des donn√©es"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Toutes les donn√©es sensibles (noms, t√©l√©phones) sont stock√©es localement et peuvent √™tre chiffr√©es pour plus de s√©curit√©."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-bold text-gray-900 dark:text-white",children:"Chiffrement de la base"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Utiliser AES-GCM 256 pour les donn√©es locales."})]}),e.jsx("input",{type:"checkbox",checked:o.encryptionEnabled,onChange:r=>S({...o,encryptionEnabled:r.target.checked}),className:"w-6 h-6 rounded-lg text-green-600 focus:ring-green-500"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-800",children:[e.jsx("label",{className:"block font-bold text-gray-900 dark:text-white mb-2",children:"D√©lai d'expiration de session"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"L'application demandera une authentification apr√®s cette p√©riode d'inactivit√©."}),e.jsx("div",{className:"max-w-xs",children:e.jsx(be,{value:o.sessionTimeout?.toString()||"30",onChange:r=>S({...o,sessionTimeout:parseInt(r.target.value,10)}),options:[{value:"15",label:"15 minutes"},{value:"30",label:"30 minutes"},{value:"60",label:"1 heure"},{value:"120",label:"2 heures"}]})})]})]})]})]})}),N==="data"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:e.jsxs(P,{className:"border-none shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 p-8 text-white relative",children:[e.jsx(le,{className:"absolute right-[-20px] top-[-20px] w-48 h-48 opacity-10 rotate-12"}),e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx(le,{className:"w-8 h-8"}),"Cycle de vie des donn√©es"]}),e.jsx("p",{className:"text-amber-50 mt-2 opacity-90 max-w-xl",children:"Contr√¥lez la synchronisation avec le cloud, cr√©ez des sauvegardes et g√©rez l'importation massive de donn√©es."})]}),e.jsxs(V,{className:"p-8 space-y-10",children:[e.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900/30 rounded-2xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-lg font-bold text-blue-900 dark:text-blue-100 flex items-center gap-2",children:[e.jsx(Se,{className:L("w-5 h-5",n&&"animate-spin")}),"Synchronisation Google Sheets"]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:"Mise √† jour automatique des orateurs et des visites depuis la feuille de calcul partag√©e."}),localStorage.getItem("lastGoogleSheetSync")&&e.jsxs("p",{className:"text-xs text-blue-500 mt-2 font-medium",children:["Derni√®re synchronisation : ",new Date(localStorage.getItem("lastGoogleSheetSync")).toLocaleString("fr-FR")]})]}),e.jsx("div",{className:"flex items-center shrink-0",children:e.jsx(A,{onClick:Ee,disabled:n,className:"shadow-lg shadow-blue-200 dark:shadow-none",children:n?"Traitement en cours...":"Synchroniser maintenant"})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"backup",label:"Sauvegardes",desc:"Backups locaux chiffr√©s",icon:de,color:"text-green-600",bg:"bg-green-100",action:()=>c(!0)},{id:"import",label:"Importation",desc:"Assistant CSV / JSON",icon:Se,color:"text-purple-600",bg:"bg-purple-100",action:()=>y(!0)},{id:"archive",label:"Archives",desc:"Consulter l'historique",icon:le,color:"text-orange-600",bg:"bg-orange-100",action:()=>z(!0)},{id:"phones",label:"T√©l√©phones",desc:"Import num√©ros massif",icon:xe,color:"text-indigo-600",bg:"bg-indigo-100",action:()=>ve(!0)}].map(r=>e.jsxs("button",{onClick:r.action,className:"flex items-center gap-4 p-5 text-left border border-gray-100 dark:border-gray-800 rounded-2xl transition-all duration-200 hover:border-primary-500 hover:bg-gray-50 dark:hover:bg-gray-800/40 hover:shadow-lg",children:[e.jsx("div",{className:L("p-3 rounded-xl dark:bg-gray-800",r.bg,r.color),children:e.jsx(r.icon,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:r.label}),e.jsx("div",{className:"text-xs text-gray-500",children:r.desc})]}),e.jsx(ue,{className:"w-4 h-4 ml-auto text-gray-300"})]},r.id))}),e.jsxs("div",{className:"pt-8 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 uppercase text-xs tracking-widest",children:[e.jsx(Ye,{className:"w-4 h-4 text-gray-400"}),"Acc√®s externes"]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(A,{variant:"outline",onClick:()=>window.open("https://docs.google.com/spreadsheets/d/1drIzPPi6AohCroSyUkF1UmMFxuEtMACBF4XATDjBOcg","_blank"),className:"rounded-xl",children:"Google Sheet Source"}),e.jsx(A,{variant:"outline",onClick:()=>window.open("https://www.jw.org/kea/","_blank"),className:"rounded-xl",children:"JW.ORG (Cap-Verdien)"})]})]})]})]})}),N==="duplicates"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 uppercase",children:e.jsxs(P,{className:"border-none shadow-lg",children:[e.jsx(K,{children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(fe,{className:"w-6 h-6 text-indigo-500"}),"D√©tection de Doublons"]})}),e.jsxs(V,{className:"p-8 space-y-8",children:[e.jsx("p",{className:"text-gray-500",children:"Utilisez ces outils pour identifier les entr√©es similaires et garder une base de donn√©es propre."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[{label:"Orateurs",count:Y.speakersCount,icon:te,color:"text-blue-500"},{label:"Visites",count:Y.visitsCount,icon:ne,color:"text-purple-500"},{label:"H√¥tes",count:Y.hostsCount,icon:ie,color:"text-green-500"}].map(r=>e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-2xl text-center border border-gray-100 dark:border-gray-800",children:[e.jsx(r.icon,{className:L("w-8 h-8 mx-auto mb-3",r.color)}),e.jsx("div",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:r.count}),e.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:[r.label," totaux"]})]},r.label))}),e.jsx("div",{className:"pt-8 text-center",children:e.jsx(A,{size:"lg",onClick:()=>O(!0),className:"px-12 py-6 rounded-2xl shadow-xl shadow-indigo-200 dark:shadow-none bg-indigo-600 hover:bg-indigo-700",children:"D√©marrer l'audit complet"})})]})]})}),N==="about"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-primary-600 rounded-[2.5rem] flex items-center justify-center shadow-2xl shadow-primary-200 dark:shadow-none mb-8 rotate-12 transition-transform hover:rotate-0 duration-500",children:e.jsx(Q,{className:"w-16 h-16 text-white"})}),e.jsxs("h3",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tighter mb-2",children:["KBV ",e.jsx("span",{className:"text-primary-600",children:"MANAGER"})]}),e.jsx("p",{className:"text-gray-400 font-bold tracking-[0.2em] uppercase text-[10px] mb-8",children:"Version 1.20.1 Built 2025"}),e.jsxs("div",{className:"max-w-md bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cette application a √©t√© con√ßue exclusivement pour l'organisation et la gestion des orateurs visiteurs pour la congr√©gation KBV DV Lyon .FP."}),e.jsxs("div",{className:"pt-4 border-t border-gray-50 dark:border-gray-700 grid grid-cols-2 gap-4 text-left",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"D√©veloppeur"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Internal IT"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Derni√®re MAJ"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Dec 2025"})]})]})]}),e.jsx("p",{className:"mt-12 text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Built with React ‚Ä¢ Tailwind ‚Ä¢ Capacitor"})]})})]})]}),e.jsx(as,{isOpen:l,onClose:()=>c(!1),onBackup:ke,onRestore:Oe}),e.jsx(ts,{isOpen:a,onClose:()=>y(!1),onImport:Fe}),e.jsx(ls,{isOpen:x,onClose:()=>z(!1),onRestore:r=>{p(`${r.length} visite(s) restaur√©e(s)`,"success")},onDelete:r=>{r.forEach(F=>k(F)),p(`${r.length} visite(s) supprim√©e(s)`,"info")},onExport:async()=>{await ke()}}),e.jsx(rs,{isOpen:H,onClose:()=>O(!1),onMerge:Re}),e.jsx(xs,{isOpen:Ae,onClose:()=>ve(!1)})]})};export{ks as Settings,ks as default};
//# sourceMappingURL=Settings--O9cjsVM.js.map
