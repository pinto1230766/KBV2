{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","PopStateEventType","createBrowserHistory","options","createBrowserLocation","window2","globalHistory","pathname","search","hash","createLocation","createBrowserHref","to","createPath","getUrlBasedHistory","invariant","value","message","warning","cond","createKey","getHistoryState","location","index","current","state","key","parsePath","path","parsedPath","hashIndex","searchIndex","getLocation","createHref2","validateLocation","v5Compat","action","listener","getIndex","handlePop","nextIndex","delta","history","push","historyState","url","error","replace2","createURL","createBrowserURLImpl","fn","isAbsolute","base","href","matchRoutes","routes","locationArg","basename","matchRoutesImpl","allowPartial","stripBasename","branches","flattenRoutes","rankRouteBranches","matches","i","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","_hasParentOptionalSegments","flattenRoute","route","hasParentOptionalSegments","relativePath","meta","joinPaths","routesMeta","computeScore","exploded","explodeOptionalSegments","segments","first","rest","isOptional","required","restExploded","result","subpath","compareIndexes","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","initialScore","score","segment","branch","matchedParams","matchedPathname","end","remainingPathname","match","matchPath","normalizePathname","pattern","matcher","compiledParams","compilePath","pathnameBase","captureGroups","memo2","paramName","splatValue","caseSensitive","params","regexpSource","_","v","startIndex","nextChar","ABSOLUTE_URL_REGEX","isAbsoluteUrl","resolvePath","fromPathname","toPathname","oldPathname","resolvePathname","normalizeSearch","normalizeHash","getInvalidPathError","char","field","dest","getPathContributingMatches","getResolveToMatches","pathMatches","idx","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","from","routePathnameIndex","toSegments","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","getRoutePattern","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","React.createContext","DataRouterStateContext","ViewTransitionContext","FetchersContext","AwaitContext","NavigationContext","LocationContext","RouteContext","RouteErrorContext","useHref","relative","useInRouterContext","navigator","React2.useContext","useResolvedPath","joinedPathname","useLocation","navigateEffectWarning","useIsomorphicLayoutEffect","cb","React2.useLayoutEffect","useNavigate","isDataRoute","useNavigateStable","useNavigateUnstable","dataRouterContext","routePathnamesJson","activeRef","React2.useRef","React2.useCallback","OutletContext","React2.createContext","useOutlet","context","outlet","React2.useMemo","React2.createElement","useRoutes","useRoutesImpl","dataRouterState","unstable_onError","future","parentMatches","routeMatch","parentParams","parentPathname","parentPathnameBase","parentRoute","warningOnce","locationFromContext","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","DefaultErrorComponent","useRouteError","stack","lightgrey","preStyles","codeStyles","devInfo","React2.Fragment","defaultErrorElement","RenderErrorBoundary","React2.Component","props","errorInfo","RenderedRoute","routeContext","children","errors","errorIndex","renderFallback","fallbackIndex","loaderData","errors2","needsToRunLoader","onError","shouldRenderHydrateFallback","errorElement","hydrateFallbackElement","matches2","getChildren","getDataRouterConsoleError","hookName","useDataRouterContext","ctx","useDataRouterState","useRouteContext","useCurrentRouteId","thisRoute","useRouteId","routeId","router","id","alreadyWarned","React3.memo","DataRoutes","Navigate","isStatic","React3.useContext","navigate","jsonPath","React3.useEffect","Outlet","Route","Router","basenameProp","locationProp","navigationType","staticProp","unstable_useTransitions","navigationContext","React3.useMemo","locationContext","trailingPathname","React3.createElement","Routes","createRoutesFromChildren","React3.Children","element","React3.isValidElement","treePath","React3.Fragment","defaultMethod","defaultEncType","isHtmlElement","object","isButtonElement","isFormElement","isInputElement","isModifiedEvent","event","shouldProcessLinkClick","target","_formDataSupportsSubmitter","isFormDataSubmitterSupported","supportedFormEncTypes","getFormEncType","encType","getFormSubmissionInfo","method","formData","body","attr","form","name","type","prefix","invariant2","singleFetchUrl","reqUrl","extension","loadRouteModule","routeModulesCache","routeModule","isHtmlLinkDescriptor","getKeyedPrefetchLinks","manifest","routeModules","links","mod","dedupeLinkDescriptors","link","getNewMatchesForLinks","page","nextMatches","currentMatches","mode","isNew","matchPathChanged","manifestRoute","routeChoice","getModuleLinkHrefs","includeHydrateFallback","dedupeHrefs","hrefs","sortKeys","obj","sorted","keys","descriptors","preloads","set","deduped","descriptor","useDataRouterContext2","React8.useContext","useDataRouterStateContext","FrameworkContext","React8.createContext","useFrameworkContext","usePrefetchBehavior","prefetch","theirElementProps","frameworkContext","maybePrefetch","setMaybePrefetch","React8.useState","shouldPrefetch","setShouldPrefetch","onFocus","onBlur","onMouseEnter","onMouseLeave","onTouchStart","ref","React8.useRef","React8.useEffect","callback","entries","entry","observer","setIntent","cancelIntent","composeEventHandlers","theirHandler","ourHandler","PrefetchPageLinks","linkProps","React8.useMemo","React8.createElement","PrefetchPageLinksImpl","useKeyedPrefetchLinks","keyedPrefetchLinks","setKeyedPrefetchLinks","interrupted","newMatchesForData","newMatchesForAssets","dataHrefs","routesParams","foundOptOutRoute","m2","moduleHrefs","React8.Fragment","mergeRefs","refs","isBrowser","BrowserRouter","historyRef","React10.useRef","setStateImpl","React10.useState","setState","React10.useCallback","newState","React10.startTransition","React10.useLayoutEffect","React10.createElement","ABSOLUTE_URL_REGEX2","Link","React10.forwardRef","onClick","discover","reloadDocument","preventScrollReset","viewTransition","forwardedRef","React10.useContext","absoluteHref","isExternal","currentUrl","targetUrl","prefetchRef","prefetchHandlers","internalOnClick","useLinkClickHandler","handleClick","React10.Fragment","NavLink","ariaCurrentProp","classNameProp","styleProp","routerState","isTransitioning","useViewTransitionState","nextLocationPathname","endSlashPosition","isActive","isPending","renderProps","ariaCurrent","className","style","Form","fetcherKey","onSubmit","submit","useSubmit","formAction","useFormAction","formMethod","submitHandler","submitter","submitMethod","doSubmit","getDataRouterConsoleError2","useDataRouterContext3","replaceProp","doNavigate","fetcherId","getUniqueFetcherId","currentRouteId","routerFetch","routerNavigate","indexValues","qs","vtContext","currentPath","nextPath","createCapacitorPlatforms","win","defaultPlatformMap","capPlatforms","addPlatform","platform","setPlatform","initPlatforms","CapacitorPlatforms","ExceptionCode","CapacitorException","code","data","getPlatformId","_a","_b","createCapacitor","_c","_d","_e","capCustomPlatform","cap","Plugins","defaultGetPlatform","getPlatform","defaultIsNativePlatform","isNativePlatform","defaultIsPluginAvailable","pluginName","plugin","registeredPlugins","getPluginHeader","isPluginAvailable","defaultGetPluginHeader","handleError","err","pluginMethodNoop","_target","prop","defaultRegisterPlugin","jsImplementations","registeredPlugin","pluginHeader","jsImplementation","loadPluginImplementation","createPluginMethod","impl","methodHeader","createPluginMethodWrapper","remove","wrapper","args","addListener","removeListener","addListenerNative","eventName","call","callbackId","resolve","proxy","registerPlugin","filePath","initCapacitorGlobal","Capacitor","WebPlugin","config","listenerFunc","windowListener","listeners","windowEventName","pluginEventName","msg","handle","encode","str","decode","CapacitorCookiesPluginWeb","cookies","cookieMap","cookie","encodedKey","encodedValue","expires","domain","readBlobAsBase64","blob","reject","reader","base64String","normalizeHttpHeaders","headers","originalKeys","acc","buildUrlParams","shouldEncode","accumulator","item","buildRequestInit","extra","output","CapacitorHttpPluginWeb","requestInit","urlParams","response","contentType","responseType","Preferences","__vitePreload","DB_NAME","DB_VERSION","dbInstance","getDB","openDB","db","get","clear","idb.get","idb.set","idb.clear","migrateToCapacitor","migrated","appData","completeSpeakers","completeHosts","completeVisits","completeArchivedVisits","completeSpecialDates","completeData","UNASSIGNED_HOST","NA_HOST","generateUUID","r","formatDistanceLocale","formatDistance","token","count","tokenValue","dateFormats","timeFormats","dateTimeFormats","formatLong","buildFormatLongFn","formatRelativeLocale","formatRelativeLocalePlural","formatRelative","date","_baseDate","_options","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","localize","buildLocalizeFn","quarter","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","buildMatchPatternFn","buildMatchFn","es","_date","number","unit","feminineUnits","suffix","LONG_MONTHS_TOKENS","parts","part","fr","weekday","format","pt","locales","enUS","formatDate","formatString","language","dateObj","parseISO","isValid","formatFullDate","parseDate","dateStr","day","month","year","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","createElement","tag","attrs","AlertCircle","AlertTriangle","ArrowRight","BarChart3","Bell","Calendar","CheckCircle2","CheckCircle","ChevronLeft","ChevronRight","Clock","Cloud","Download","FileCode","FileSpreadsheet","FileText","Home","Info","LayoutDashboard","Loader2","Menu","MessageSquare","Plus","RefreshCw","Search","Settings","Sparkles","TrendingUp","Users","X","Zap","ToastContext","createContext","ToastProvider","toasts","setToasts","useState","addToast","useCallback","duration","toast","prev","removeToast","jsxs","jsx","ToastContainer","useToast","useContext","onRemove","ToastItem","icons","styles","QUEUE_STORAGE_KEY","useSyncQueue","queue","setQueue","isInitialized","setIsInitialized","useEffect","savedQueue","addAction","payload","newAction","removeAction","updateActionStatus","status","clearQueue","getPendingActions","useOfflineMode","fetchData","setData","isOnline","setIsOnline","isLoading","setIsLoading","setError","loadFromCache","cached","saveToCache","offlineData","loadData","forceRefresh","freshData","cachedData","handleOnline","handleOffline","TALK_TITLES","getTalkTitle","talkNo","DataContext","DataProvider","loaded","setLoaded","syncQueue","addToSyncQueue","clearSyncQueue","storage.migrateToCapacitor","saved","storage.get","visitsWithTitles","visit","shouldForceReload","mergedData","host","arr","storage.set","addSpeaker","speaker","updateSpeaker","updatedSpeakers","today","updatedVisits","deleteSpeaker","addVisit","updateVisit","deleteVisit","visitId","completeVisit","addHost","updateHost","updates","deleteHost","logCommunication","role","saveCustomTemplate","lang","text","updateCongregationProfile","profile","resetData","storage.clear","syncWithGoogleSheet","googleSheetId","sheetGidsToTry","allRows","cols","successfulGids","gid","jsonMatch","parsedData","rows","dateIndex","speakerIndex","congIndex","talkNoIndex","themeIndex","addedCount","updatedCount","skippedCount","addedVisitsDetails","updatedVisitsDetails","newSpeakers","newVisits","speakerMap","row","cells","dateValue","visitDateObj","dateParts","speakerName","congregation","formattedDate","displayDate","existingVisitIndex","talkNoValue","finalTheme","existingVisit","newVisit","toastMessage","refreshData","exportData","dataToExport","importData","json","parsed","mergeDuplicates","keepId","duplicateIds","keepSpeaker","keepHostName","useData","defaultSettings","SettingsContext","SettingsProvider","settings","setSettings","isLoaded","setIsLoaded","aiSettings","root","updateSettings","setTheme","theme","setLanguage","setNotifications","notifications","resetSettings","useSettings","ConfirmContext","ConfirmProvider","confirm","handleConfirm","handleCancel","ConfirmDialog","useConfirm","onConfirm","onCancel","confirmButtonClass","Fragment","usePlatform","platformInfo","setPlatformInfo","detectPlatform","handleResize","handleOrientationChange","userAgent","width","height","isIOS","isAndroid","isSamsung","hasSPen","isTabletS10Ultra","isPhoneS25Ultra","minDimension","maxDimension","deviceType","orientation","PlatformContext","PlatformProvider","usePlatformContext","AccessibilityContext","AccessibilityProvider","announceElement","setAnnounceElement","isKeyboardNavigation","setIsKeyboardNavigation","reducedMotion","setReducedMotion","handleKeyDown","handleMouseDown","mediaQuery","handleChange","contextValue","priority","tabs","IOSTabBar","tab","active","useSPen","sPenState","setSPenState","handlePointerEnter","handlePointerMove","handlePointerDown","handlePointerUp","handlePointerLeave","SPenCursor","isHovering","position","React","IOSMainLayout","isTablet","isDashboard","concatArrays","array1","array2","combinedArray","createClassValidatorObject","classGroupId","validator","createClassPartObject","nextPart","validators","CLASS_PART_SEPARATOR","EMPTY_CONFLICTS","ARBITRARY_PROPERTY_PREFIX","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","getGroupIdForArbitraryProperty","classParts","getGroupRecursive","hasPostfixModifier","modifierConflicts","baseConflicts","classPartObject","currentClassPart","nextClassPartObject","classRest","validatorsLength","validatorObj","content","colonIndex","property","classGroups","processClassGroups","group","processClassesRecursively","classGroup","len","classDefinition","processClassDefinition","processStringDefinition","processFunctionDefinition","processObjectDefinition","classPartObjectToEdit","getPart","isThemeGetter","next","func","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","IMPORTANT_MODIFIER","MODIFIER_SEPARATOR","EMPTY_MODIFIERS","createResultObject","modifiers","hasImportantModifier","baseClassName","maybePostfixModifierPosition","createParseClassName","experimentalParseClassName","parseClassName","bracketDepth","parenDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","fullPrefix","parseClassNameOriginal","createSortModifiers","modifierWeights","currentSegment","modifier","isArbitrary","isOrderSensitive","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","sortModifiers","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","twJoin","classLists","argument","resolvedValue","toValue","mix","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fallbackThemeArr","fromTheme","themeGetter","arbitraryValueRegex","arbitraryVariableRegex","fractionRegex","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isFraction","isNumber","isInteger","isPercent","isTshirtSize","isAny","isLengthOnly","isNever","isShadow","isImage","isAnyNonArbitrary","isArbitraryValue","isArbitraryVariable","isArbitrarySize","getIsArbitraryValue","isLabelSize","isArbitraryLength","isLabelLength","isArbitraryNumber","isLabelNumber","isArbitraryPosition","isLabelPosition","isArbitraryImage","isLabelImage","isArbitraryShadow","isLabelShadow","isArbitraryVariableLength","getIsArbitraryVariable","isArbitraryVariableFamilyName","isLabelFamilyName","isArbitraryVariablePosition","isArbitraryVariableSize","isArbitraryVariableImage","isArbitraryVariableShadow","testLabel","testValue","shouldMatchNoLabel","label","getDefaultConfig","themeColor","themeFont","themeText","themeFontWeight","themeTracking","themeLeading","themeBreakpoint","themeContainer","themeSpacing","themeRadius","themeShadow","themeInsetShadow","themeTextShadow","themeDropShadow","themeBlur","themePerspective","themeAspect","themeEase","themeAnimate","scaleBreak","scalePosition","scalePositionWithArbitrary","scaleOverflow","scaleOverscroll","scaleUnambiguousSpacing","scaleInset","scaleGridTemplateColsRows","scaleGridColRowStartAndEnd","scaleGridColRowStartOrEnd","scaleGridAutoColsRows","scaleAlignPrimaryAxis","scaleAlignSecondaryAxis","scaleMargin","scaleSizing","scaleColor","scaleBgPosition","scaleBgRepeat","scaleBgSize","scaleGradientStopPosition","scaleRadius","scaleBorderWidth","scaleLineStyle","scaleBlendMode","scaleMaskImagePosition","scaleBlur","scaleRotate","scaleScale","scaleSkew","scaleTranslate","twMerge","cn","inputs","clsx","Modal","isOpen","onClose","title","footer","hideCloseButton","padding","modalRef","useRef","handleEscape","sizes","createPortal","Button","variant","leftIcon","rightIcon","disabled","asChild","baseStyles","variants","buttonContent","mergedClassName","Card","hoverable","CardHeader","CardBody","QUICK_ACTIONS","CATEGORIES","QuickActionsModal","onAction","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","recentActions","setRecentActions","filteredActions","useMemo","matchesCategory","matchesSearch","handleAction","actionId","filtered","cat","REPORT_TYPES","REPORT_SECTIONS","ReportGeneratorModal","onGenerate","visits","speakers","selectedType","setSelectedType","selectedPeriod","setSelectedPeriod","selectedFormat","setSelectedFormat","includedSections","setIncludedSections","customDateRange","setCustomDateRange","toggleSection","sectionId","filteredVisitsCount","now","start","estimatedPages","pages","section","t","NAV_ITEMS","TabletLayout","isSidebarOpen","setIsSidebarOpen","isQuickActionsOpen","setIsQuickActionsOpen","isReportModalOpen","setIsReportModalOpen","isLandscape","isDarkMode","toggleTheme","toggleSidebar","handleReportGenerate","filteredVisits","visitDate","fileName","escapeCsv","csvContent","htmlContent","currentIndex","canGoBack","canGoForward","goToPrevious","goToNext","PhoneLayout","isPhone","Spinner","sizeClasses","Subscribable","defaultTimeoutProvider","delay","timeoutId","intervalId","TimeoutManager","#provider","#providerCalled","provider","timeoutManager","systemSetTimeoutZero","isServer","noop","functionalUpdate","updater","input","isValidTimeout","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","matchMutation","mutation","mutationKey","hashKey","val","isPlainObject","hasOwn","replaceEqualDeep","array","isPlainArray","aSize","bItems","bSize","copy","equalItems","aItem","bItem","o","hasObjectPrototype","ctor","prot","sleep","timeout","replaceData","prevData","addToEnd","items","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","#focused","#cleanup","#setup","setup","focused","isFocused","focusManager","pendingThenable","thenable","_resolve","_reject","finalize","reason","defaultScheduler","createNotifyManager","transactions","notifyFn","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","notifyManager","OnlineManager","#online","onOnline","onlineListener","offlineListener","online","onlineManager","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","createRetryer","isRetryCancelled","continueFn","isResolved","cancel","cancelOptions","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","retry","retryDelay","shouldRetry","Removable","#gcTimeout","newGcTime","Query","#initialState","#revertState","#cache","#client","#retryer","#defaultOptions","#abortSignalConsumed","getDefaultState","defaultState","successState","newData","#dispatch","setStateOptions","promise","x","abortController","addSignalProperty","fetchFn","queryFn","queryFnContext","queryFnContext2","context2","reducer","fetchState","dataUpdatedAt","hasData","initialDataUpdatedAt","infiniteQueryBehavior","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","Mutation","#observers","#mutationCache","variables","onContinue","mutationFnContext","restored","isPaused","MutationCache","#mutations","#scopes","#mutationId","scope","scopeFor","scopedMutations","firstPendingMutation","defaultedFilters","pausedMutations","QueryCache","#queries","queryHash","queryInMap","queries","QueryClient","#queryCache","#queryDefaults","#mutationDefaults","#mountCount","#unsubscribeFocus","#unsubscribeOnline","defaultedOptions","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","QueryClientProvider","React.useEffect","queryClient","MAX_RETRY_ATTEMPTS","DEFAULT_RETRY_DELAY","RETRY_TIMEOUT","EXPONENTIAL_BACKOFF_BASE","ErrorBoundary","maxRetries","enableRetry","_error","_errorInfo","retryCount","nextRetryCount","prevState","hasError","isRetrying","fallback","showDetails","canRetry","shouldReload","Dashboard","module","Planning","Messages","Speakers","PageLoader","AppContent","LayoutComponent","Suspense","App","ReactDOM"],"ignoreList":[0,1,2,3,4,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,77,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/react-router/dist/development/chunk-FGUA77HG.mjs","../../node_modules/@capacitor/core/dist/index.js","../../node_modules/@capacitor/preferences/dist/esm/index.js","../../src/utils/idb.ts","../../src/utils/storage.ts","../../src/data/completeData.ts","../../src/data/commonConstants.ts","../../src/utils/uuid.ts","../../node_modules/date-fns/locale/es/_lib/formatDistance.js","../../node_modules/date-fns/locale/es/_lib/formatLong.js","../../node_modules/date-fns/locale/es/_lib/formatRelative.js","../../node_modules/date-fns/locale/es/_lib/localize.js","../../node_modules/date-fns/locale/es/_lib/match.js","../../node_modules/date-fns/locale/es.js","../../node_modules/date-fns/locale/fr/_lib/formatDistance.js","../../node_modules/date-fns/locale/fr/_lib/formatLong.js","../../node_modules/date-fns/locale/fr/_lib/formatRelative.js","../../node_modules/date-fns/locale/fr/_lib/localize.js","../../node_modules/date-fns/locale/fr/_lib/match.js","../../node_modules/date-fns/locale/fr.js","../../node_modules/date-fns/locale/pt/_lib/formatDistance.js","../../node_modules/date-fns/locale/pt/_lib/formatLong.js","../../node_modules/date-fns/locale/pt/_lib/formatRelative.js","../../node_modules/date-fns/locale/pt/_lib/localize.js","../../node_modules/date-fns/locale/pt/_lib/match.js","../../node_modules/date-fns/locale/pt.js","../../src/utils/formatters.ts","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/alert-circle.js","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/bar-chart-3.js","../../node_modules/lucide-react/dist/esm/icons/bell.js","../../node_modules/lucide-react/dist/esm/icons/calendar.js","../../node_modules/lucide-react/dist/esm/icons/check-circle-2.js","../../node_modules/lucide-react/dist/esm/icons/check-circle.js","../../node_modules/lucide-react/dist/esm/icons/chevron-left.js","../../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/cloud.js","../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/file-code.js","../../node_modules/lucide-react/dist/esm/icons/file-spreadsheet.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/home.js","../../node_modules/lucide-react/dist/esm/icons/info.js","../../node_modules/lucide-react/dist/esm/icons/layout-dashboard.js","../../node_modules/lucide-react/dist/esm/icons/loader-2.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/message-square.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../src/contexts/ToastContext.tsx","../../src/hooks/useSyncQueue.ts","../../src/hooks/useOfflineMode.ts","../../src/data/talkTitles.ts","../../src/contexts/DataContext.tsx","../../src/contexts/SettingsContext.tsx","../../src/contexts/ConfirmContext.tsx","../../src/hooks/usePlatform.ts","../../src/contexts/PlatformContext.tsx","../../src/components/ui/Accessibility.tsx","../../src/components/navigation/IOSTabBar.tsx","../../src/hooks/useSPen.ts","../../src/components/spen/SPenCursor.tsx","../../src/components/layout/IOSMainLayout.tsx","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/utils/cn.ts","../../src/components/ui/Modal.tsx","../../src/components/ui/Button.tsx","../../src/components/ui/Card.tsx","../../src/components/ui/QuickActionsModal.tsx","../../src/components/reports/ReportGeneratorModal.tsx","../../src/components/layout/TabletLayout.tsx","../../src/components/layout/PhoneLayout.tsx","../../src/components/ui/Spinner.tsx","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/timeoutManager.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../src/utils/cacheManager.ts","../../src/components/ErrorBoundary.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * react-router v7.10.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    return createBrowserURLImpl(to);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\nfunction createBrowserURLImpl(to, isAbsolute = false) {\n  let base = \"http://localhost\";\n  if (typeof window !== \"undefined\") {\n    base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n  }\n  invariant(base, \"No window.location.(origin|href) available to create URL\");\n  let href = typeof to === \"string\" ? to : createPath(to);\n  href = href.replace(/ $/, \"%20\");\n  if (!isAbsolute && href.startsWith(\"//\")) {\n    href = base + href;\n  }\n  return new URL(href, base);\n}\n\n// lib/router/utils.ts\nfunction createContext(defaultValue) {\n  return { defaultValue };\n}\nvar _map;\nvar RouterContextProvider = class {\n  /**\n   * Create a new `RouterContextProvider` instance\n   * @param init An optional initial context map to populate the provider with\n   */\n  constructor(init) {\n    __privateAdd(this, _map, /* @__PURE__ */ new Map());\n    if (init) {\n      for (let [context, value] of init) {\n        this.set(context, value);\n      }\n    }\n  }\n  /**\n   * Access a value from the context. If no value has been set for the context,\n   * it will return the context's `defaultValue` if provided, or throw an error\n   * if no `defaultValue` was set.\n   * @param context The context to get the value for\n   * @returns The value for the context, or the context's `defaultValue` if no\n   * value was set\n   */\n  get(context) {\n    if (__privateGet(this, _map).has(context)) {\n      return __privateGet(this, _map).get(context);\n    }\n    if (context.defaultValue !== void 0) {\n      return context.defaultValue;\n    }\n    throw new Error(\"No value found for context\");\n  }\n  /**\n   * Set a value for the context. If the context already has a value set, this\n   * will overwrite it.\n   *\n   * @param context The context to set the value for\n   * @param value The value to set for the context\n   * @returns {void}\n   */\n  set(context, value) {\n    __privateGet(this, _map).set(context, value);\n  }\n};\n_map = new WeakMap();\nvar unsupportedLazyRouteObjectKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteObjectKey(key) {\n  return unsupportedLazyRouteObjectKeys.has(\n    key\n  );\n}\nvar unsupportedLazyRouteFunctionKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"middleware\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteFunctionKey(key) {\n  return unsupportedLazyRouteFunctionKeys.has(\n    key\n  );\n}\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}, allowInPlaceMutations = false) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      allowInPlaceMutations || !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        id\n      };\n      manifest[id] = mergeRouteUpdates(\n        indexRoute,\n        mapRouteProperties2(indexRoute)\n      );\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        id,\n        children: void 0\n      };\n      manifest[id] = mergeRouteUpdates(\n        pathOrLayoutRoute,\n        mapRouteProperties2(pathOrLayoutRoute)\n      );\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest,\n          allowInPlaceMutations\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction mergeRouteUpdates(route, updates) {\n  return Object.assign(route, {\n    ...updates,\n    ...typeof updates.lazy === \"object\" && updates.lazy != null ? {\n      lazy: {\n        ...route.lazy,\n        ...updates.lazy\n      }\n    } : {}\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    loaderData: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\", _hasParentOptionalSegments = false) {\n  let flattenRoute = (route, index, hasParentOptionalSegments = _hasParentOptionalSegments, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      if (!meta.relativePath.startsWith(parentPath) && hasParentOptionalSegments) {\n        return;\n      }\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(\n        route.children,\n        branches,\n        routesMeta,\n        path,\n        hasParentOptionalSegments\n      );\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, true, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify2 = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify2(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return encodeURIComponent(stringify2(param));\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  ).replace(/\\/([\\w-]+)\\?(\\/|$)/g, \"(/$1)?$2\");\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction prependBasename({\n  basename,\n  pathname\n}) {\n  return pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n}\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX.test(url);\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname;\n  if (toPathname) {\n    if (isAbsoluteUrl(toPathname)) {\n      pathname = toPathname;\n    } else {\n      if (toPathname.includes(\"//\")) {\n        let oldPathname = toPathname;\n        toPathname = toPathname.replace(/\\/\\/+/g, \"/\");\n        warning(\n          false,\n          `Pathnames cannot have embedded double slashes - normalizing ${oldPathname} -> ${toPathname}`\n        );\n      }\n      if (toPathname.startsWith(\"/\")) {\n        pathname = resolvePathname(toPathname.substring(1), \"/\");\n      } else {\n        pathname = resolvePathname(toPathname, fromPathname);\n      }\n    }\n  } else {\n    pathname = fromPathname;\n  }\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\nfunction getRoutePattern(matches) {\n  return matches.map((m) => m.route.path).filter(Boolean).join(\"/\").replace(/\\/\\/*/g, \"/\") || \"/\";\n}\n\n// lib/router/instrumentation.ts\nvar UninstrumentedSymbol = Symbol(\"Uninstrumented\");\nfunction getRouteInstrumentationUpdates(fns, route) {\n  let aggregated = {\n    lazy: [],\n    \"lazy.loader\": [],\n    \"lazy.action\": [],\n    \"lazy.middleware\": [],\n    middleware: [],\n    loader: [],\n    action: []\n  };\n  fns.forEach(\n    (fn) => fn({\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      instrument(i) {\n        let keys = Object.keys(aggregated);\n        for (let key of keys) {\n          if (i[key]) {\n            aggregated[key].push(i[key]);\n          }\n        }\n      }\n    })\n  );\n  let updates = {};\n  if (typeof route.lazy === \"function\" && aggregated.lazy.length > 0) {\n    let instrumented = wrapImpl(aggregated.lazy, route.lazy, () => void 0);\n    if (instrumented) {\n      updates.lazy = instrumented;\n    }\n  }\n  if (typeof route.lazy === \"object\") {\n    let lazyObject = route.lazy;\n    [\"middleware\", \"loader\", \"action\"].forEach((key) => {\n      let lazyFn = lazyObject[key];\n      let instrumentations = aggregated[`lazy.${key}`];\n      if (typeof lazyFn === \"function\" && instrumentations.length > 0) {\n        let instrumented = wrapImpl(instrumentations, lazyFn, () => void 0);\n        if (instrumented) {\n          updates.lazy = Object.assign(updates.lazy || {}, {\n            [key]: instrumented\n          });\n        }\n      }\n    });\n  }\n  [\"loader\", \"action\"].forEach((key) => {\n    let handler = route[key];\n    if (typeof handler === \"function\" && aggregated[key].length > 0) {\n      let original = handler[UninstrumentedSymbol] ?? handler;\n      let instrumented = wrapImpl(\n        aggregated[key],\n        original,\n        (...args) => getHandlerInfo(args[0])\n      );\n      if (instrumented) {\n        instrumented[UninstrumentedSymbol] = original;\n        updates[key] = instrumented;\n      }\n    }\n  });\n  if (route.middleware && route.middleware.length > 0 && aggregated.middleware.length > 0) {\n    updates.middleware = route.middleware.map((middleware) => {\n      let original = middleware[UninstrumentedSymbol] ?? middleware;\n      let instrumented = wrapImpl(\n        aggregated.middleware,\n        original,\n        (...args) => getHandlerInfo(args[0])\n      );\n      if (instrumented) {\n        instrumented[UninstrumentedSymbol] = original;\n        return instrumented;\n      }\n      return middleware;\n    });\n  }\n  return updates;\n}\nfunction instrumentClientSideRouter(router, fns) {\n  let aggregated = {\n    navigate: [],\n    fetch: []\n  };\n  fns.forEach(\n    (fn) => fn({\n      instrument(i) {\n        let keys = Object.keys(i);\n        for (let key of keys) {\n          if (i[key]) {\n            aggregated[key].push(i[key]);\n          }\n        }\n      }\n    })\n  );\n  if (aggregated.navigate.length > 0) {\n    let navigate = router.navigate[UninstrumentedSymbol] ?? router.navigate;\n    let instrumentedNavigate = wrapImpl(\n      aggregated.navigate,\n      navigate,\n      (...args) => {\n        let [to, opts] = args;\n        return {\n          to: typeof to === \"number\" || typeof to === \"string\" ? to : to ? createPath(to) : \".\",\n          ...getRouterInfo(router, opts ?? {})\n        };\n      }\n    );\n    if (instrumentedNavigate) {\n      instrumentedNavigate[UninstrumentedSymbol] = navigate;\n      router.navigate = instrumentedNavigate;\n    }\n  }\n  if (aggregated.fetch.length > 0) {\n    let fetch2 = router.fetch[UninstrumentedSymbol] ?? router.fetch;\n    let instrumentedFetch = wrapImpl(aggregated.fetch, fetch2, (...args) => {\n      let [key, , href, opts] = args;\n      return {\n        href: href ?? \".\",\n        fetcherKey: key,\n        ...getRouterInfo(router, opts ?? {})\n      };\n    });\n    if (instrumentedFetch) {\n      instrumentedFetch[UninstrumentedSymbol] = fetch2;\n      router.fetch = instrumentedFetch;\n    }\n  }\n  return router;\n}\nfunction instrumentHandler(handler, fns) {\n  let aggregated = {\n    request: []\n  };\n  fns.forEach(\n    (fn) => fn({\n      instrument(i) {\n        let keys = Object.keys(i);\n        for (let key of keys) {\n          if (i[key]) {\n            aggregated[key].push(i[key]);\n          }\n        }\n      }\n    })\n  );\n  let instrumentedHandler = handler;\n  if (aggregated.request.length > 0) {\n    instrumentedHandler = wrapImpl(aggregated.request, handler, (...args) => {\n      let [request, context] = args;\n      return {\n        request: getReadonlyRequest(request),\n        context: context != null ? getReadonlyContext(context) : context\n      };\n    });\n  }\n  return instrumentedHandler;\n}\nfunction wrapImpl(impls, handler, getInfo) {\n  if (impls.length === 0) {\n    return null;\n  }\n  return async (...args) => {\n    let result = await recurseRight(\n      impls,\n      getInfo(...args),\n      () => handler(...args),\n      impls.length - 1\n    );\n    if (result.type === \"error\") {\n      throw result.value;\n    }\n    return result.value;\n  };\n}\nasync function recurseRight(impls, info, handler, index) {\n  let impl = impls[index];\n  let result;\n  if (!impl) {\n    try {\n      let value = await handler();\n      result = { type: \"success\", value };\n    } catch (e) {\n      result = { type: \"error\", value: e };\n    }\n  } else {\n    let handlerPromise = void 0;\n    let callHandler = async () => {\n      if (handlerPromise) {\n        console.error(\"You cannot call instrumented handlers more than once\");\n      } else {\n        handlerPromise = recurseRight(impls, info, handler, index - 1);\n      }\n      result = await handlerPromise;\n      invariant(result, \"Expected a result\");\n      if (result.type === \"error\" && result.value instanceof Error) {\n        return { status: \"error\", error: result.value };\n      }\n      return { status: \"success\", error: void 0 };\n    };\n    try {\n      await impl(callHandler, info);\n    } catch (e) {\n      console.error(\"An instrumentation function threw an error:\", e);\n    }\n    if (!handlerPromise) {\n      await callHandler();\n    }\n    await handlerPromise;\n  }\n  if (result) {\n    return result;\n  }\n  return {\n    type: \"error\",\n    value: new Error(\"No result assigned in instrumentation chain.\")\n  };\n}\nfunction getHandlerInfo(args) {\n  let { request, context, params, unstable_pattern } = args;\n  return {\n    request: getReadonlyRequest(request),\n    params: { ...params },\n    unstable_pattern,\n    context: getReadonlyContext(context)\n  };\n}\nfunction getRouterInfo(router, opts) {\n  return {\n    currentUrl: createPath(router.state.location),\n    ...\"formMethod\" in opts ? { formMethod: opts.formMethod } : {},\n    ...\"formEncType\" in opts ? { formEncType: opts.formEncType } : {},\n    ...\"formData\" in opts ? { formData: opts.formData } : {},\n    ...\"body\" in opts ? { body: opts.body } : {}\n  };\n}\nfunction getReadonlyRequest(request) {\n  return {\n    method: request.method,\n    url: request.url,\n    headers: {\n      get: (...args) => request.headers.get(...args)\n    }\n  };\n}\nfunction getReadonlyContext(context) {\n  if (isPlainObject(context)) {\n    let frozen = { ...context };\n    Object.freeze(frozen);\n    return frozen;\n  } else {\n    return {\n      get: (ctx) => context.get(ctx)\n    };\n  }\n}\nvar objectProtoNames = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction isPlainObject(thing) {\n  if (thing === null || typeof thing !== \"object\") {\n    return false;\n  }\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === objectProtoNames;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser2 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let hydrationRouteProperties2 = init.hydrationRouteProperties || [];\n  let _mapRouteProperties = init.mapRouteProperties || defaultMapRouteProperties;\n  let mapRouteProperties2 = _mapRouteProperties;\n  if (init.unstable_instrumentations) {\n    let instrumentations = init.unstable_instrumentations;\n    mapRouteProperties2 = (route) => {\n      return {\n        ..._mapRouteProperties(route),\n        ...getRouteInstrumentationUpdates(\n          instrumentations.map((i) => i.route).filter(Boolean),\n          route\n        )\n      };\n    };\n  }\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  if (!basename.startsWith(\"/\")) {\n    basename = `/${basename}`;\n  }\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;\n  let future = {\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  let initialized;\n  if (initialMatches == null && !init.patchRoutesOnNavigation) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialized = true;\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  } else {\n    if (initialMatches && !init.hydrationData) {\n      let fogOfWar = checkFogOfWar(\n        initialMatches,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active) {\n        initialMatches = null;\n      }\n    }\n    if (!initialMatches) {\n      initialized = false;\n      initialMatches = [];\n      let fogOfWar = checkFogOfWar(\n        null,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatchesIsFOW = true;\n        initialMatches = fogOfWar.matches;\n      }\n    } else if (initialMatches.some((m) => m.route.lazy)) {\n      initialized = false;\n    } else if (!initialMatches.some((m) => routeHasLoaderOrMiddleware(m.route))) {\n      initialized = true;\n    } else {\n      let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n      let errors = init.hydrationData ? init.hydrationData.errors : null;\n      if (errors) {\n        let idx = initialMatches.findIndex(\n          (m) => errors[m.route.id] !== void 0\n        );\n        initialized = initialMatches.slice(0, idx + 1).every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      } else {\n        initialized = initialMatches.every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      }\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPopstateNavigationDfd = null;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          pendingPopstateNavigationDfd?.resolve();\n          pendingPopstateNavigationDfd = null;\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser2) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    if (newState.matches) {\n      newState.matches = newState.matches.map((m) => {\n        let route = manifest[m.route.id];\n        let matchRoute = m.route;\n        if (matchRoute.element !== route.element || matchRoute.errorElement !== route.errorElement || matchRoute.hydrateFallbackElement !== route.hydrateFallbackElement) {\n          return {\n            ...m,\n            route\n          };\n        }\n        return m;\n      });\n    }\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        newErrors: newState.errors ?? null,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let restoreScrollPosition = isUninterruptedRevalidation ? false : getSavedScrollPosition(location, newState.matches || state.matches);\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition,\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingPopstateNavigationDfd?.resolve();\n    pendingPopstateNavigationDfd = null;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    pendingPopstateNavigationDfd?.resolve();\n    pendingPopstateNavigationDfd = null;\n    if (typeof to === \"number\") {\n      if (!pendingPopstateNavigationDfd) {\n        pendingPopstateNavigationDfd = createDeferred();\n      }\n      let promise = pendingPopstateNavigationDfd.promise;\n      init.history.go(to);\n      return promise;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let scopedContext = init.getContext ? await init.getContext() : new RouterContextProvider();\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        opts && opts.initialHydration === true,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, scopedContext, isFogOfWar, initialHydration, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        if (discoverResult.partialMatches.length === 0) {\n          let { matches: matches2, route } = getShortCircuitMatches(dataRoutes);\n          return {\n            matches: matches2,\n            pendingActionResult: [\n              route.id,\n              {\n                type: \"error\" /* error */,\n                error: discoverResult.error\n              }\n            ]\n          };\n        }\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        initialHydration ? [] : hydrationRouteProperties2,\n        scopedContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        scopedContext,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (!result) {\n        for (let match of matches) {\n          if (results[match.route.id]) {\n            result = results[match.route.id];\n            break;\n          }\n        }\n      }\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [\n          boundaryMatch.route.id,\n          result,\n          actionMatch.route.id\n        ]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        if (discoverResult.partialMatches.length === 0) {\n          let { matches: matches2, route } = getShortCircuitMatches(dataRoutes);\n          return {\n            matches: matches2,\n            loaderData: {},\n            errors: {\n              [route.id]: discoverResult.error\n            }\n          };\n        }\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      request,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration ? [] : hydrationRouteProperties2,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      pendingActionResult\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (!init.dataStrategy && !dsMatches.some((m) => m.shouldLoad) && !dsMatches.some(\n      (m) => m.route.middleware && m.route.middleware.length > 0\n    ) && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      request,\n      scopedContext\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let scopedContext = init.getContext ? await init.getContext() : new RouterContextProvider();\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        new URL(fetchRequest.url).pathname,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n      }\n    }\n    let match = getTargetMatch(requestMatches, path);\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId\n      });\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let fetchMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      requestMatches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let actionResults = await callDataStrategy(\n      fetchRequest,\n      fetchMatches,\n      scopedContext,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (!actionResult) {\n      for (let match2 of fetchMatches) {\n        if (actionResults[match2.route.id]) {\n          actionResult = actionResults[match2.route.id];\n          break;\n        }\n      }\n    }\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      revalidationRequest,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      hydrationRouteProperties2,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      [match.route.id, actionResult]\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      revalidationRequest,\n      scopedContext\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        new URL(fetchRequest.url).pathname,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let match = getTargetMatch(matches, path);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let dsMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      matches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let results = await callDataStrategy(\n      fetchRequest,\n      dsMatches,\n      scopedContext,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (!isNavigation) {\n      pendingPopstateNavigationDfd?.resolve();\n      pendingPopstateNavigationDfd = null;\n    }\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser2) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (isAbsoluteUrl(location)) {\n        const url = createBrowserURLImpl(location, true);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(request, matches, scopedContext, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        request,\n        matches,\n        fetcherKey,\n        scopedContext,\n        false\n      );\n    } catch (e) {\n      matches.filter((m) => m.shouldLoad).forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    if (request.signal.aborted) {\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(matches, fetchersToLoad, request, scopedContext) {\n    let loaderResultsPromise = callDataStrategy(\n      request,\n      matches,\n      scopedContext,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.request && f.controller) {\n          let results = await callDataStrategy(\n            f.request,\n            f.matches,\n            scopedContext,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function resetFetcher(key, opts) {\n    abortFetcher(key, opts?.reason);\n    updateFetcherState(key, getDoneFetcher(null));\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key, reason) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort(reason);\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (init.patchRoutesOnNavigation) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!init.patchRoutesOnNavigation) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await init.patchRoutesOnNavigation({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2,\n              false\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      let newPartialMatches = null;\n      if (newMatches) {\n        if (Object.keys(newMatches[0].params).length === 0) {\n          return { type: \"success\", matches: newMatches };\n        } else {\n          newPartialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          let matchedDeeper = newPartialMatches && partialMatches.length < newPartialMatches.length && compareMatches(\n            partialMatches,\n            newPartialMatches.slice(0, partialMatches.length)\n          );\n          if (!matchedDeeper) {\n            return { type: \"success\", matches: newMatches };\n          }\n        }\n      }\n      if (!newPartialMatches) {\n        newPartialMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n      }\n      if (!newPartialMatches || compareMatches(partialMatches, newPartialMatches)) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function compareMatches(a, b) {\n    return a.length === b.length && a.every((m, i) => m.route.id === b[i].route.id);\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children, unstable_allowElementMutations = false) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2,\n      unstable_allowElementMutations\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    resetFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n    _internalSetStateDoNotUseOrYouWillBreakYourApp(newState) {\n      updateState(newState);\n    }\n  };\n  if (init.unstable_instrumentations) {\n    router = instrumentClientSideRouter(\n      router,\n      init.unstable_instrumentations.map((i) => i.router).filter(Boolean)\n    );\n  }\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let _mapRouteProperties = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let mapRouteProperties2 = _mapRouteProperties;\n  if (opts?.unstable_instrumentations) {\n    let instrumentations = opts.unstable_instrumentations;\n    mapRouteProperties2 = (route) => {\n      return {\n        ..._mapRouteProperties(route),\n        ...getRouteInstrumentationUpdates(\n          instrumentations.map((i) => i.route).filter(Boolean),\n          route\n        )\n      };\n    };\n  }\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    filterMatchesToLoad,\n    skipLoaderErrorBubbling,\n    skipRevalidation,\n    dataStrategy,\n    generateMiddlewareResponse\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return generateMiddlewareResponse ? generateMiddlewareResponse(() => Promise.resolve(staticContext)) : staticContext;\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return generateMiddlewareResponse ? generateMiddlewareResponse(() => Promise.resolve(staticContext)) : staticContext;\n    }\n    if (generateMiddlewareResponse) {\n      invariant(\n        requestContext instanceof RouterContextProvider,\n        \"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `RouterContextProvider`\"\n      );\n      try {\n        await loadLazyMiddlewareForMatches(\n          matches,\n          manifest,\n          mapRouteProperties2\n        );\n        let renderedStaticContext;\n        let response = await runServerMiddlewarePipeline(\n          {\n            request,\n            unstable_pattern: getRoutePattern(matches),\n            matches,\n            params: matches[0].params,\n            // If we're calling middleware then it must be enabled so we can cast\n            // this to the proper type knowing it's not an `AppLoadContext`\n            context: requestContext\n          },\n          async () => {\n            let res = await generateMiddlewareResponse(\n              async (revalidationRequest, opts2 = {}) => {\n                let result2 = await queryImpl(\n                  revalidationRequest,\n                  location,\n                  matches,\n                  requestContext,\n                  dataStrategy || null,\n                  skipLoaderErrorBubbling === true,\n                  null,\n                  \"filterMatchesToLoad\" in opts2 ? opts2.filterMatchesToLoad ?? null : filterMatchesToLoad ?? null,\n                  skipRevalidation === true\n                );\n                if (isResponse(result2)) {\n                  return result2;\n                }\n                renderedStaticContext = { location, basename, ...result2 };\n                return renderedStaticContext;\n              }\n            );\n            return res;\n          },\n          async (error, routeId) => {\n            if (isRedirectResponse(error)) {\n              return error;\n            }\n            if (isResponse(error)) {\n              try {\n                error = new ErrorResponseImpl(\n                  error.status,\n                  error.statusText,\n                  await parseResponseBody(error)\n                );\n              } catch (e) {\n                error = e;\n              }\n            }\n            if (isDataWithResponseInit(error)) {\n              error = dataWithResponseInitToErrorResponse(error);\n            }\n            if (renderedStaticContext) {\n              if (routeId in renderedStaticContext.loaderData) {\n                renderedStaticContext.loaderData[routeId] = void 0;\n              }\n              let staticContext = getStaticContextFromError(\n                dataRoutes,\n                renderedStaticContext,\n                error,\n                skipLoaderErrorBubbling ? routeId : findNearestBoundary(matches, routeId).route.id\n              );\n              return generateMiddlewareResponse(\n                () => Promise.resolve(staticContext)\n              );\n            } else {\n              let boundaryRouteId = skipLoaderErrorBubbling ? routeId : findNearestBoundary(\n                matches,\n                matches.find(\n                  (m) => m.route.id === routeId || m.route.loader\n                )?.route.id || routeId\n              ).route.id;\n              let staticContext = {\n                matches,\n                location,\n                basename,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                  [boundaryRouteId]: error\n                },\n                statusCode: isRouteErrorResponse(error) ? error.status : 500,\n                actionHeaders: {},\n                loaderHeaders: {}\n              };\n              return generateMiddlewareResponse(\n                () => Promise.resolve(staticContext)\n              );\n            }\n          }\n        );\n        invariant(isResponse(response), \"Expected a response in query()\");\n        return response;\n      } catch (e) {\n        if (isResponse(e)) {\n          return e;\n        }\n        throw e;\n      }\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null,\n      filterMatchesToLoad || null,\n      skipRevalidation === true\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy,\n    generateMiddlewareResponse\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    if (generateMiddlewareResponse) {\n      invariant(\n        requestContext instanceof RouterContextProvider,\n        \"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `RouterContextProvider`\"\n      );\n      await loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2);\n      let response = await runServerMiddlewarePipeline(\n        {\n          request,\n          unstable_pattern: getRoutePattern(matches),\n          matches,\n          params: matches[0].params,\n          // If we're calling middleware then it must be enabled so we can cast\n          // this to the proper type knowing it's not an `AppLoadContext`\n          context: requestContext\n        },\n        async () => {\n          let res = await generateMiddlewareResponse(\n            async (innerRequest) => {\n              let result2 = await queryImpl(\n                innerRequest,\n                location,\n                matches,\n                requestContext,\n                dataStrategy || null,\n                false,\n                match,\n                null,\n                false\n              );\n              let processed = handleQueryResult(result2);\n              return isResponse(processed) ? processed : typeof processed === \"string\" ? new Response(processed) : Response.json(processed);\n            }\n          );\n          return res;\n        },\n        (error) => {\n          if (isDataWithResponseInit(error)) {\n            return Promise.resolve(dataWithResponseInitToResponse(error));\n          }\n          if (isResponse(error)) {\n            return Promise.resolve(error);\n          }\n          throw error;\n        }\n      );\n      return response;\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match,\n      null,\n      false\n    );\n    return handleQueryResult(result);\n    function handleQueryResult(result2) {\n      if (isResponse(result2)) {\n        return result2;\n      }\n      let error = result2.errors ? Object.values(result2.errors)[0] : void 0;\n      if (error !== void 0) {\n        throw error;\n      }\n      if (result2.actionData) {\n        return Object.values(result2.actionData)[0];\n      }\n      if (result2.loaderData) {\n        return Object.values(result2.loaderData)[0];\n      }\n      return void 0;\n    }\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null,\n          filterMatchesToLoad,\n          skipRevalidation\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch,\n        filterMatchesToLoad\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        [],\n        requestContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    if (skipRevalidation) {\n      if (isErrorResult(result)) {\n        let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n        return {\n          statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n          actionData: null,\n          actionHeaders: {\n            ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n          },\n          matches,\n          loaderData: {},\n          errors: {\n            [boundaryMatch.route.id]: result.error\n          },\n          loaderHeaders: {}\n        };\n      } else {\n        return {\n          actionData: {\n            [actionMatch.route.id]: result.data\n          },\n          actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {},\n          matches,\n          loaderData: {},\n          errors: null,\n          statusCode: result.statusCode || 200,\n          loaderHeaders: {}\n        };\n      }\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let handlerContext2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        filterMatchesToLoad,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...handlerContext2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let handlerContext = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null,\n      filterMatchesToLoad\n    );\n    return {\n      ...handlerContext,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let dsMatches;\n    if (routeMatch) {\n      dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        routeMatch,\n        [],\n        requestContext\n      );\n    } else {\n      let maxIdx = pendingActionResult && isErrorResult(pendingActionResult[1]) ? (\n        // Up to but not including the boundary\n        matches.findIndex((m) => m.route.id === pendingActionResult[0]) - 1\n      ) : void 0;\n      let pattern = getRoutePattern(matches);\n      dsMatches = matches.map((match, index) => {\n        if (maxIdx != null && index > maxIdx) {\n          return getDataStrategyMatch(\n            mapRouteProperties2,\n            manifest,\n            request,\n            pattern,\n            match,\n            [],\n            requestContext,\n            false\n          );\n        }\n        return getDataStrategyMatch(\n          mapRouteProperties2,\n          manifest,\n          request,\n          pattern,\n          match,\n          [],\n          requestContext,\n          (match.route.loader || match.route.lazy) != null && (!filterMatchesToLoad || filterMatchesToLoad(match))\n        );\n      });\n    }\n    if (!dataStrategy && !dsMatches.some((m) => m.shouldLoad)) {\n      return {\n        matches,\n        loaderData: {},\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      request,\n      dsMatches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let handlerContext = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    return {\n      ...handlerContext,\n      matches\n    };\n  }\n  async function callDataStrategy(request, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      request,\n      matches,\n      null,\n      requestContext,\n      true\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isRouteRequest) {\n          if (isResponse(result.result)) {\n            throw result;\n          } else if (isDataWithResponseInit(result.result)) {\n            throw dataWithResponseInitToResponse(result.result);\n          }\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, handlerContext, error, boundaryId) {\n  let errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;\n  return {\n    ...handlerContext,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [errorBoundaryId]: error\n    }\n  };\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = prependBasename({ basename, pathname: path.pathname });\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, history, state, matches, submission, location, lazyRoutePropertiesToSkip, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, hasPatchRoutesOnNavigation, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let maxIdx;\n  if (initialHydration && state.errors) {\n    let boundaryId = Object.keys(state.errors)[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    let boundaryId = pendingActionResult[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId) - 1;\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let baseShouldRevalidateArgs = {\n    currentUrl,\n    currentParams: state.matches[0]?.params || {},\n    nextUrl,\n    nextParams: matches[0].params,\n    ...submission,\n    actionResult,\n    actionStatus\n  };\n  let pattern = getRoutePattern(matches);\n  let dsMatches = matches.map((match, index) => {\n    let { route } = match;\n    let forceShouldLoad = null;\n    if (maxIdx != null && index > maxIdx) {\n      forceShouldLoad = false;\n    } else if (route.lazy) {\n      forceShouldLoad = true;\n    } else if (!routeHasLoaderOrMiddleware(route)) {\n      forceShouldLoad = false;\n    } else if (initialHydration) {\n      forceShouldLoad = shouldLoadRouteOnHydration(\n        route,\n        state.loaderData,\n        state.errors\n      );\n    } else if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      forceShouldLoad = true;\n    }\n    if (forceShouldLoad !== null) {\n      return getDataStrategyMatch(\n        mapRouteProperties2,\n        manifest,\n        request,\n        pattern,\n        match,\n        lazyRoutePropertiesToSkip,\n        scopedContext,\n        forceShouldLoad\n      );\n    }\n    let defaultShouldRevalidate = shouldSkipRevalidation ? false : (\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(state.matches[index], match)\n    );\n    let shouldRevalidateArgs = {\n      ...baseShouldRevalidateArgs,\n      defaultShouldRevalidate\n    };\n    let shouldLoad = shouldRevalidateLoader(match, shouldRevalidateArgs);\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      pattern,\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      shouldLoad,\n      shouldRevalidateArgs\n    );\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let isMidInitialLoad = fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0;\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      if (hasPatchRoutesOnNavigation && isMidInitialLoad) {\n        return;\n      }\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        request: null,\n        controller: null\n      });\n      return;\n    }\n    if (fetchRedirectIds.has(key)) {\n      return;\n    }\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let fetchController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      history,\n      f.path,\n      fetchController.signal\n    );\n    let fetcherDsMatches = null;\n    if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      fetcherDsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        fetchRequest,\n        fetcherMatches,\n        fetcherMatch,\n        lazyRoutePropertiesToSkip,\n        scopedContext\n      );\n    } else if (isMidInitialLoad) {\n      if (isRevalidationRequired) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext\n        );\n      }\n    } else {\n      let shouldRevalidateArgs = {\n        ...baseShouldRevalidateArgs,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      };\n      if (shouldRevalidateLoader(fetcherMatch, shouldRevalidateArgs)) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext,\n          shouldRevalidateArgs\n        );\n      }\n    }\n    if (fetcherDsMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherDsMatches,\n        match: fetcherMatch,\n        request: fetchRequest,\n        controller: fetchController\n      });\n    }\n  });\n  return { dsMatches, revalidatingFetchers };\n}\nfunction routeHasLoaderOrMiddleware(route) {\n  return route.loader != null || route.middleware != null && route.middleware.length > 0;\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!routeHasLoaderOrMiddleware(route)) {\n    return false;\n  }\n  let hasData = loaderData != null && route.id in loaderData;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2, allowElementMutations) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = [];\n  let existingChildren = [];\n  children.forEach((newRoute) => {\n    let existingRoute = childrenToPatch.find(\n      (existingRoute2) => isSameRoute(newRoute, existingRoute2)\n    );\n    if (existingRoute) {\n      existingChildren.push({ existingRoute, newRoute });\n    } else {\n      uniqueChildren.push(newRoute);\n    }\n  });\n  if (uniqueChildren.length > 0) {\n    let newRoutes = convertRoutesToDataRoutes(\n      uniqueChildren,\n      mapRouteProperties2,\n      [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n      manifest\n    );\n    childrenToPatch.push(...newRoutes);\n  }\n  if (allowElementMutations && existingChildren.length > 0) {\n    for (let i = 0; i < existingChildren.length; i++) {\n      let { existingRoute, newRoute } = existingChildren[i];\n      let existingRouteTyped = existingRoute;\n      let [newRouteTyped] = convertRoutesToDataRoutes(\n        [newRoute],\n        mapRouteProperties2,\n        [],\n        // Doesn't matter for mutated routes since they already have an id\n        {},\n        // Don't touch the manifest here since we're updating in place\n        true\n      );\n      Object.assign(existingRouteTyped, {\n        element: newRouteTyped.element ? newRouteTyped.element : existingRouteTyped.element,\n        errorElement: newRouteTyped.errorElement ? newRouteTyped.errorElement : existingRouteTyped.errorElement,\n        hydrateFallbackElement: newRouteTyped.hydrateFallbackElement ? newRouteTyped.hydrateFallbackElement : existingRouteTyped.hydrateFallbackElement\n      });\n    }\n  }\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nvar lazyRoutePropertyCache = /* @__PURE__ */ new WeakMap();\nvar loadLazyRouteProperty = ({\n  key,\n  route,\n  manifest,\n  mapRouteProperties: mapRouteProperties2\n}) => {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!routeToUpdate.lazy || typeof routeToUpdate.lazy !== \"object\") {\n    return;\n  }\n  let lazyFn = routeToUpdate.lazy[key];\n  if (!lazyFn) {\n    return;\n  }\n  let cache = lazyRoutePropertyCache.get(routeToUpdate);\n  if (!cache) {\n    cache = {};\n    lazyRoutePropertyCache.set(routeToUpdate, cache);\n  }\n  let cachedPromise = cache[key];\n  if (cachedPromise) {\n    return cachedPromise;\n  }\n  let propertyPromise = (async () => {\n    let isUnsupported = isUnsupportedLazyRouteObjectKey(key);\n    let staticRouteValue = routeToUpdate[key];\n    let isStaticallyDefined = staticRouteValue !== void 0 && key !== \"hasErrorBoundary\";\n    if (isUnsupported) {\n      warning(\n        !isUnsupported,\n        \"Route property \" + key + \" is not a supported lazy route property. This property will be ignored.\"\n      );\n      cache[key] = Promise.resolve();\n    } else if (isStaticallyDefined) {\n      warning(\n        false,\n        `Route \"${routeToUpdate.id}\" has a static property \"${key}\" defined. The lazy property will be ignored.`\n      );\n    } else {\n      let value = await lazyFn();\n      if (value != null) {\n        Object.assign(routeToUpdate, { [key]: value });\n        Object.assign(routeToUpdate, mapRouteProperties2(routeToUpdate));\n      }\n    }\n    if (typeof routeToUpdate.lazy === \"object\") {\n      routeToUpdate.lazy[key] = void 0;\n      if (Object.values(routeToUpdate.lazy).every((value) => value === void 0)) {\n        routeToUpdate.lazy = void 0;\n      }\n    }\n  })();\n  cache[key] = propertyPromise;\n  return propertyPromise;\n};\nvar lazyRouteFunctionCache = /* @__PURE__ */ new WeakMap();\nfunction loadLazyRoute(route, type, manifest, mapRouteProperties2, lazyRoutePropertiesToSkip) {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!route.lazy) {\n    return {\n      lazyRoutePromise: void 0,\n      lazyHandlerPromise: void 0\n    };\n  }\n  if (typeof route.lazy === \"function\") {\n    let cachedPromise = lazyRouteFunctionCache.get(routeToUpdate);\n    if (cachedPromise) {\n      return {\n        lazyRoutePromise: cachedPromise,\n        lazyHandlerPromise: cachedPromise\n      };\n    }\n    let lazyRoutePromise2 = (async () => {\n      invariant(\n        typeof route.lazy === \"function\",\n        \"No lazy route function found\"\n      );\n      let lazyRoute = await route.lazy();\n      let routeUpdates = {};\n      for (let lazyRouteProperty in lazyRoute) {\n        let lazyValue = lazyRoute[lazyRouteProperty];\n        if (lazyValue === void 0) {\n          continue;\n        }\n        let isUnsupported = isUnsupportedLazyRouteFunctionKey(lazyRouteProperty);\n        let staticRouteValue = routeToUpdate[lazyRouteProperty];\n        let isStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n        // on the route updates\n        lazyRouteProperty !== \"hasErrorBoundary\";\n        if (isUnsupported) {\n          warning(\n            !isUnsupported,\n            \"Route property \" + lazyRouteProperty + \" is not a supported property to be returned from a lazy route function. This property will be ignored.\"\n          );\n        } else if (isStaticallyDefined) {\n          warning(\n            !isStaticallyDefined,\n            `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n          );\n        } else {\n          routeUpdates[lazyRouteProperty] = lazyValue;\n        }\n      }\n      Object.assign(routeToUpdate, routeUpdates);\n      Object.assign(routeToUpdate, {\n        // To keep things framework agnostic, we use the provided `mapRouteProperties`\n        // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n        // since the logic will differ between frameworks.\n        ...mapRouteProperties2(routeToUpdate),\n        lazy: void 0\n      });\n    })();\n    lazyRouteFunctionCache.set(routeToUpdate, lazyRoutePromise2);\n    lazyRoutePromise2.catch(() => {\n    });\n    return {\n      lazyRoutePromise: lazyRoutePromise2,\n      lazyHandlerPromise: lazyRoutePromise2\n    };\n  }\n  let lazyKeys = Object.keys(route.lazy);\n  let lazyPropertyPromises = [];\n  let lazyHandlerPromise = void 0;\n  for (let key of lazyKeys) {\n    if (lazyRoutePropertiesToSkip && lazyRoutePropertiesToSkip.includes(key)) {\n      continue;\n    }\n    let promise = loadLazyRouteProperty({\n      key,\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n    if (promise) {\n      lazyPropertyPromises.push(promise);\n      if (key === type) {\n        lazyHandlerPromise = promise;\n      }\n    }\n  }\n  let lazyRoutePromise = lazyPropertyPromises.length > 0 ? Promise.all(lazyPropertyPromises).then(() => {\n  }) : void 0;\n  lazyRoutePromise?.catch(() => {\n  });\n  lazyHandlerPromise?.catch(() => {\n  });\n  return {\n    lazyRoutePromise,\n    lazyHandlerPromise\n  };\n}\nfunction isNonNullable(value) {\n  return value !== void 0;\n}\nfunction loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2) {\n  let promises = matches.map(({ route }) => {\n    if (typeof route.lazy !== \"object\" || !route.lazy.middleware) {\n      return void 0;\n    }\n    return loadLazyRouteProperty({\n      key: \"middleware\",\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n  }).filter(isNonNullable);\n  return promises.length > 0 ? Promise.all(promises) : void 0;\n}\nasync function defaultDataStrategy(args) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);\n  let keyedResults = {};\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  results.forEach((result, i) => {\n    keyedResults[matchesToLoad[i].route.id] = result;\n  });\n  return keyedResults;\n}\nasync function defaultDataStrategyWithMiddleware(args) {\n  if (!args.matches.some((m) => m.route.middleware)) {\n    return defaultDataStrategy(args);\n  }\n  return runClientMiddlewarePipeline(args, () => defaultDataStrategy(args));\n}\nfunction runServerMiddlewarePipeline(args, handler, errorHandler) {\n  return runMiddlewarePipeline(\n    args,\n    handler,\n    processResult,\n    isResponse,\n    errorHandler\n  );\n  function processResult(result) {\n    return isDataWithResponseInit(result) ? dataWithResponseInitToResponse(result) : result;\n  }\n}\nfunction runClientMiddlewarePipeline(args, handler) {\n  return runMiddlewarePipeline(\n    args,\n    handler,\n    (r) => r,\n    // No post-processing needed on the client\n    isDataStrategyResults,\n    errorHandler\n  );\n  function errorHandler(error, routeId, nextResult) {\n    if (nextResult) {\n      return Promise.resolve(\n        Object.assign(nextResult.value, {\n          [routeId]: { type: \"error\", result: error }\n        })\n      );\n    } else {\n      let { matches } = args;\n      let maxBoundaryIdx = Math.min(\n        // Throwing route\n        Math.max(\n          matches.findIndex((m) => m.route.id === routeId),\n          0\n        ),\n        // or the shallowest route that needs to load data\n        Math.max(\n          matches.findIndex((m) => m.shouldCallHandler()),\n          0\n        )\n      );\n      let boundaryRouteId = findNearestBoundary(\n        matches,\n        matches[maxBoundaryIdx].route.id\n      ).route.id;\n      return Promise.resolve({\n        [boundaryRouteId]: { type: \"error\", result: error }\n      });\n    }\n  }\n}\nasync function runMiddlewarePipeline(args, handler, processResult, isResult, errorHandler) {\n  let { matches, request, params, context, unstable_pattern } = args;\n  let tuples = matches.flatMap(\n    (m) => m.route.middleware ? m.route.middleware.map((fn) => [m.route.id, fn]) : []\n  );\n  let result = await callRouteMiddleware(\n    {\n      request,\n      params,\n      context,\n      unstable_pattern\n    },\n    tuples,\n    handler,\n    processResult,\n    isResult,\n    errorHandler\n  );\n  return result;\n}\nasync function callRouteMiddleware(args, middlewares, handler, processResult, isResult, errorHandler, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    throw request.signal.reason ?? new Error(`Request aborted: ${request.method} ${request.url}`);\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    let result = await handler();\n    return result;\n  }\n  let [routeId, middleware] = tuple;\n  let nextResult;\n  let next = async () => {\n    if (nextResult) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    try {\n      let result = await callRouteMiddleware(\n        args,\n        middlewares,\n        handler,\n        processResult,\n        isResult,\n        errorHandler,\n        idx + 1\n      );\n      nextResult = { value: result };\n      return nextResult.value;\n    } catch (error) {\n      nextResult = { value: await errorHandler(error, routeId, nextResult) };\n      return nextResult.value;\n    }\n  };\n  try {\n    let value = await middleware(args, next);\n    let result = value != null ? processResult(value) : void 0;\n    if (isResult(result)) {\n      return result;\n    } else if (nextResult) {\n      return result ?? nextResult.value;\n    } else {\n      nextResult = { value: await next() };\n      return nextResult.value;\n    }\n  } catch (error) {\n    let response = await errorHandler(error, routeId, nextResult);\n    return response;\n  }\n}\nfunction getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip) {\n  let lazyMiddlewarePromise = loadLazyRouteProperty({\n    key: \"middleware\",\n    route: match.route,\n    manifest,\n    mapRouteProperties: mapRouteProperties2\n  });\n  let lazyRoutePromises = loadLazyRoute(\n    match.route,\n    isMutationMethod(request.method) ? \"action\" : \"loader\",\n    manifest,\n    mapRouteProperties2,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    middleware: lazyMiddlewarePromise,\n    route: lazyRoutePromises.lazyRoutePromise,\n    handler: lazyRoutePromises.lazyHandlerPromise\n  };\n}\nfunction getDataStrategyMatch(mapRouteProperties2, manifest, request, unstable_pattern, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, shouldRevalidateArgs = null) {\n  let isUsingNewApi = false;\n  let _lazyPromises = getDataStrategyMatchLazyPromises(\n    mapRouteProperties2,\n    manifest,\n    request,\n    match,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    ...match,\n    _lazyPromises,\n    shouldLoad,\n    shouldRevalidateArgs,\n    shouldCallHandler(defaultShouldRevalidate) {\n      isUsingNewApi = true;\n      if (!shouldRevalidateArgs) {\n        return shouldLoad;\n      }\n      if (typeof defaultShouldRevalidate === \"boolean\") {\n        return shouldRevalidateLoader(match, {\n          ...shouldRevalidateArgs,\n          defaultShouldRevalidate\n        });\n      }\n      return shouldRevalidateLoader(match, shouldRevalidateArgs);\n    },\n    resolve(handlerOverride) {\n      let { lazy, loader, middleware } = match.route;\n      let callHandler = isUsingNewApi || shouldLoad || handlerOverride && !isMutationMethod(request.method) && (lazy || loader);\n      let isMiddlewareOnlyRoute = middleware && middleware.length > 0 && !loader && !lazy;\n      if (callHandler && (isMutationMethod(request.method) || !isMiddlewareOnlyRoute)) {\n        return callLoaderOrAction({\n          request,\n          unstable_pattern,\n          match,\n          lazyHandlerPromise: _lazyPromises?.handler,\n          lazyRoutePromise: _lazyPromises?.route,\n          handlerOverride,\n          scopedContext\n        });\n      }\n      return Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    }\n  };\n}\nfunction getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, targetMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs = null) {\n  return matches.map((match) => {\n    if (match.route.id !== targetMatch.route.id) {\n      return {\n        ...match,\n        shouldLoad: false,\n        shouldRevalidateArgs,\n        shouldCallHandler: () => false,\n        _lazyPromises: getDataStrategyMatchLazyPromises(\n          mapRouteProperties2,\n          manifest,\n          request,\n          match,\n          lazyRoutePropertiesToSkip\n        ),\n        resolve: () => Promise.resolve({ type: \"data\", result: void 0 })\n      };\n    }\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      getRoutePattern(matches),\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      true,\n      shouldRevalidateArgs\n    );\n  });\n}\nasync function callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, isStaticHandler) {\n  if (matches.some((m) => m._lazyPromises?.middleware)) {\n    await Promise.all(matches.map((m) => m._lazyPromises?.middleware));\n  }\n  let dataStrategyArgs = {\n    request,\n    unstable_pattern: getRoutePattern(matches),\n    params: matches[0].params,\n    context: scopedContext,\n    matches\n  };\n  let runClientMiddleware = isStaticHandler ? () => {\n    throw new Error(\n      \"You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`\"\n    );\n  } : (cb) => {\n    let typedDataStrategyArgs = dataStrategyArgs;\n    return runClientMiddlewarePipeline(typedDataStrategyArgs, () => {\n      return cb({\n        ...typedDataStrategyArgs,\n        fetcherKey,\n        runClientMiddleware: () => {\n          throw new Error(\n            \"Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler\"\n          );\n        }\n      });\n    });\n  };\n  let results = await dataStrategyImpl({\n    ...dataStrategyArgs,\n    fetcherKey,\n    runClientMiddleware\n  });\n  try {\n    await Promise.all(\n      matches.flatMap((m) => [\n        m._lazyPromises?.handler,\n        m._lazyPromises?.route\n      ])\n    );\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction({\n  request,\n  unstable_pattern,\n  match,\n  lazyHandlerPromise,\n  lazyRoutePromise,\n  handlerOverride,\n  scopedContext\n}) {\n  let result;\n  let onReject;\n  let isAction = isMutationMethod(request.method);\n  let type = isAction ? \"action\" : \"loader\";\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          unstable_pattern,\n          params: match.params,\n          context: scopedContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = isAction ? match.route.action : match.route.loader;\n    if (lazyHandlerPromise || lazyRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          // Ensure all lazy route promises are resolved before continuing\n          lazyHandlerPromise,\n          lazyRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await lazyHandlerPromise;\n        let handler2 = isAction ? match.route.action : match.route.loader;\n        if (handler2) {\n          [result] = await Promise.all([runHandler(handler2), lazyRoutePromise]);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function parseResponseBody(response) {\n  let contentType = response.headers.get(\"Content-Type\");\n  if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n    return response.body == null ? null : response.json();\n  }\n  return response.text();\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      data2 = await parseResponseBody(result);\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: dataWithResponseInitToErrorResponse(result),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!isAbsoluteUrl(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (isAbsoluteUrl(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    if (pendingActionResult[2]) {\n      loaderData[pendingActionResult[2]] = void 0;\n    }\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.filter((f) => !f.matches || f.matches.some((m) => m.shouldLoad)).forEach((rf) => {\n    let { key, match, controller } = rf;\n    if (controller && controller.signal.aborted) {\n      return;\n    }\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction dataWithResponseInitToResponse(data2) {\n  return Response.json(data2.data, data2.init ?? void 0);\n}\nfunction dataWithResponseInitToErrorResponse(data2) {\n  return new ErrorResponseImpl(\n    data2.init?.status ?? 500,\n    data2.init?.statusText ?? \"Internal Server Error\",\n    data2.data\n  );\n}\nfunction isDataStrategyResults(result) {\n  return result != null && typeof result === \"object\" && Object.entries(result).every(\n    ([key, value]) => typeof key === \"string\" && isDataStrategyResult(value)\n  );\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar RSCRouterContext = React.createContext(false);\nfunction useIsRSCRouterContext() {\n  return React.useContext(RSCRouterContext);\n}\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar AwaitContextProvider = (props) => React.createElement(AwaitContext.Provider, props);\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\nvar ENABLE_DEV_WARNINGS = true;\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  return React2.useMemo(\n    () => outlet && /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet),\n    [outlet, context]\n  );\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, unstable_onError, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes.\n          // Pre-encode `?` and `#` ahead of `encodeLocation` because it uses\n          // `new URL()` internally and we need to prevent it from treating\n          // them as separators\n          navigator.encodeLocation ? navigator.encodeLocation(\n            match.pathname.replace(/\\?/g, \"%3F\").replace(/#/g, \"%23\")\n          ).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          // Pre-encode `?` and `#` ahead of `encodeLocation` because it uses\n          // `new URL()` internally and we need to prevent it from treating\n          // them as separators\n          navigator.encodeLocation ? navigator.encodeLocation(\n            match.pathnameBase.replace(/\\?/g, \"%3F\").replace(/#/g, \"%23\")\n          ).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    unstable_onError,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    } else {\n      console.error(\n        \"React Router caught the following error during render\",\n        error\n      );\n    }\n  }\n  render() {\n    return this.state.error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: this.state.error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n  }\n};\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, unstable_onError = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  let onError = dataRouterState && unstable_onError ? (error, errorInfo) => {\n    unstable_onError(error, {\n      location: dataRouterState.location,\n      params: dataRouterState.matches?.[0]?.params ?? {},\n      unstable_pattern: getRoutePattern(dataRouterState.matches),\n      errorInfo\n    });\n  } : void 0;\n  return renderedMatches.reduceRight(\n    (outlet, match, index) => {\n      let error;\n      let shouldRenderHydrateFallback = false;\n      let errorElement = null;\n      let hydrateFallbackElement = null;\n      if (dataRouterState) {\n        error = errors && match.route.id ? errors[match.route.id] : void 0;\n        errorElement = match.route.errorElement || defaultErrorElement;\n        if (renderFallback) {\n          if (fallbackIndex < 0 && index === 0) {\n            warningOnce(\n              \"route-fallback\",\n              false,\n              \"No `HydrateFallback` element provided to render during initial hydration\"\n            );\n            shouldRenderHydrateFallback = true;\n            hydrateFallbackElement = null;\n          } else if (fallbackIndex === index) {\n            shouldRenderHydrateFallback = true;\n            hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n          }\n        }\n      }\n      let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n      let getChildren = () => {\n        let children;\n        if (error) {\n          children = errorElement;\n        } else if (shouldRenderHydrateFallback) {\n          children = hydrateFallbackElement;\n        } else if (match.route.Component) {\n          children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n        } else if (match.route.element) {\n          children = match.route.element;\n        } else {\n          children = outlet;\n        }\n        return /* @__PURE__ */ React2.createElement(\n          RenderedRoute,\n          {\n            match,\n            routeContext: {\n              outlet,\n              matches: matches2,\n              isDataRoute: dataRouterState != null\n            },\n            children\n          }\n        );\n      };\n      return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n        RenderErrorBoundary,\n        {\n          location: dataRouterState.location,\n          revalidation: dataRouterState.revalidation,\n          component: errorElement,\n          error,\n          children: getChildren(),\n          routeContext: { outlet: null, matches: matches2, isDataRoute: true },\n          onError\n        }\n      ) : getChildren();\n    },\n    null\n  );\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  let revalidate = React2.useCallback(async () => {\n    await dataRouterContext.router.revalidate();\n  }, [dataRouterContext.router]);\n  return React2.useMemo(\n    () => ({ revalidate, state: state.revalidation }),\n    [revalidate, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        await router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\nfunction useRoute(...args) {\n  const currentRouteId = useCurrentRouteId(\n    \"useRoute\" /* UseRoute */\n  );\n  const id = args[0] ?? currentRouteId;\n  const state = useDataRouterState(\"useRoute\" /* UseRoute */);\n  const route = state.matches.find(({ route: route2 }) => route2.id === id);\n  if (route === void 0) return void 0;\n  return {\n    handle: route.route.handle,\n    loaderData: state.loaderData[id],\n    actionData: state.actionData?.[id]\n  };\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nvar USE_OPTIMISTIC = \"useOptimistic\";\nvar useOptimisticImpl = React3[USE_OPTIMISTIC];\nfunction useOptimisticSafe(val) {\n  if (useOptimisticImpl) {\n    return useOptimisticImpl(val);\n  } else {\n    return [val, () => void 0];\n  }\n}\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nvar hydrationRouteProperties = [\n  \"HydrateFallback\",\n  \"hydrateFallbackElement\"\n];\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    getContext: opts?.getContext,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    hydrationRouteProperties,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    unstable_instrumentations: opts?.unstable_instrumentations\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl,\n  unstable_onError,\n  unstable_useTransitions\n}) {\n  let [_state, setStateImpl] = React3.useState(router.state);\n  let [state, setOptimisticState] = useOptimisticSafe(_state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, newErrors, flushSync, viewTransitionOpts }) => {\n      if (newErrors && unstable_onError) {\n        Object.values(newErrors).forEach(\n          (error) => unstable_onError(error, {\n            location: newState.location,\n            params: newState.matches[0]?.params ?? {},\n            unstable_pattern: getRoutePattern(newState.matches)\n          })\n        );\n      }\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else if (unstable_useTransitions === false) {\n          setStateImpl(newState);\n        } else {\n          React3.startTransition(() => {\n            if (unstable_useTransitions === true) {\n              setOptimisticState((s) => getOptimisticRouterState(s, newState));\n            }\n            setStateImpl(newState);\n          });\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd?.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd?.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [\n      router.window,\n      reactDomFlushSyncImpl,\n      transition,\n      renderDfd,\n      unstable_useTransitions,\n      setOptimisticState,\n      unstable_onError\n    ]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        if (unstable_useTransitions === false) {\n          setStateImpl(newState);\n        } else {\n          React3.startTransition(() => {\n            if (unstable_useTransitions === true) {\n              setOptimisticState((s) => getOptimisticRouterState(s, newState));\n            }\n            setStateImpl(newState);\n          });\n        }\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [\n    pendingState,\n    renderDfd,\n    router.window,\n    unstable_useTransitions,\n    setOptimisticState\n  ]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n      unstable_onError\n    }),\n    [router, navigator, basename, unstable_onError]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator,\n      unstable_useTransitions: unstable_useTransitions === true\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state,\n        unstable_onError\n      }\n    )\n  ))))), null);\n}\nfunction getOptimisticRouterState(currentState, newState) {\n  return {\n    // Don't surface \"current location specific\" stuff mid-navigation\n    // (historyAction, location, matches, loaderData, errors, initialized,\n    // restoreScroll, preventScrollReset, blockers, etc.)\n    ...currentState,\n    // Only surface \"pending/in-flight stuff\"\n    // (navigation, revalidation, actionData, fetchers, )\n    navigation: newState.navigation.state !== \"idle\" ? newState.navigation : currentState.navigation,\n    revalidation: newState.revalidation !== \"idle\" ? newState.revalidation : currentState.revalidation,\n    actionData: newState.navigation.state !== \"submitting\" ? newState.actionData : currentState.actionData,\n    fetchers: newState.fetchers\n  };\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state,\n  unstable_onError\n}) {\n  return useRoutesImpl(routes, void 0, state, unstable_onError, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n  unstable_useTransitions\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React3.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions: unstable_useTransitions === true\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator,\n  static: staticProp = false,\n  unstable_useTransitions\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator,\n      static: staticProp,\n      unstable_useTransitions,\n      future: {}\n    }),\n    [basename, navigator, staticProp, unstable_useTransitions]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  let dataRouterContext = React3.useContext(DataRouterContext);\n  let dataRouterStateContext = React3.useContext(DataRouterStateContext);\n  let onError = React3.useCallback(\n    (error, errorInfo) => {\n      if (dataRouterContext && dataRouterContext.unstable_onError && dataRouterStateContext) {\n        dataRouterContext.unstable_onError(error, {\n          location: dataRouterStateContext.location,\n          params: dataRouterStateContext.matches[0]?.params || {},\n          unstable_pattern: getRoutePattern(dataRouterStateContext.matches),\n          errorInfo\n        });\n      }\n    },\n    [dataRouterContext, dataRouterStateContext]\n  );\n  return /* @__PURE__ */ React3.createElement(\n    AwaitErrorBoundary,\n    {\n      resolve,\n      errorElement,\n      onError\n    },\n    /* @__PURE__ */ React3.createElement(ResolveAwait, null, children)\n  );\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    } else {\n      console.error(\n        \"<Await> caught the following error during render\",\n        error,\n        errorInfo\n      );\n    }\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => {\n          this.props.onError?.(error);\n          Object.defineProperty(resolve, \"_error\", { get: () => error });\n        }\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      middleware: element.props.middleware,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\nfunction useRouteComponentProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData(),\n    matches: useMatches()\n  };\n}\nfunction WithComponentProps({\n  children\n}) {\n  const props = useRouteComponentProps();\n  return React3.cloneElement(children, props);\n}\nfunction withComponentProps(Component4) {\n  return function WithComponentProps2() {\n    const props = useRouteComponentProps();\n    return React3.createElement(Component4, props);\n  };\n}\nfunction useHydrateFallbackProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData()\n  };\n}\nfunction WithHydrateFallbackProps({\n  children\n}) {\n  const props = useHydrateFallbackProps();\n  return React3.cloneElement(children, props);\n}\nfunction withHydrateFallbackProps(HydrateFallback) {\n  return function WithHydrateFallbackProps2() {\n    const props = useHydrateFallbackProps();\n    return React3.createElement(HydrateFallback, props);\n  };\n}\nfunction useErrorBoundaryProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData(),\n    error: useRouteError()\n  };\n}\nfunction WithErrorBoundaryProps({\n  children\n}) {\n  const props = useErrorBoundaryProps();\n  return React3.cloneElement(children, props);\n}\nfunction withErrorBoundaryProps(ErrorBoundary) {\n  return function WithErrorBoundaryProps2() {\n    const props = useErrorBoundaryProps();\n    return React3.createElement(ErrorBoundary, props);\n  };\n}\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return typeof HTMLElement !== \"undefined\" && object instanceof HTMLElement;\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\n\n// vendor/turbo-stream-v2/utils.ts\nvar HOLE = -1;\nvar NAN = -2;\nvar NEGATIVE_INFINITY = -3;\nvar NEGATIVE_ZERO = -4;\nvar NULL = -5;\nvar POSITIVE_INFINITY = -6;\nvar UNDEFINED = -7;\nvar TYPE_BIGINT = \"B\";\nvar TYPE_DATE = \"D\";\nvar TYPE_ERROR = \"E\";\nvar TYPE_MAP = \"M\";\nvar TYPE_NULL_OBJECT = \"N\";\nvar TYPE_PROMISE = \"P\";\nvar TYPE_REGEXP = \"R\";\nvar TYPE_SET = \"S\";\nvar TYPE_SYMBOL = \"Y\";\nvar TYPE_URL = \"U\";\nvar TYPE_PREVIOUS_RESOLVED = \"Z\";\nvar Deferred2 = class {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n};\nfunction createLineSplittingTransform() {\n  const decoder = new TextDecoder();\n  let leftover = \"\";\n  return new TransformStream({\n    transform(chunk, controller) {\n      const str = decoder.decode(chunk, { stream: true });\n      const parts = (leftover + str).split(\"\\n\");\n      leftover = parts.pop() || \"\";\n      for (const part of parts) {\n        controller.enqueue(part);\n      }\n    },\n    flush(controller) {\n      if (leftover) {\n        controller.enqueue(leftover);\n      }\n    }\n  });\n}\n\n// vendor/turbo-stream-v2/flatten.ts\nfunction flatten(input) {\n  const { indices } = this;\n  const existing = indices.get(input);\n  if (existing) return [existing];\n  if (input === void 0) return UNDEFINED;\n  if (input === null) return NULL;\n  if (Number.isNaN(input)) return NAN;\n  if (input === Number.POSITIVE_INFINITY) return POSITIVE_INFINITY;\n  if (input === Number.NEGATIVE_INFINITY) return NEGATIVE_INFINITY;\n  if (input === 0 && 1 / input < 0) return NEGATIVE_ZERO;\n  const index = this.index++;\n  indices.set(input, index);\n  stringify.call(this, input, index);\n  return index;\n}\nfunction stringify(input, index) {\n  const { deferred, plugins, postPlugins } = this;\n  const str = this.stringified;\n  const stack = [[input, index]];\n  while (stack.length > 0) {\n    const [input2, index2] = stack.pop();\n    const partsForObj = (obj) => Object.keys(obj).map((k) => `\"_${flatten.call(this, k)}\":${flatten.call(this, obj[k])}`).join(\",\");\n    let error = null;\n    switch (typeof input2) {\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        str[index2] = JSON.stringify(input2);\n        break;\n      case \"bigint\":\n        str[index2] = `[\"${TYPE_BIGINT}\",\"${input2}\"]`;\n        break;\n      case \"symbol\": {\n        const keyFor = Symbol.keyFor(input2);\n        if (!keyFor) {\n          error = new Error(\n            \"Cannot encode symbol unless created with Symbol.for()\"\n          );\n        } else {\n          str[index2] = `[\"${TYPE_SYMBOL}\",${JSON.stringify(keyFor)}]`;\n        }\n        break;\n      }\n      case \"object\": {\n        if (!input2) {\n          str[index2] = `${NULL}`;\n          break;\n        }\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          let result = isArray ? \"[\" : \"{\";\n          if (isArray) {\n            for (let i = 0; i < input2.length; i++)\n              result += (i ? \",\" : \"\") + (i in input2 ? flatten.call(this, input2[i]) : HOLE);\n            str[index2] = `${result}]`;\n          } else if (input2 instanceof Date) {\n            const dateTime = input2.getTime();\n            str[index2] = `[\"${TYPE_DATE}\",${Number.isNaN(dateTime) ? JSON.stringify(\"invalid\") : dateTime}]`;\n          } else if (input2 instanceof URL) {\n            str[index2] = `[\"${TYPE_URL}\",${JSON.stringify(input2.href)}]`;\n          } else if (input2 instanceof RegExp) {\n            str[index2] = `[\"${TYPE_REGEXP}\",${JSON.stringify(\n              input2.source\n            )},${JSON.stringify(input2.flags)}]`;\n          } else if (input2 instanceof Set) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_SET}\",${[...input2].map((val) => flatten.call(this, val)).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_SET}\"]`;\n            }\n          } else if (input2 instanceof Map) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_MAP}\",${[...input2].flatMap(([k, v]) => [\n                flatten.call(this, k),\n                flatten.call(this, v)\n              ]).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_MAP}\"]`;\n            }\n          } else if (input2 instanceof Promise) {\n            str[index2] = `[\"${TYPE_PROMISE}\",${index2}]`;\n            deferred[index2] = input2;\n          } else if (input2 instanceof Error) {\n            str[index2] = `[\"${TYPE_ERROR}\",${JSON.stringify(input2.message)}`;\n            if (input2.name !== \"Error\") {\n              str[index2] += `,${JSON.stringify(input2.name)}`;\n            }\n            str[index2] += \"]\";\n          } else if (Object.getPrototypeOf(input2) === null) {\n            str[index2] = `[\"${TYPE_NULL_OBJECT}\",{${partsForObj(input2)}}]`;\n          } else if (isPlainObject2(input2)) {\n            str[index2] = `{${partsForObj(input2)}}`;\n          } else {\n            error = new Error(\"Cannot encode object with prototype\");\n          }\n        }\n        break;\n      }\n      default: {\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          error = new Error(\"Cannot encode function or unexpected type\");\n        }\n      }\n    }\n    if (error) {\n      let pluginHandled = false;\n      if (postPlugins) {\n        for (const plugin of postPlugins) {\n          const pluginResult = plugin(input2);\n          if (Array.isArray(pluginResult)) {\n            pluginHandled = true;\n            const [pluginIdentifier, ...rest] = pluginResult;\n            str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n            if (rest.length > 0) {\n              str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n            }\n            str[index2] += \"]\";\n            break;\n          }\n        }\n      }\n      if (!pluginHandled) {\n        throw error;\n      }\n    }\n  }\n}\nvar objectProtoNames2 = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction isPlainObject2(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === objectProtoNames2;\n}\n\n// vendor/turbo-stream-v2/unflatten.ts\nvar globalObj = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : void 0;\nfunction unflatten(parsed) {\n  const { hydrated, values } = this;\n  if (typeof parsed === \"number\") return hydrate.call(this, parsed);\n  if (!Array.isArray(parsed) || !parsed.length) throw new SyntaxError();\n  const startIndex = values.length;\n  for (const value of parsed) {\n    values.push(value);\n  }\n  hydrated.length = values.length;\n  return hydrate.call(this, startIndex);\n}\nfunction hydrate(index) {\n  const { hydrated, values, deferred, plugins } = this;\n  let result;\n  const stack = [\n    [\n      index,\n      (v) => {\n        result = v;\n      }\n    ]\n  ];\n  let postRun = [];\n  while (stack.length > 0) {\n    const [index2, set] = stack.pop();\n    switch (index2) {\n      case UNDEFINED:\n        set(void 0);\n        continue;\n      case NULL:\n        set(null);\n        continue;\n      case NAN:\n        set(NaN);\n        continue;\n      case POSITIVE_INFINITY:\n        set(Infinity);\n        continue;\n      case NEGATIVE_INFINITY:\n        set(-Infinity);\n        continue;\n      case NEGATIVE_ZERO:\n        set(-0);\n        continue;\n    }\n    if (hydrated[index2]) {\n      set(hydrated[index2]);\n      continue;\n    }\n    const value = values[index2];\n    if (!value || typeof value !== \"object\") {\n      hydrated[index2] = value;\n      set(value);\n      continue;\n    }\n    if (Array.isArray(value)) {\n      if (typeof value[0] === \"string\") {\n        const [type, b, c] = value;\n        switch (type) {\n          case TYPE_DATE:\n            set(hydrated[index2] = new Date(b));\n            continue;\n          case TYPE_URL:\n            set(hydrated[index2] = new URL(b));\n            continue;\n          case TYPE_BIGINT:\n            set(hydrated[index2] = BigInt(b));\n            continue;\n          case TYPE_REGEXP:\n            set(hydrated[index2] = new RegExp(b, c));\n            continue;\n          case TYPE_SYMBOL:\n            set(hydrated[index2] = Symbol.for(b));\n            continue;\n          case TYPE_SET:\n            const newSet = /* @__PURE__ */ new Set();\n            hydrated[index2] = newSet;\n            for (let i = value.length - 1; i > 0; i--)\n              stack.push([\n                value[i],\n                (v) => {\n                  newSet.add(v);\n                }\n              ]);\n            set(newSet);\n            continue;\n          case TYPE_MAP:\n            const map = /* @__PURE__ */ new Map();\n            hydrated[index2] = map;\n            for (let i = value.length - 2; i > 0; i -= 2) {\n              const r = [];\n              stack.push([\n                value[i + 1],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                value[i],\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                map.set(r[0], r[1]);\n              });\n            }\n            set(map);\n            continue;\n          case TYPE_NULL_OBJECT:\n            const obj = /* @__PURE__ */ Object.create(null);\n            hydrated[index2] = obj;\n            for (const key of Object.keys(b).reverse()) {\n              const r = [];\n              stack.push([\n                b[key],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                Number(key.slice(1)),\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                obj[r[0]] = r[1];\n              });\n            }\n            set(obj);\n            continue;\n          case TYPE_PROMISE:\n            if (hydrated[b]) {\n              set(hydrated[index2] = hydrated[b]);\n            } else {\n              const d = new Deferred2();\n              deferred[b] = d;\n              set(hydrated[index2] = d.promise);\n            }\n            continue;\n          case TYPE_ERROR:\n            const [, message, errorType] = value;\n            let error = errorType && globalObj && globalObj[errorType] ? new globalObj[errorType](message) : new Error(message);\n            hydrated[index2] = error;\n            set(error);\n            continue;\n          case TYPE_PREVIOUS_RESOLVED:\n            set(hydrated[index2] = hydrated[b]);\n            continue;\n          default:\n            if (Array.isArray(plugins)) {\n              const r = [];\n              const vals = value.slice(1);\n              for (let i = 0; i < vals.length; i++) {\n                const v = vals[i];\n                stack.push([\n                  v,\n                  (v2) => {\n                    r[i] = v2;\n                  }\n                ]);\n              }\n              postRun.push(() => {\n                for (const plugin of plugins) {\n                  const result2 = plugin(value[0], ...r);\n                  if (result2) {\n                    set(hydrated[index2] = result2.value);\n                    return;\n                  }\n                }\n                throw new SyntaxError();\n              });\n              continue;\n            }\n            throw new SyntaxError();\n        }\n      } else {\n        const array = [];\n        hydrated[index2] = array;\n        for (let i = 0; i < value.length; i++) {\n          const n = value[i];\n          if (n !== HOLE) {\n            stack.push([\n              n,\n              (v) => {\n                array[i] = v;\n              }\n            ]);\n          }\n        }\n        set(array);\n        continue;\n      }\n    } else {\n      const object = {};\n      hydrated[index2] = object;\n      for (const key of Object.keys(value).reverse()) {\n        const r = [];\n        stack.push([\n          value[key],\n          (v) => {\n            r[1] = v;\n          }\n        ]);\n        stack.push([\n          Number(key.slice(1)),\n          (k) => {\n            r[0] = k;\n          }\n        ]);\n        postRun.push(() => {\n          object[r[0]] = r[1];\n        });\n      }\n      set(object);\n      continue;\n    }\n  }\n  while (postRun.length > 0) {\n    postRun.pop()();\n  }\n  return result;\n}\n\n// vendor/turbo-stream-v2/turbo-stream.ts\nasync function decode(readable, options) {\n  const { plugins } = options ?? {};\n  const done = new Deferred2();\n  const reader = readable.pipeThrough(createLineSplittingTransform()).getReader();\n  const decoder = {\n    values: [],\n    hydrated: [],\n    deferred: {},\n    plugins\n  };\n  const decoded = await decodeInitial.call(decoder, reader);\n  let donePromise = done.promise;\n  if (decoded.done) {\n    done.resolve();\n  } else {\n    donePromise = decodeDeferred.call(decoder, reader).then(done.resolve).catch((reason) => {\n      for (const deferred of Object.values(decoder.deferred)) {\n        deferred.reject(reason);\n      }\n      done.reject(reason);\n    });\n  }\n  return {\n    done: donePromise.then(() => reader.closed),\n    value: decoded.value\n  };\n}\nasync function decodeInitial(reader) {\n  const read = await reader.read();\n  if (!read.value) {\n    throw new SyntaxError();\n  }\n  let line;\n  try {\n    line = JSON.parse(read.value);\n  } catch (reason) {\n    throw new SyntaxError();\n  }\n  return {\n    done: read.done,\n    value: unflatten.call(this, line)\n  };\n}\nasync function decodeDeferred(reader) {\n  let read = await reader.read();\n  while (!read.done) {\n    if (!read.value) continue;\n    const line = read.value;\n    switch (line[0]) {\n      case TYPE_PROMISE: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.resolve(value);\n        break;\n      }\n      case TYPE_ERROR: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.reject(value);\n        break;\n      }\n      default:\n        throw new SyntaxError();\n    }\n    read = await reader.read();\n  }\n}\nfunction encode(input, options) {\n  const { plugins, postPlugins, signal } = options ?? {};\n  const encoder = {\n    deferred: {},\n    index: 0,\n    indices: /* @__PURE__ */ new Map(),\n    stringified: [],\n    plugins,\n    postPlugins,\n    signal\n  };\n  const textEncoder = new TextEncoder();\n  let lastSentIndex = 0;\n  const readable = new ReadableStream({\n    async start(controller) {\n      const id = flatten.call(encoder, input);\n      if (Array.isArray(id)) {\n        throw new Error(\"This should never happen\");\n      }\n      if (id < 0) {\n        controller.enqueue(textEncoder.encode(`${id}\n`));\n      } else {\n        controller.enqueue(\n          textEncoder.encode(`[${encoder.stringified.join(\",\")}]\n`)\n        );\n        lastSentIndex = encoder.stringified.length - 1;\n      }\n      const seenPromises = /* @__PURE__ */ new WeakSet();\n      if (Object.keys(encoder.deferred).length) {\n        let raceDone;\n        const racePromise = new Promise((resolve, reject) => {\n          raceDone = resolve;\n          if (signal) {\n            const rejectPromise = () => reject(signal.reason || new Error(\"Signal was aborted.\"));\n            if (signal.aborted) {\n              rejectPromise();\n            } else {\n              signal.addEventListener(\"abort\", (event) => {\n                rejectPromise();\n              });\n            }\n          }\n        });\n        while (Object.keys(encoder.deferred).length > 0) {\n          for (const [deferredId, deferred] of Object.entries(\n            encoder.deferred\n          )) {\n            if (seenPromises.has(deferred)) continue;\n            seenPromises.add(\n              // biome-ignore lint/suspicious/noAssignInExpressions: <explanation>\n              encoder.deferred[Number(deferredId)] = Promise.race([\n                racePromise,\n                deferred\n              ]).then(\n                (resolved) => {\n                  const id2 = flatten.call(encoder, resolved);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder.stringified.length - 1;\n                  }\n                },\n                (reason) => {\n                  if (!reason || typeof reason !== \"object\" || !(reason instanceof Error)) {\n                    reason = new Error(\"An unknown error occurred\");\n                  }\n                  const id2 = flatten.call(encoder, reason);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder.stringified.length - 1;\n                  }\n                }\n              ).finally(() => {\n                delete encoder.deferred[Number(deferredId)];\n              })\n            );\n          }\n          await Promise.race(Object.values(encoder.deferred));\n        }\n        raceDone();\n      }\n      await Promise.all(Object.values(encoder.deferred));\n      controller.close();\n    }\n  });\n  return readable;\n}\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nvar SingleFetchNoResultError = class extends Error {\n};\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205]);\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getTurboStreamSingleFetchDataStrategy(getRouter, manifest, routeModules, ssr, basename) {\n  let dataStrategy = getSingleFetchDataStrategyImpl(\n    getRouter,\n    (match) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      invariant2(manifestRoute, \"Route not found in manifest\");\n      let routeModule = routeModules[match.route.id];\n      return {\n        hasLoader: manifestRoute.hasLoader,\n        hasClientLoader: manifestRoute.hasClientLoader,\n        hasShouldRevalidate: Boolean(routeModule?.shouldRevalidate)\n      };\n    },\n    fetchAndDecodeViaTurboStream,\n    ssr,\n    basename\n  );\n  return async (args) => args.runClientMiddleware(dataStrategy);\n}\nfunction getSingleFetchDataStrategyImpl(getRouter, getRouteInfo, fetchAndDecode, ssr, basename, shouldAllowOptOut = () => true) {\n  return async (args) => {\n    let { request, matches, fetcherKey } = args;\n    let router = getRouter();\n    if (request.method !== \"GET\") {\n      return singleFetchActionStrategy(args, fetchAndDecode, basename);\n    }\n    let foundRevalidatingServerLoader = matches.some((m) => {\n      let { hasLoader, hasClientLoader } = getRouteInfo(m);\n      return m.shouldCallHandler() && hasLoader && !hasClientLoader;\n    });\n    if (!ssr && !foundRevalidatingServerLoader) {\n      return nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename);\n    }\n    if (fetcherKey) {\n      return singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename);\n    }\n    return singleFetchLoaderNavigationStrategy(\n      args,\n      router,\n      getRouteInfo,\n      fetchAndDecode,\n      ssr,\n      basename,\n      shouldAllowOptOut\n    );\n  };\n}\nasync function singleFetchActionStrategy(args, fetchAndDecode, basename) {\n  let actionMatch = args.matches.find((m) => m.shouldCallHandler());\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let { data: data2, status } = await fetchAndDecode(args, basename, [\n        actionMatch.route.id\n      ]);\n      actionStatus = status;\n      return unwrapSingleFetchResult(data2, actionMatch.route.id);\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result) || isDataWithResponseInit(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldCallHandler());\n  let results = {};\n  await Promise.all(\n    matchesToLoad.map(\n      (m) => m.resolve(async (handler) => {\n        try {\n          let { hasClientLoader } = getRouteInfo(m);\n          let routeId = m.route.id;\n          let result = hasClientLoader ? await handler(async () => {\n            let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n            return unwrapSingleFetchResult(data2, routeId);\n          }) : await handler();\n          results[m.route.id] = { type: \"data\", result };\n        } catch (e) {\n          results[m.route.id] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  return results;\n}\nasync function singleFetchLoaderNavigationStrategy(args, router, getRouteInfo, fetchAndDecode, ssr, basename, shouldAllowOptOut = () => true) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = args.matches.map(() => createDeferred2());\n  let singleFetchDfd = createDeferred2();\n  let results = {};\n  let resolvePromise = Promise.all(\n    args.matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let routeId = m.route.id;\n        let { hasLoader, hasClientLoader, hasShouldRevalidate } = getRouteInfo(m);\n        let defaultShouldRevalidate = !m.shouldRevalidateArgs || m.shouldRevalidateArgs.actionStatus == null || m.shouldRevalidateArgs.actionStatus < 400;\n        let shouldCall = m.shouldCallHandler(defaultShouldRevalidate);\n        if (!shouldCall) {\n          foundOptOutRoute || (foundOptOutRoute = m.shouldRevalidateArgs != null && // This is a revalidation,\n          hasLoader && // for a route with a server loader,\n          hasShouldRevalidate === true);\n          return;\n        }\n        if (shouldAllowOptOut(m) && hasClientLoader) {\n          if (hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await handler(async () => {\n              let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n              return unwrapSingleFetchResult(data2, routeId);\n            });\n            results[routeId] = { type: \"data\", result };\n          } catch (e) {\n            results[routeId] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (hasLoader) {\n          routesParams.add(routeId);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResult(data2, routeId);\n          });\n          results[routeId] = { type: \"data\", result };\n        } catch (e) {\n          results[routeId] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  await Promise.all(routeDfds.map((d) => d.promise));\n  let isInitialLoad = !router.state.initialized && router.state.navigation.state === \"idle\";\n  if ((isInitialLoad || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({ routes: {} });\n  } else {\n    let targetRoutes = ssr && foundOptOutRoute && routesParams.size > 0 ? [...routesParams.keys()] : void 0;\n    try {\n      let data2 = await fetchAndDecode(args, basename, targetRoutes);\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  await bubbleMiddlewareErrors(\n    singleFetchDfd.promise,\n    args.matches,\n    routesParams,\n    results\n  );\n  return results;\n}\nasync function bubbleMiddlewareErrors(singleFetchPromise, matches, routesParams, results) {\n  try {\n    let middlewareError;\n    let fetchedData = await singleFetchPromise;\n    if (\"routes\" in fetchedData) {\n      for (let match of matches) {\n        if (match.route.id in fetchedData.routes) {\n          let routeResult = fetchedData.routes[match.route.id];\n          if (\"error\" in routeResult) {\n            middlewareError = routeResult.error;\n            if (results[match.route.id]?.result == null) {\n              results[match.route.id] = {\n                type: \"error\",\n                result: middlewareError\n              };\n            }\n            break;\n          }\n        }\n      }\n    }\n    if (middlewareError !== void 0) {\n      Array.from(routesParams.values()).forEach((routeId) => {\n        if (results[routeId].result instanceof SingleFetchNoResultError) {\n          results[routeId].result = middlewareError;\n        }\n      });\n    }\n  } catch (e) {\n  }\n}\nasync function singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename) {\n  let fetcherMatch = args.matches.find((m) => m.shouldCallHandler());\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let routeId = fetcherMatch.route.id;\n  let result = await fetcherMatch.resolve(\n    async (handler) => handler(async () => {\n      let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n      return unwrapSingleFetchResult(data2, routeId);\n    })\n  );\n  return { [fetcherMatch.route.id]: result };\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl, basename, extension) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (url.pathname === \"/\") {\n    url.pathname = `_root.${extension}`;\n  } else if (basename && stripBasename(url.pathname, basename) === \"/\") {\n    url.pathname = `${basename.replace(/\\/$/, \"\")}/_root.${extension}`;\n  } else {\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.${extension}`;\n  }\n  return url;\n}\nasync function fetchAndDecodeViaTurboStream(args, basename, targetRoutes) {\n  let { request } = args;\n  let url = singleFetchUrl(request.url, basename, \"data\");\n  if (request.method === \"GET\") {\n    url = stripIndexParam(url);\n    if (targetRoutes) {\n      url.searchParams.set(\"_routes\", targetRoutes.join(\",\"));\n    }\n  }\n  let res = await fetch(url, await createRequestInit(request));\n  if (res.status >= 400 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(res.status, res.statusText, await res.text());\n  }\n  if (res.status === 204 && res.headers.has(\"X-Remix-Redirect\")) {\n    return {\n      status: SINGLE_FETCH_REDIRECT_STATUS,\n      data: {\n        redirect: {\n          redirect: res.headers.get(\"X-Remix-Redirect\"),\n          status: Number(res.headers.get(\"X-Remix-Status\") || \"302\"),\n          revalidate: res.headers.get(\"X-Remix-Revalidate\") === \"true\",\n          reload: res.headers.get(\"X-Remix-Reload-Document\") === \"true\",\n          replace: res.headers.get(\"X-Remix-Replace\") === \"true\"\n        }\n      }\n    };\n  }\n  if (NO_BODY_STATUS_CODES.has(res.status)) {\n    let routes = {};\n    if (targetRoutes && request.method !== \"GET\") {\n      routes[targetRoutes[0]] = { data: void 0 };\n    }\n    return {\n      status: res.status,\n      data: { routes }\n    };\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    let data2;\n    if (request.method === \"GET\") {\n      let typed = decoded.value;\n      if (SingleFetchRedirectSymbol in typed) {\n        data2 = { redirect: typed[SingleFetchRedirectSymbol] };\n      } else {\n        data2 = { routes: typed };\n      }\n    } else {\n      let typed = decoded.value;\n      let routeId = targetRoutes?.[0];\n      invariant2(routeId, \"No routeId found for single fetch call decoding\");\n      if (\"redirect\" in typed) {\n        data2 = { redirect: typed };\n      } else {\n        data2 = { routes: { [routeId]: typed } };\n      }\n    }\n    return { status: res.status, data: data2 };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global && typeof global[name] === \"function\") {\n            Constructor = global[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"redirect\" in result) {\n    let {\n      redirect: location,\n      revalidate,\n      reload,\n      replace: replace2,\n      status\n    } = result.redirect;\n    throw redirect(location, {\n      status,\n      headers: {\n        // Three R's of redirecting (lol Veep)\n        ...revalidate ? { \"X-Remix-Revalidate\": \"yes\" } : null,\n        ...reload ? { \"X-Remix-Reload-Document\": \"yes\" } : null,\n        ...replace2 ? { \"X-Remix-Replace\": \"yes\" } : null\n      }\n    });\n  }\n  let routeResult = result.routes[routeId];\n  if (routeResult == null) {\n    throw new SingleFetchNoResultError(\n      `No result found for routeId \"${routeId}\"`\n    );\n  } else if (\"error\" in routeResult) {\n    throw routeResult.error;\n  } else if (\"data\" in routeResult) {\n    return routeResult.data;\n  } else {\n    throw new Error(`Invalid response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/components.tsx\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href) => ({ rel: \"stylesheet\", href })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href) => ({ rel: \"stylesheet\", href }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React6 from \"react\";\n\n// lib/dom/ssr/fallback.tsx\nimport * as React5 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, ENABLE_DEV_WARNINGS ? /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ) : null);\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React6.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need middleware/action/shouldRevalidate on these routes since\n      // they're for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        middleware: routeModule.clientMiddleware,\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          dataRoute.path,\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params, context, unstable_pattern }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              context,\n              unstable_pattern,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route.id,\n        routeModule.clientLoader,\n        route.hasLoader,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params, context, unstable_pattern }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            context,\n            unstable_pattern,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      }\n      let lazyRoutePromise;\n      async function getLazyRoute() {\n        if (lazyRoutePromise) {\n          return await lazyRoutePromise;\n        }\n        lazyRoutePromise = (async () => {\n          if (route.clientLoaderModule || route.clientActionModule) {\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          }\n          let routeModulePromise = loadRouteModuleWithBlockingLinks(\n            route,\n            routeModulesCache\n          );\n          prefetchRouteModuleChunks(route);\n          return await routeModulePromise;\n        })();\n        return await lazyRoutePromise;\n      }\n      dataRoute.lazy = {\n        loader: route.hasClientLoader ? async () => {\n          let { clientLoader } = route.clientLoaderModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          ) : await getLazyRoute();\n          invariant2(clientLoader, \"No `clientLoader` export found\");\n          return (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        } : void 0,\n        action: route.hasClientAction ? async () => {\n          let clientActionPromise = route.clientActionModule ? import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          ) : getLazyRoute();\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await clientActionPromise;\n          invariant2(clientAction, \"No `clientAction` export found\");\n          return (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        } : void 0,\n        middleware: route.hasClientMiddleware ? async () => {\n          let { clientMiddleware } = route.clientMiddlewareModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientMiddlewareModule\n          ) : await getLazyRoute();\n          invariant2(clientMiddleware, \"No `clientMiddleware` export found\");\n          return clientMiddleware;\n        } : void 0,\n        shouldRevalidate: async () => {\n          let lazyRoute = await getLazyRoute();\n          return getShouldRevalidateFunction(\n            dataRoute.path,\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          );\n        },\n        handle: async () => (await getLazyRoute()).handle,\n        // No need to wrap these in layout since the root route is never\n        // loaded via route.lazy()\n        Component: async () => (await getLazyRoute()).Component,\n        ErrorBoundary: route.hasErrorBoundary ? async () => (await getLazyRoute()).ErrorBoundary : void 0\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(path, route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    let myParams = path ? compilePath(path)[1].map((p) => p.paramName) : [];\n    const didParamsChange = (opts) => myParams.some((p) => opts.currentParams[p] !== opts.nextParams[p]);\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({\n        ...opts,\n        defaultShouldRevalidate: didParamsChange(opts)\n      });\n    } else {\n      return (opts) => didParamsChange(opts);\n    }\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    clientMiddleware: routeModule.clientMiddleware,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(routeId, clientLoader, hasLoader, isSpaMode) {\n  return isSpaMode && routeId !== \"root\" || clientLoader != null && (clientLoader.hydrate === true || hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(routeDiscovery, ssr) {\n  return routeDiscovery.mode === \"lazy\" && ssr === true;\n}\nfunction getPartialManifest({ sri, ...manifest }, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes,\n    sri: sri ? true : void 0\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, routeDiscovery, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(routeDiscovery, ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal, fetcherKey }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      fetcherKey ? window.location.href : path,\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      routeDiscovery.manifestPath,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, routeDiscovery, isSpaMode) {\n  React7.useEffect(() => {\n    if (!isFogOfWarEnabled(routeDiscovery, ssr) || // @ts-expect-error - TS doesn't know about this yet\n    window.navigator?.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          null,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          routeDiscovery.manifestPath,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router, routeDiscovery]);\n}\nfunction getManifestPath(_manifestPath, basename) {\n  let manifestPath = _manifestPath || \"/__manifest\";\n  if (basename == null) {\n    return manifestPath;\n  }\n  return `${basename}${manifestPath}`.replace(/\\/+/g, \"/\");\n}\nvar MANIFEST_VERSION_STORAGE_KEY = \"react-router-manifest-version\";\nasync function fetchAndApplyManifestPatches(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, manifestPath, patchRoutes, signal) {\n  const searchParams = new URLSearchParams();\n  searchParams.set(\"paths\", paths.sort().join(\",\"));\n  searchParams.set(\"version\", manifest.version);\n  let url = new URL(\n    getManifestPath(manifestPath, basename),\n    window.location.origin\n  );\n  url.search = searchParams.toString();\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status === 204 && res.headers.has(\"X-Remix-Reload-Document\")) {\n      if (!errorReloadPath) {\n        console.warn(\n          \"Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.\"\n        );\n        return;\n      }\n      try {\n        if (sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version) {\n          console.error(\n            \"Unable to discover routes due to manifest version mismatch.\"\n          );\n          return;\n        }\n        sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);\n      } catch {\n      }\n      window.location.href = errorReloadPath;\n      console.warn(\"Detected manifest version mismatch, reloading...\");\n      await new Promise(() => {\n      });\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    try {\n      sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);\n    } catch {\n    }\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React8.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React8.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React8.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React8.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React8.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React8.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React8.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React8.useRef(null);\n  React8.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React8.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nvar CRITICAL_CSS_DATA_ATTRIBUTE = \"data-react-router-critical-css\";\nfunction Links({ nonce }) {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React8.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, typeof criticalCss === \"string\" ? /* @__PURE__ */ React8.createElement(\n    \"style\",\n    {\n      ...{ [CRITICAL_CSS_DATA_ATTRIBUTE]: \"\" },\n      dangerouslySetInnerHTML: { __html: criticalCss }\n    }\n  ) : null, typeof criticalCss === \"object\" ? /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      ...{ [CRITICAL_CSS_DATA_ATTRIBUTE]: \"\" },\n      rel: \"stylesheet\",\n      href: criticalCss.href,\n      nonce\n    }\n  ) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React8.createElement(PrefetchPageLinks, { key, nonce, ...link }) : /* @__PURE__ */ React8.createElement(\"link\", { key, nonce, ...link })\n  ));\n}\nfunction PrefetchPageLinks({ page, ...linkProps }) {\n  let { router } = useDataRouterContext2();\n  let matches = React8.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React8.createElement(PrefetchPageLinksImpl, { page, matches, ...linkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React8.useState([]);\n  React8.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { manifest, routeModules } = useFrameworkContext();\n  let { basename } = useDataRouterContext2();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React8.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React8.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React8.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(page, basename, \"data\");\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    basename,\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React8.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, dataHrefs.map((href) => /* @__PURE__ */ React8.createElement(\"link\", { key: href, rel: \"prefetch\", as: \"fetch\", href, ...linkProps })), moduleHrefs.map((href) => /* @__PURE__ */ React8.createElement(\"link\", { key: href, rel: \"modulepreload\", href, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React8.createElement(\"link\", { key, nonce: linkProps.nonce, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      loaderData: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        loaderData: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React8.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React8.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React8.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React8.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: escapeHtml(json) }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React8.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction setIsHydrated() {\n  isHydrated = true;\n}\nfunction Scripts(scriptProps) {\n  let {\n    manifest,\n    serverHandoffString,\n    isSpaMode,\n    renderMeta,\n    routeDiscovery,\n    ssr\n  } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let isRSCRouterContext = useIsRSCRouterContext();\n  let enableFogOfWar = isFogOfWarEnabled(routeDiscovery, ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React8.useEffect(() => {\n    setIsHydrated();\n  }, []);\n  let initialScripts = React8.useMemo(() => {\n    if (isRSCRouterContext) {\n      return null;\n    }\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        clientMiddlewareModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...clientMiddlewareModule ? [\n          {\n            module: clientMiddlewareModule,\n            varName: `${routeVarName}_clientMiddleware`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React8.createElement(React8.Fragment, null, /* @__PURE__ */ React8.createElement(\n      \"script\",\n      {\n        ...scriptProps,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: { __html: contextScript },\n        type: void 0\n      }\n    ), /* @__PURE__ */ React8.createElement(\n      \"script\",\n      {\n        ...scriptProps,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: { __html: routeModulesScript },\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated || isRSCRouterContext ? [] : dedupe(\n    manifest.entry.imports.concat(\n      getModuleLinkHrefs(matches, manifest, {\n        includeHydrateFallback: true\n      })\n    )\n  );\n  let sri = typeof manifest.sri === \"object\" ? manifest.sri : {};\n  warnOnce(\n    !isRSCRouterContext,\n    \"The <Scripts /> element is a no-op when using RSC and can be safely removed.\"\n  );\n  return isHydrated || isRSCRouterContext ? null : /* @__PURE__ */ React8.createElement(React8.Fragment, null, typeof manifest.sri === \"object\" ? /* @__PURE__ */ React8.createElement(\n    \"script\",\n    {\n      \"rr-importmap\": \"\",\n      type: \"importmap\",\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify({\n          integrity: sri\n        })\n      }\n    }\n  ) : null, !enableFogOfWar ? /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[manifest.url],\n      suppressHydrationWarning: true\n    }\n  ) : null, /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[manifest.entry.module],\n      suppressHydrationWarning: true\n    }\n  ), preloads.map((path) => /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[path],\n      suppressHydrationWarning: true\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/ssr/errorBoundaries.tsx\nvar RemixErrorBoundary = class extends React9.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React9.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React9.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React9.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React9.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), ENABLE_DEV_WARNINGS ? heyDeveloper : null);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React9.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React9.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React9.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React9.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React9.createElement(\"head\", null, /* @__PURE__ */ React9.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React9.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\"title\", null, title)), /* @__PURE__ */ React9.createElement(\"body\", null, /* @__PURE__ */ React9.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React9.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser) {\n    window.__reactRouterVersion = // @ts-expect-error\n    \"7.10.0\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    getContext: opts?.getContext,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window,\n    unstable_instrumentations: opts?.unstable_instrumentations\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    getContext: opts?.getContext,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window,\n    unstable_instrumentations: opts?.unstable_instrumentations\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  unstable_useTransitions,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React10.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions: unstable_useTransitions === true\n    }\n  );\n}\nfunction HashRouter({\n  basename,\n  children,\n  unstable_useTransitions,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React10.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions: unstable_useTransitions === true\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history,\n  unstable_useTransitions\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React10.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions: unstable_useTransitions === true\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    ...rest\n  }, forwardedRef) {\n    let { basename, unstable_useTransitions } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && isAbsolute) {\n      absoluteHref = to;\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n    let href = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition,\n      unstable_useTransitions\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: absoluteHref || href,\n          onClick: isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    ...props\n  }, forwardedRef) => {\n    let { unstable_useTransitions } = React10.useContext(NavigationContext);\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      let doSubmit = () => submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition\n      });\n      if (unstable_useTransitions && navigate !== false) {\n        React10.startTransition(() => doSubmit());\n      } else {\n        doSubmit();\n      }\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${JSON.stringify(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        )}, ${JSON.stringify(ssrKey)})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition,\n  unstable_useTransitions\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        let doNavigate = () => navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition\n        });\n        if (unstable_useTransitions) {\n          React10.startTransition(() => doNavigate());\n        } else {\n          doNavigate();\n        }\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition,\n      unstable_useTransitions\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(new URLSearchParams(searchParams)) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  let routerFetch = router.fetch;\n  let routerNavigate = router.navigate;\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await routerFetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await routerNavigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [routerFetch, routerNavigate, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  let { deleteFetcher, getFetcher, resetFetcher, fetch: routerFetch } = router;\n  React10.useEffect(() => {\n    getFetcher(fetcherKey);\n    return () => deleteFetcher(fetcherKey);\n  }, [deleteFetcher, getFetcher, fetcherKey]);\n  let load = React10.useCallback(\n    async (href, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await routerFetch(fetcherKey, routeId, href, opts);\n    },\n    [fetcherKey, routeId, routerFetch]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let reset = React10.useCallback(\n    (opts) => resetFetcher(fetcherKey, opts),\n    [resetFetcher, fetcherKey]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      reset,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, reset, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      try {\n        if (location.hash) {\n          let el = document.getElementById(\n            decodeURIComponent(location.hash.slice(1))\n          );\n          if (el) {\n            el.scrollIntoView();\n            return;\n          }\n        }\n      } catch {\n        warning(\n          false,\n          `\"${location.hash.slice(\n            1\n          )}\" is not a decodable element ID. The view will not scroll to it.`\n        );\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, { relative } = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true,\n      unstable_useTransitions: false\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate: hydrate2 = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate2 !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = htmlEscape(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static,\n      unstable_useTransitions: false\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, void 0, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        v8_middleware: false,\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    resetFetcher() {\n      throw msg(\"resetFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    },\n    _internalSetStateDoNotUseOrYouWillBreakYourApp() {\n      throw msg(\"_internalSetStateDoNotUseOrYouWillBreakYourApp\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href = typeof to === \"string\" ? to : createPath(to);\n  href = href.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href) ? new URL(href) : new URL(href, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar ESCAPE_LOOKUP2 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX2 = /[&><\\u2028\\u2029]/g;\nfunction htmlEscape(str) {\n  return str.replace(ESCAPE_REGEX2, (match) => ESCAPE_LOOKUP2[match]);\n}\n\nexport {\n  Action,\n  createBrowserHistory,\n  invariant,\n  createPath,\n  parsePath,\n  createContext,\n  RouterContextProvider,\n  convertRoutesToDataRoutes,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  stripBasename,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  instrumentHandler,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  createStaticHandler,\n  getStaticContextFromError,\n  isDataWithResponseInit,\n  isResponse,\n  isRedirectStatusCode,\n  isRedirectResponse,\n  isMutationMethod,\n  DataRouterContext,\n  DataRouterStateContext,\n  RSCRouterContext,\n  ViewTransitionContext,\n  FetchersContext,\n  AwaitContextProvider,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  ENABLE_DEV_WARNINGS,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  useRoute,\n  warnOnce,\n  mapRouteProperties,\n  hydrationRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  WithComponentProps,\n  withComponentProps,\n  WithHydrateFallbackProps,\n  withHydrateFallbackProps,\n  WithErrorBoundaryProps,\n  withErrorBoundaryProps,\n  createSearchParams,\n  escapeHtml,\n  encode,\n  createRequestInit,\n  SingleFetchRedirectSymbol,\n  SINGLE_FETCH_REDIRECT_STATUS,\n  NO_BODY_STATUS_CODES,\n  StreamTransfer,\n  getTurboStreamSingleFetchDataStrategy,\n  getSingleFetchDataStrategyImpl,\n  stripIndexParam,\n  singleFetchUrl,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createServerRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  noActionDefinedError,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  getManifestPath,\n  FrameworkContext,\n  CRITICAL_CSS_DATA_ATTRIBUTE,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  setIsHydrated,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2,\n  createStaticRouter\n};\n","/*! Capacitor: https://capacitorjs.com/ - MIT License */\nconst createCapacitorPlatforms = (win) => {\n    const defaultPlatformMap = new Map();\n    defaultPlatformMap.set('web', { name: 'web' });\n    const capPlatforms = win.CapacitorPlatforms || {\n        currentPlatform: { name: 'web' },\n        platforms: defaultPlatformMap,\n    };\n    const addPlatform = (name, platform) => {\n        capPlatforms.platforms.set(name, platform);\n    };\n    const setPlatform = (name) => {\n        if (capPlatforms.platforms.has(name)) {\n            capPlatforms.currentPlatform = capPlatforms.platforms.get(name);\n        }\n    };\n    capPlatforms.addPlatform = addPlatform;\n    capPlatforms.setPlatform = setPlatform;\n    return capPlatforms;\n};\nconst initPlatforms = (win) => (win.CapacitorPlatforms = createCapacitorPlatforms(win));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst CapacitorPlatforms = /*#__PURE__*/ initPlatforms((typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {}));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst addPlatform = CapacitorPlatforms.addPlatform;\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst setPlatform = CapacitorPlatforms.setPlatform;\n\nconst legacyRegisterWebPlugin = (cap, webPlugin) => {\n    var _a;\n    const config = webPlugin.config;\n    const Plugins = cap.Plugins;\n    if (!(config === null || config === void 0 ? void 0 : config.name)) {\n        // TODO: add link to upgrade guide\n        throw new Error(`Capacitor WebPlugin is using the deprecated \"registerWebPlugin()\" function, but without the config. Please use \"registerPlugin()\" instead to register this web plugin.\"`);\n    }\n    // TODO: add link to upgrade guide\n    console.warn(`Capacitor plugin \"${config.name}\" is using the deprecated \"registerWebPlugin()\" function`);\n    if (!Plugins[config.name] || ((_a = config === null || config === void 0 ? void 0 : config.platforms) === null || _a === void 0 ? void 0 : _a.includes(cap.getPlatform()))) {\n        // Add the web plugin into the plugins registry if there already isn't\n        // an existing one. If it doesn't already exist, that means\n        // there's no existing native implementation for it.\n        // - OR -\n        // If we already have a plugin registered (meaning it was defined in the native layer),\n        // then we should only overwrite it if the corresponding web plugin activates on\n        // a certain platform. For example: Geolocation uses the WebPlugin on Android but not iOS\n        Plugins[config.name] = webPlugin;\n    }\n};\n\nvar ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nclass CapacitorException extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.message = message;\n        this.code = code;\n        this.data = data;\n    }\n}\nconst getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n\nconst createCapacitor = (win) => {\n    var _a, _b, _c, _d, _e;\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    /**\n     * @deprecated Use `capCustomPlatform` instead, default functions like registerPlugin will function with the new object.\n     */\n    const capPlatforms = win.CapacitorPlatforms;\n    const defaultGetPlatform = () => {\n        return capCustomPlatform !== null\n            ? capCustomPlatform.name\n            : getPlatformId(win);\n    };\n    const getPlatform = ((_a = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _a === void 0 ? void 0 : _a.getPlatform) || defaultGetPlatform;\n    const defaultIsNativePlatform = () => getPlatform() !== 'web';\n    const isNativePlatform = ((_b = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _b === void 0 ? void 0 : _b.isNativePlatform) || defaultIsNativePlatform;\n    const defaultIsPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const isPluginAvailable = ((_c = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _c === void 0 ? void 0 : _c.isPluginAvailable) ||\n        defaultIsPluginAvailable;\n    const defaultGetPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find(h => h.name === pluginName); };\n    const getPluginHeader = ((_d = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _d === void 0 ? void 0 : _d.getPluginHeader) || defaultGetPluginHeader;\n    const handleError = (err) => win.console.error(err);\n    const pluginMethodNoop = (_target, prop, pluginName) => {\n        return Promise.reject(`${pluginName} does not have an implementation of \"${prop}\".`);\n    };\n    const registeredPlugins = new Map();\n    const defaultRegisterPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null &&\n                !jsImplementation &&\n                'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find(m => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then(impl => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair \n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise(resolve => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([\n                ...Object.keys(jsImplementations),\n                ...(pluginHeader ? [platform] : []),\n            ]),\n        });\n        return proxy;\n    };\n    const registerPlugin = ((_e = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _e === void 0 ? void 0 : _e.registerPlugin) || defaultRegisterPlugin;\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = filePath => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.pluginMethodNoop = pluginMethodNoop;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    // Deprecated props\n    cap.platform = cap.getPlatform();\n    cap.isNative = cap.isNativePlatform();\n    return cap;\n};\nconst initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n\nconst Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nconst registerPlugin = Capacitor.registerPlugin;\n/**\n * @deprecated Provided for backwards compatibility for Capacitor v2 plugins.\n * Capacitor v3 plugins should import the plugin directly. This \"Plugins\"\n * export is deprecated in v3, and will be removed in v4.\n */\nconst Plugins = Capacitor.Plugins;\n/**\n * Provided for backwards compatibility. Use the registerPlugin() API\n * instead, and provide the web plugin as the \"web\" implmenetation.\n * For example\n *\n * export const Example = registerPlugin('Example', {\n *   web: () => import('./web').then(m => new m.Example())\n * })\n *\n * @deprecated Deprecated in v3, will be removed from v4.\n */\nconst registerWebPlugin = (plugin) => legacyRegisterWebPlugin(Capacitor, plugin);\n\n/**\n * Base class web plugins should extend.\n */\nclass WebPlugin {\n    constructor(config) {\n        this.listeners = {};\n        this.windowListeners = {};\n        if (config) {\n            // TODO: add link to upgrade guide\n            console.warn(`Capacitor WebPlugin \"${config.name}\" config object was deprecated in v3 and will be removed in v4.`);\n            this.config = config;\n        }\n    }\n    addListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        Object.defineProperty(p, 'remove', {\n            value: async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            },\n        });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data) {\n        const listeners = this.listeners[eventName];\n        if (listeners) {\n            listeners.forEach(listener => listener(data));\n        }\n    }\n    hasListeners(eventName) {\n        return !!this.listeners[eventName].length;\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: event => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n}\n\nconst WebView = /*#__PURE__*/ registerPlugin('WebView');\n/******** END WEB VIEW PLUGIN ********/\n/******** COOKIES PLUGIN ********/\n/**\n * Safely web encode a string value (inspired by js-cookie)\n * @param str The string value to encode\n */\nconst encode = (str) => encodeURIComponent(str)\n    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n    .replace(/[()]/g, escape);\n/**\n * Safely web decode a string value (inspired by js-cookie)\n * @param str The string value to decode\n */\nconst decode = (str) => str.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\nclass CapacitorCookiesPluginWeb extends WebPlugin {\n    async getCookies() {\n        const cookies = document.cookie;\n        const cookieMap = {};\n        cookies.split(';').forEach(cookie => {\n            if (cookie.length <= 0)\n                return;\n            // Replace first \"=\" with CAP_COOKIE to prevent splitting on additional \"=\"\n            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');\n            key = decode(key).trim();\n            value = decode(value).trim();\n            cookieMap[key] = value;\n        });\n        return cookieMap;\n    }\n    async setCookie(options) {\n        try {\n            // Safely Encoded Key/Value\n            const encodedKey = encode(options.key);\n            const encodedValue = encode(options.value);\n            // Clean & sanitize options\n            const expires = `; expires=${(options.expires || '').replace('expires=', '')}`; // Default is \"; expires=\"\n            const path = (options.path || '/').replace('path=', ''); // Default is \"path=/\"\n            const domain = options.url != null && options.url.length > 0\n                ? `domain=${options.url}`\n                : '';\n            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async deleteCookie(options) {\n        try {\n            document.cookie = `${options.key}=; Max-Age=0`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearCookies() {\n        try {\n            const cookies = document.cookie.split(';') || [];\n            for (const cookie of cookies) {\n                document.cookie = cookie\n                    .replace(/^ +/, '')\n                    .replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearAllCookies() {\n        try {\n            await this.clearCookies();\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n}\nconst CapacitorCookies = registerPlugin('CapacitorCookies', {\n    web: () => new CapacitorCookiesPluginWeb(),\n});\n// UTILITY FUNCTIONS\n/**\n * Read in a Blob value and return it as a base64 string\n * @param blob The blob value to convert to a base64 string\n */\nconst readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n        const base64String = reader.result;\n        // remove prefix \"data:application/pdf;base64,\"\n        resolve(base64String.indexOf(',') >= 0\n            ? base64String.split(',')[1]\n            : base64String);\n    };\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(blob);\n});\n/**\n * Normalize an HttpHeaders map by lowercasing all of the values\n * @param headers The HttpHeaders object to normalize\n */\nconst normalizeHttpHeaders = (headers = {}) => {\n    const originalKeys = Object.keys(headers);\n    const loweredKeys = Object.keys(headers).map(k => k.toLocaleLowerCase());\n    const normalized = loweredKeys.reduce((acc, key, index) => {\n        acc[key] = headers[originalKeys[index]];\n        return acc;\n    }, {});\n    return normalized;\n};\n/**\n * Builds a string of url parameters that\n * @param params A map of url parameters\n * @param shouldEncode true if you should encodeURIComponent() the values (true by default)\n */\nconst buildUrlParams = (params, shouldEncode = true) => {\n    if (!params)\n        return null;\n    const output = Object.entries(params).reduce((accumulator, entry) => {\n        const [key, value] = entry;\n        let encodedValue;\n        let item;\n        if (Array.isArray(value)) {\n            item = '';\n            value.forEach(str => {\n                encodedValue = shouldEncode ? encodeURIComponent(str) : str;\n                item += `${key}=${encodedValue}&`;\n            });\n            // last character will always be \"&\" so slice it off\n            item.slice(0, -1);\n        }\n        else {\n            encodedValue = shouldEncode ? encodeURIComponent(value) : value;\n            item = `${key}=${encodedValue}`;\n        }\n        return `${accumulator}&${item}`;\n    }, '');\n    // Remove initial \"&\" from the reduce\n    return output.substr(1);\n};\n/**\n * Build the RequestInit object based on the options passed into the initial request\n * @param options The Http plugin options\n * @param extra Any extra RequestInit values\n */\nconst buildRequestInit = (options, extra = {}) => {\n    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);\n    // Get the content-type\n    const headers = normalizeHttpHeaders(options.headers);\n    const type = headers['content-type'] || '';\n    // If body is already a string, then pass it through as-is.\n    if (typeof options.data === 'string') {\n        output.body = options.data;\n    }\n    // Build request initializers based off of content-type\n    else if (type.includes('application/x-www-form-urlencoded')) {\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(options.data || {})) {\n            params.set(key, value);\n        }\n        output.body = params.toString();\n    }\n    else if (type.includes('multipart/form-data') ||\n        options.data instanceof FormData) {\n        const form = new FormData();\n        if (options.data instanceof FormData) {\n            options.data.forEach((value, key) => {\n                form.append(key, value);\n            });\n        }\n        else {\n            for (const key of Object.keys(options.data)) {\n                form.append(key, options.data[key]);\n            }\n        }\n        output.body = form;\n        const headers = new Headers(output.headers);\n        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary\n        output.headers = headers;\n    }\n    else if (type.includes('application/json') ||\n        typeof options.data === 'object') {\n        output.body = JSON.stringify(options.data);\n    }\n    return output;\n};\n// WEB IMPLEMENTATION\nclass CapacitorHttpPluginWeb extends WebPlugin {\n    /**\n     * Perform an Http request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async request(options) {\n        const requestInit = buildRequestInit(options, options.webFetchExtra);\n        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);\n        const url = urlParams ? `${options.url}?${urlParams}` : options.url;\n        const response = await fetch(url, requestInit);\n        const contentType = response.headers.get('content-type') || '';\n        // Default to 'text' responseType so no parsing happens\n        let { responseType = 'text' } = response.ok ? options : {};\n        // If the response content-type is json, force the response to be json\n        if (contentType.includes('application/json')) {\n            responseType = 'json';\n        }\n        let data;\n        let blob;\n        switch (responseType) {\n            case 'arraybuffer':\n            case 'blob':\n                blob = await response.blob();\n                data = await readBlobAsBase64(blob);\n                break;\n            case 'json':\n                data = await response.json();\n                break;\n            case 'document':\n            case 'text':\n            default:\n                data = await response.text();\n        }\n        // Convert fetch headers to Capacitor HttpHeaders\n        const headers = {};\n        response.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            data,\n            headers,\n            status: response.status,\n            url: response.url,\n        };\n    }\n    /**\n     * Perform an Http GET request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async get(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));\n    }\n    /**\n     * Perform an Http POST request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async post(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));\n    }\n    /**\n     * Perform an Http PUT request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async put(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));\n    }\n    /**\n     * Perform an Http PATCH request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async patch(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));\n    }\n    /**\n     * Perform an Http DELETE request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async delete(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));\n    }\n}\nconst CapacitorHttp = registerPlugin('CapacitorHttp', {\n    web: () => new CapacitorHttpPluginWeb(),\n});\n/******** END HTTP PLUGIN ********/\n\nexport { Capacitor, CapacitorCookies, CapacitorException, CapacitorHttp, CapacitorPlatforms, ExceptionCode, Plugins, WebPlugin, WebView, addPlatform, buildRequestInit, registerPlugin, registerWebPlugin, setPlatform };\n//# sourceMappingURL=index.js.map\n","import { registerPlugin } from '@capacitor/core';\nconst Preferences = registerPlugin('Preferences', {\n    web: () => import('./web').then(m => new m.PreferencesWeb()),\n});\nexport * from './definitions';\nexport { Preferences };\n//# sourceMappingURL=index.js.map","import { openDB, DBSchema, IDBPDatabase } from 'idb';\n\n// ============================================================================\n// SCHMA DE BASE DE DONNES\n// ============================================================================\n\ninterface KBVDBSchema extends DBSchema {\n  appData: {\n    key: string;\n    value: any;\n  };\n  encrypted: {\n    key: string;\n    value: {\n      data: string;\n      iv: string;\n      salt: string;\n    };\n  };\n}\n\nconst DB_NAME = 'kbv-lyon-db';\nconst DB_VERSION = 1;\n\nlet dbInstance: IDBPDatabase<KBVDBSchema> | null = null;\n\n// ============================================================================\n// INITIALISATION DE LA BASE DE DONNES\n// ============================================================================\n\nasync function getDB(): Promise<IDBPDatabase<KBVDBSchema>> {\n  if (dbInstance) {\n    return dbInstance;\n  }\n\n  dbInstance = await openDB<KBVDBSchema>(DB_NAME, DB_VERSION, {\n    upgrade(db) {\n      // Store pour les donnes non chiffres\n      if (!db.objectStoreNames.contains('appData')) {\n        db.createObjectStore('appData');\n      }\n\n      // Store pour les donnes chiffres\n      if (!db.objectStoreNames.contains('encrypted')) {\n        db.createObjectStore('encrypted');\n      }\n    },\n  });\n\n  return dbInstance;\n}\n\n// ============================================================================\n// FONCTIONS CRUD\n// ============================================================================\n\nexport async function get<T = any>(key: string): Promise<T | undefined> {\n  try {\n    const db = await getDB();\n    return await db.get('appData', key);\n  } catch (error) {\n    console.error('Error reading from IndexedDB:', error);\n    return undefined;\n  }\n}\n\nexport async function set(key: string, value: any): Promise<void> {\n  try {\n    const db = await getDB();\n    await db.put('appData', value, key);\n  } catch (error) {\n    console.error('Error writing to IndexedDB:', error);\n    throw error;\n  }\n}\n\nexport async function del(key: string): Promise<void> {\n  try {\n    const db = await getDB();\n    await db.delete('appData', key);\n  } catch (error) {\n    console.error('Error deleting from IndexedDB:', error);\n    throw error;\n  }\n}\n\nexport async function clear(): Promise<void> {\n  try {\n    const db = await getDB();\n    await db.clear('appData');\n    await db.clear('encrypted');\n  } catch (error) {\n    console.error('Error clearing IndexedDB:', error);\n    throw error;\n  }\n}\n\nexport async function keys(): Promise<IDBValidKey[]> {\n  try {\n    const db = await getDB();\n    return await db.getAllKeys('appData');\n  } catch (error) {\n    console.error('Error getting keys from IndexedDB:', error);\n    return [];\n  }\n}\n\n// ============================================================================\n// FONCTIONS POUR DONNES CHIFFRES\n// ============================================================================\n\nexport async function getEncrypted(key: string) {\n  try {\n    const db = await getDB();\n    return await db.get('encrypted', key);\n  } catch (error) {\n    console.error('Error reading encrypted data from IndexedDB:', error);\n    return undefined;\n  }\n}\n\nexport async function setEncrypted(\n  key: string,\n  value: { data: string; iv: string; salt: string }\n): Promise<void> {\n  try {\n    const db = await getDB();\n    await db.put('encrypted', value, key);\n  } catch (error) {\n    console.error('Error writing encrypted data to IndexedDB:', error);\n    throw error;\n  }\n}\n\nexport async function delEncrypted(key: string): Promise<void> {\n  try {\n    const db = await getDB();\n    await db.delete('encrypted', key);\n  } catch (error) {\n    console.error('Error deleting encrypted data from IndexedDB:', error);\n    throw error;\n  }\n}\n\n// ============================================================================\n// MIGRATION DEPUIS LOCALSTORAGE\n// ============================================================================\n\nexport async function migrateFromLocalStorage(): Promise<void> {\n  try {\n    // Vrifier si des donnes existent dans localStorage\n    const localStorageKeys = ['kbv-app-data', 'kbv-settings'];\n\n    for (const key of localStorageKeys) {\n      const data = localStorage.getItem(key);\n      if (data) {\n        try {\n          const parsed = JSON.parse(data);\n          await set(key, parsed);\n          localStorage.removeItem(key); // Nettoyage\n          console.log(`Migrated ${key} from localStorage to IndexedDB`);\n        } catch (e) {\n          console.error(`Error migrating ${key}:`, e);\n        }\n      }\n    }\n  } catch (error) {\n    console.error('Error during migration:', error);\n  }\n}\n\n// ============================================================================\n// EXPORT/IMPORT\n// ============================================================================\n\nexport async function exportAll(): Promise<Record<string, any>> {\n  try {\n    const db = await getDB();\n    const allKeys = await db.getAllKeys('appData');\n    const result: Record<string, any> = {};\n\n    for (const key of allKeys) {\n      const value = await db.get('appData', key);\n      result[key as string] = value;\n    }\n\n    return result;\n  } catch (error) {\n    console.error('Error exporting data:', error);\n    return {};\n  }\n}\n\nexport async function importAll(data: Record<string, any>): Promise<void> {\n  try {\n    const db = await getDB();\n    const tx = db.transaction('appData', 'readwrite');\n\n    for (const [key, value] of Object.entries(data)) {\n      await tx.store.put(value, key);\n    }\n\n    await tx.done;\n  } catch (error) {\n    console.error('Error importing data:', error);\n    throw error;\n  }\n}\n","import { Preferences } from '@capacitor/preferences';\nimport { Capacitor } from '@capacitor/core';\nimport * as idb from './idb';\n\n// ============================================================================\n// STOCKAGE HYBRIDE : Capacitor Preferences (mobile) + IndexedDB (web)\n// ============================================================================\n\nconst isNativePlatform = Capacitor.isNativePlatform();\n\nexport async function get<T = any>(key: string): Promise<T | undefined> {\n  try {\n    if (isNativePlatform) {\n      // Mobile : utiliser Capacitor Preferences (persistant entre installations)\n      const { value } = await Preferences.get({ key });\n      return value ? JSON.parse(value) : undefined;\n    } else {\n      // Web : utiliser IndexedDB\n      return await idb.get<T>(key);\n    }\n  } catch (error) {\n    console.error('Error reading from storage:', error);\n    return undefined;\n  }\n}\n\nexport async function set(key: string, value: any): Promise<void> {\n  try {\n    if (isNativePlatform) {\n      // Mobile : utiliser Capacitor Preferences\n      await Preferences.set({\n        key,\n        value: JSON.stringify(value),\n      });\n    } else {\n      // Web : utiliser IndexedDB\n      await idb.set(key, value);\n    }\n  } catch (error) {\n    console.error('Error writing to storage:', error);\n    throw error;\n  }\n}\n\nexport async function del(key: string): Promise<void> {\n  try {\n    if (isNativePlatform) {\n      await Preferences.remove({ key });\n    } else {\n      await idb.del(key);\n    }\n  } catch (error) {\n    console.error('Error deleting from storage:', error);\n    throw error;\n  }\n}\n\nexport async function clear(): Promise<void> {\n  try {\n    if (isNativePlatform) {\n      await Preferences.clear();\n    } else {\n      await idb.clear();\n    }\n  } catch (error) {\n    console.error('Error clearing storage:', error);\n    throw error;\n  }\n}\n\nexport async function keys(): Promise<string[]> {\n  try {\n    if (isNativePlatform) {\n      const { keys } = await Preferences.keys();\n      return keys;\n    } else {\n      const idbKeys = await idb.keys();\n      return idbKeys.map((k) => String(k));\n    }\n  } catch (error) {\n    console.error('Error getting keys from storage:', error);\n    return [];\n  }\n}\n\n// ============================================================================\n// MIGRATION DEPUIS INDEXEDDB VERS CAPACITOR PREFERENCES\n// ============================================================================\n\nexport async function migrateToCapacitor(): Promise<void> {\n  if (!isNativePlatform) return;\n\n  try {\n    console.log(' Migration vers Capacitor Preferences...');\n\n    // Vrifier si dj migr\n    const { value: migrated } = await Preferences.get({ key: 'migration-completed' });\n    if (migrated === 'true') {\n      console.log(' Migration dj effectue');\n      return;\n    }\n\n    // Tenter de rcuprer les donnes depuis IndexedDB\n    const appData = await idb.get('kbv-app-data');\n\n    if (appData) {\n      console.log(' Donnes trouves dans IndexedDB, migration...');\n      await Preferences.set({\n        key: 'kbv-app-data',\n        value: JSON.stringify(appData),\n      });\n      console.log(' Donnes migres vers Capacitor Preferences');\n    }\n\n    // Marquer la migration comme termine\n    await Preferences.set({ key: 'migration-completed', value: 'true' });\n    console.log(' Migration termine');\n  } catch (error) {\n    console.error(' Erreur lors de la migration:', error);\n  }\n}\n\n// ============================================================================\n// EXPORT/IMPORT\n// ============================================================================\n\nexport async function exportAll(): Promise<Record<string, any>> {\n  try {\n    if (isNativePlatform) {\n      const { keys: allKeys } = await Preferences.keys();\n      const result: Record<string, any> = {};\n\n      for (const key of allKeys) {\n        const { value } = await Preferences.get({ key });\n        if (value) {\n          try {\n            result[key] = JSON.parse(value);\n          } catch {\n            result[key] = value;\n          }\n        }\n      }\n\n      return result;\n    } else {\n      return await idb.exportAll();\n    }\n  } catch (error) {\n    console.error('Error exporting data:', error);\n    return {};\n  }\n}\n\nexport async function importAll(data: Record<string, any>): Promise<void> {\n  try {\n    if (isNativePlatform) {\n      for (const [key, value] of Object.entries(data)) {\n        await Preferences.set({\n          key,\n          value: typeof value === 'string' ? value : JSON.stringify(value),\n        });\n      }\n    } else {\n      await idb.importAll(data);\n    }\n  } catch (error) {\n    console.error('Error importing data:', error);\n    throw error;\n  }\n}\n","// Donnes compltes intgres directement dans le code\r\n// Remplacement du fichier JSON externe pour viter les problmes de chargement\r\nimport { Speaker, Host, Visit, AppData } from '@/types';\r\n\r\nexport const completeSpeakers: Speaker[] = [\r\n  {\r\n    id: '20cf8a63-fdaf-47e3-b97c-91620dd84aa5',\r\n    nom: 'Alexis CARVALHO',\r\n    congregation: 'Lyon KBV',\r\n    talkHistory: [],\r\n    telephone: '33644556677',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'e57d2815-9243-43dc-8c30-2c005bb634b6',\r\n    nom: 'Jos DA SILVA',\r\n    congregation: 'Creil KBV',\r\n    talkHistory: [],\r\n    telephone: '33618772533',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '42a6f62f-ab1d-433c-b904-e8410be161da',\r\n    nom: 'Joo CECCON',\r\n    congregation: 'Villiers KBV',\r\n    talkHistory: [],\r\n    telephone: '33601234567',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'e7329611-a781-4c2d-9108-292f5ac46140',\r\n    nom: 'Marcelino DOS SANTOS',\r\n    congregation: 'Plaisir KBV',\r\n    talkHistory: [],\r\n    telephone: '33650015128',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '3f8dea73-8938-40e8-a078-076b6a558027',\r\n    nom: 'David MOREIRA',\r\n    congregation: 'Ettelbruck KBV',\r\n    talkHistory: [],\r\n    telephone: '352621386797',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '553c3a68-b1ef-4df5-8871-43b99fbf42a4',\r\n    nom: 'Jrmy TORRES',\r\n    congregation: 'Lyon KBV',\r\n    talkHistory: [],\r\n    telephone: '33690123456',\r\n    notes: 'Allergique aux chats.',\r\n    tags: ['allergie-chat'],\r\n    isVehiculed: false,\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '25dca6c4-1fed-4fce-887c-65b96a40f28d',\r\n    nom: 'Valdir DIOGO',\r\n    congregation: 'Porto KBV',\r\n    talkHistory: [],\r\n    telephone: '33677788899',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '7936761b-b511-44be-a01b-bd5bccdede3c',\r\n    nom: 'Eddy SILVA',\r\n    congregation: 'Ettelbruck KBV',\r\n    talkHistory: [],\r\n    telephone: '352691574935',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '053ca376-e7aa-47c9-9b33-d0bca7494768',\r\n    nom: 'Moises CALDES',\r\n    congregation: 'Cannes KBV',\r\n    talkHistory: [],\r\n    telephone: '33627826869',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'a9451c50-d7c2-4416-8259-066296f2ecab',\r\n    nom: 'Luis FARIA',\r\n    congregation: 'Plaisir KBV',\r\n    talkHistory: [],\r\n    telephone: '33670748952',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '0eb3c29f-9791-4265-9563-d7bbef525580',\r\n    nom: 'Jonat ALVES',\r\n    congregation: 'Albufeira KBV',\r\n    talkHistory: [],\r\n    telephone: '',\r\n    tags: ['zoom', 'expriment'],\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'c9065ffa-0244-47fd-a70f-0efb2555258a',\r\n    nom: 'Jos FREITAS',\r\n    congregation: 'Lyon KBV',\r\n    talkHistory: [],\r\n    telephone: '33666789012',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '63c087de-6e53-46b3-9816-bda7230f7686',\r\n    nom: 'Jos BATALHA',\r\n    congregation: 'Marseille KBV',\r\n    talkHistory: [],\r\n    telephone: '33618505292',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '504e24a7-1609-4f62-b374-4ae004b36350',\r\n    nom: 'Andrea MENARA',\r\n    congregation: 'Ettelbruck KBV',\r\n    talkHistory: [],\r\n    telephone: '352691295018',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '6aa0b56f-ac1a-4edb-982e-12fd97a0455c',\r\n    nom: 'Octvio PEREIRA',\r\n    congregation: 'St Denis KBV',\r\n    talkHistory: [],\r\n    telephone: '',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '7d4dd9d4-afe8-4127-a1d5-f0e5adcada16',\r\n    nom: 'Joo Paulo BAPTISTA',\r\n    congregation: 'Lyon KBV',\r\n    talkHistory: [],\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'db815d92-7229-4ce8-a105-6c0b9798bed2',\r\n    nom: 'Gilberto FERNANDES',\r\n    congregation: 'St Denis KBV',\r\n    talkHistory: [],\r\n    telephone: '33769017274',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '88fa236c-50e6-4e95-9d15-2a296cfb6343',\r\n    nom: 'David DE FARIA',\r\n    congregation: 'Villiers-sur-Marne',\r\n    talkHistory: [],\r\n    telephone: '33677889900',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'bdea9e8b-a93b-4009-85d5-d6118bdde064',\r\n    nom: 'Thomas FREITAS',\r\n    congregation: 'Lyon KBV',\r\n    talkHistory: [],\r\n    telephone: '33666677788',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '5279a09a-6c18-4a17-98f7-67d317a826cb',\r\n    nom: 'Miguel SILVA',\r\n    congregation: 'Steinsel KBV',\r\n    talkHistory: [],\r\n    telephone: '352621651610',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'e43b0fc5-a73c-46f6-b9bd-8983a80b8023',\r\n    nom: 'David LUCIO',\r\n    congregation: 'Porto KBV',\r\n    talkHistory: [],\r\n    telephone: '351960413461',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '3935f4d9-2731-44ff-b2bc-81956212d4f1',\r\n    nom: 'Ricardo PASCOAL',\r\n    congregation: 'Streaming',\r\n    talkHistory: [],\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '85936cd3-4ccc-41aa-9558-0fb2fe14eb5c',\r\n    nom: 'Dimitri GIVAC',\r\n    congregation: 'Marseille KBV',\r\n    talkHistory: [],\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'b6bb602e-dc9d-4750-af29-8a61831b79cc',\r\n    nom: 'Mario MIRANDA',\r\n    congregation: 'Cannes KBV',\r\n    talkHistory: [],\r\n    telephone: '33615879709',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '81ee3039-4399-44b9-aeaa-e1331d069e41',\r\n    nom: 'Gianni FARIA',\r\n    congregation: 'Plaisir KBV',\r\n    talkHistory: [],\r\n    telephone: '33698657173',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: 'ce4c60b0-0c39-4a1e-82e0-47c7b28fb7e0',\r\n    nom: 'Matthieu DHALENNE',\r\n    congregation: 'Steinsel KBV',\r\n    talkHistory: [],\r\n    telephone: '33628253599',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '7e03165a-a773-47fc-b2fd-9d81c1afb4d1',\r\n    nom: 'Franois GIANNINO',\r\n    congregation: 'St Denis KBV',\r\n    talkHistory: [],\r\n    telephone: '33633891566',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '1',\r\n    nom: 'Ailton DIAS',\r\n    congregation: 'Villiers-sur-Marne',\r\n    talkHistory: [],\r\n    telephone: '33611223344',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '3',\r\n    nom: 'Alexandre NOGUEIRA',\r\n    congregation: 'Creil',\r\n    talkHistory: [],\r\n    telephone: '33612526605',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '5',\r\n    nom: 'Daniel FORTES',\r\n    congregation: 'Villiers-sur-Marne',\r\n    talkHistory: [],\r\n    telephone: '33655667788',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '13',\r\n    nom: 'Fred MARQUES',\r\n    congregation: 'Villiers-sur-Marne',\r\n    talkHistory: [],\r\n    telephone: '33634567890',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '16',\r\n    nom: 'Isaque PEREIRA',\r\n    congregation: 'St Denis KBV',\r\n    talkHistory: [],\r\n    telephone: '33652851904',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '17',\r\n    nom: 'Jean-Paul BATISTA',\r\n    congregation: 'Lyon',\r\n    talkHistory: [],\r\n    telephone: '33678901234',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '18',\r\n    nom: 'Jefersen BOELJIN',\r\n    congregation: 'Rotterdam KBV',\r\n    talkHistory: [],\r\n    telephone: '31618513034',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '57',\r\n    nom: 'Jeje ou JP',\r\n    congregation: '',\r\n    talkHistory: [],\r\n    telephone: '',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '21',\r\n    nom: 'Joo-Paulo BAPTISTA',\r\n    congregation: 'Lyon KBV',\r\n    talkHistory: [],\r\n    telephone: '33611234567',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '22',\r\n    nom: 'Joel CARDOSO',\r\n    congregation: 'Nice KBV',\r\n    talkHistory: [],\r\n    telephone: '33658943038',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '23',\r\n    nom: 'Jorge GONALVES',\r\n    congregation: 'Porto KBV',\r\n    talkHistory: [],\r\n    telephone: '33633456789',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '45',\r\n    nom: 'Jos BARBOSA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '352661931153',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '25',\r\n    nom: 'Jos DA SILVA',\r\n    congregation: 'Creil KBV',\r\n    talkHistory: [],\r\n    telephone: '33618772533',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '52',\r\n    nom: 'Jos FERNANDES',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33661881589',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '64',\r\n    nom: 'JP BAPTISTA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '50',\r\n    nom: 'Jlio TAVARES',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '352621510176',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '39',\r\n    nom: 'Lionel ALMEIDA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33632461762',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '27',\r\n    nom: 'Luis CARDOSO',\r\n    congregation: 'Nice KBV',\r\n    talkHistory: [],\r\n    telephone: '33669519131',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '29',\r\n    nom: 'Manuel ANTUNES',\r\n    congregation: 'Villiers KBV',\r\n    talkHistory: [],\r\n    telephone: '33670872232',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '35',\r\n    nom: 'Santiago MONIZ',\r\n    congregation: 'Esch',\r\n    talkHistory: [],\r\n    telephone: '352691253068',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '43',\r\n    nom: 'Benvindo SILVA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '352691453468',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '47',\r\n    nom: 'Joo CUSTEIRA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '41799014137',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '48',\r\n    nom: 'Tiago FERNANDES',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33645678901',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '49',\r\n    nom: 'Carlos MENDONA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33656789012',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '51',\r\n    nom: 'Pedro ALMEIDA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33678901234',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '54',\r\n    nom: 'Patrick SOUSA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '31640081710',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '55',\r\n    nom: 'Franck BHAGOOA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33782551793',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '56',\r\n    nom: \"Van'dredi DOMINGOS\",\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '33769111390',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '60',\r\n    nom: 'Paulo COSTA',\r\n    congregation: 'Streaming',\r\n    talkHistory: [],\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '62',\r\n    nom: 'STREAM',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '63',\r\n    nom: 'Rmy CAPELA',\r\n    congregation: ' dfinir',\r\n    talkHistory: [],\r\n    telephone: '',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '2',\r\n    nom: 'Alain CURTIS',\r\n    congregation: 'Marseille KBV',\r\n    talkHistory: [],\r\n    telephone: '33606630000',\r\n    notes:\r\n      \"Prfre un repas lger le soir. Pas d'hbergement ncessaire, a de la famille  proximit.\",\r\n    tags: ['sans escaliers', 'calme'],\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '6',\r\n    nom: 'Dany TAVARES',\r\n    congregation: 'Plaisir KBV',\r\n    talkHistory: [],\r\n    telephone: '33668121101',\r\n    gender: 'male',\r\n  },\r\n  {\r\n    id: '10',\r\n    nom: 'David VIEIRA',\r\n    congregation: 'Villiers KBV',\r\n    talkHistory: [],\r\n    telephone: '33771670140',\r\n    gender: 'male',\r\n  },\r\n];\r\n\r\nexport const completeHosts: Host[] = [\r\n  {\r\n    nom: 'Jean-Paul Batista',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: '182 Avenue Felix Faure, 69003',\r\n    notes: \"Logement en centre-ville, idal pour orateur sans voiture. Pas d'animaux.\",\r\n    unavailableDates: [],\r\n    tags: ['centre-ville', 'sans-animaux'],\r\n  },\r\n  {\r\n    nom: 'Suzy',\r\n    telephone: '',\r\n    gender: 'female',\r\n    address: '14 bis Monte des Roches, 69009',\r\n    unavailableDates: [],\r\n    tags: ['calme'],\r\n  },\r\n  {\r\n    nom: 'Alexis',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: '13 Avenue Debrousse, 69005',\r\n    unavailableDates: [],\r\n  },\r\n  {\r\n    nom: 'Andra',\r\n    telephone: '',\r\n    gender: 'female',\r\n    address: '25c Rue Georges Courteline, Villeurbanne',\r\n    unavailableDates: [],\r\n  },\r\n  {\r\n    nom: 'Dara & Lia',\r\n    telephone: '',\r\n    gender: 'couple',\r\n    address: '16 Rue Imbert Colomes, 69001',\r\n    unavailableDates: [],\r\n    tags: ['proche salle', 'escaliers'],\r\n  },\r\n  {\r\n    nom: 'Jos Freitas',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: '27 Av Marchal Foch, 69110',\r\n    notes: 'Possde un chat. Idal pour un orateur seul.',\r\n    unavailableDates: [],\r\n    tags: ['animaux', 'chat'],\r\n  },\r\n  {\r\n    nom: 'Paulo Martins',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: '18 Rue des Soeurs Bouviers, 69005',\r\n    unavailableDates: [],\r\n    tags: ['escaliers'],\r\n  },\r\n  {\r\n    nom: 'Ftima',\r\n    telephone: '',\r\n    gender: 'female',\r\n    address: '9 Chemin de la Vire, Caluire',\r\n    unavailableDates: [],\r\n  },\r\n  {\r\n    nom: 'Sanches',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: \"132 Av. L'Aqueduc de Beaunant, 69110 Ste Foy\",\r\n    unavailableDates: [],\r\n    tags: ['sans escaliers'],\r\n  },\r\n  {\r\n    nom: 'Torres',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: \"15 Cours Rouget de l'Isle, Rillieux\",\r\n    notes: 'Famille avec jeunes enfants, trs accueillants.',\r\n    unavailableDates: [],\r\n    tags: ['enfants'],\r\n  },\r\n  {\r\n    nom: 'Nathalie',\r\n    telephone: '',\r\n    gender: 'female',\r\n    address: '86 Rue Pierre Delore, 69008',\r\n    unavailableDates: [],\r\n  },\r\n  {\r\n    nom: 'Francisco Pinto',\r\n    telephone: '',\r\n    gender: 'male',\r\n    address: '20 Rue Professeur Patel, 69009',\r\n    unavailableDates: [],\r\n  },\r\n];\r\n\r\nexport const completeVisits: Visit[] = [\r\n  {\r\n    id: '20cf8a63-fdaf-47e3-b97c-91620dd84aa5',\r\n    nom: 'Alexis CARVALHO',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33644556677',\r\n    visitId: 'e2266ee3-a917-4594-9fea-f27ac8aa3027',\r\n    visitDate: '2026-06-20',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'e57d2815-9243-43dc-8c30-2c005bb634b6',\r\n    nom: 'Jos DA SILVA',\r\n    congregation: 'Creil KBV',\r\n    telephone: '33618772533',\r\n    visitId: '7ccf205e-5254-46ef-b3a3-53b53ed3562d',\r\n    visitDate: '2026-01-10',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '179',\r\n    talkTheme: 'Nega iluzon di mundu, sforsa pa kes kuza di Reinu ki ta izisti di verdadi',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '42a6f62f-ab1d-433c-b904-e8410be161da',\r\n    nom: 'Joo CECCON',\r\n    congregation: 'Villiers KBV',\r\n    telephone: '33601234567',\r\n    visitId: '2a9cdc34-39a1-4596-a338-e7ac38ec5973',\r\n    visitDate: '2026-01-17',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '1',\r\n    talkTheme: 'Bu konxe Deus dretu?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'e7329611-a781-4c2d-9108-292f5ac46140',\r\n    nom: 'Marcelino DOS SANTOS',\r\n    congregation: 'Plaisir KBV',\r\n    telephone: '33650015128',\r\n    visitId: '3b83312d-a77d-44d2-9153-fee33e49b561',\r\n    visitDate: '2026-01-24',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '100',\r\n    talkTheme: 'Vida  s kel-li?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '3f8dea73-8938-40e8-a078-076b6a558027',\r\n    nom: 'David MOREIRA',\r\n    congregation: 'Ettelbruck KBV',\r\n    telephone: '352621386797',\r\n    visitId: '6bd8ba00-88b3-41ea-acb1-b5ac0cb1283a',\r\n    visitDate: '2026-01-31',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '56',\r\n    talkTheme: 'Na ki lider ki bu pode kunfia?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '553c3a68-b1ef-4df5-8871-43b99fbf42a4',\r\n    nom: 'Jrmy TORRES',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33690123456',\r\n    visitId: 'd990f876-cb38-443a-b6b9-e011041169db',\r\n    visitDate: '2026-02-07',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '76',\r\n    talkTheme: 'Obi i kunpri Palavra di Deus',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '25dca6c4-1fed-4fce-887c-65b96a40f28d',\r\n    nom: 'Valdir DIOGO',\r\n    congregation: 'Porto KBV',\r\n    telephone: '33677788899',\r\n    visitId: 'e6305b68-65cb-4383-90ec-fb170f1d9b10',\r\n    visitDate: '2026-02-14',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '189',\r\n    talkTheme: 'Anda ku Deus ta traze-nu bensons gosi i pa tudu tmpu',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '7936761b-b511-44be-a01b-bd5bccdede3c',\r\n    nom: 'Eddy SILVA',\r\n    congregation: 'Ettelbruck KBV',\r\n    telephone: '352691574935',\r\n    visitId: 'a88c6ed9-ea3c-45a8-9765-83191c17aee9',\r\n    visitDate: '2026-02-28',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '9',\r\n    talkTheme: 'Obi i kunpri Palavra di Deus',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '053ca376-e7aa-47c9-9b33-d0bca7494768',\r\n    nom: 'Moises CALDES',\r\n    congregation: 'Cannes KBV',\r\n    telephone: '33627826869',\r\n    visitId: 'dc239ab0-5471-4ec4-acfc-9ad3961cf372',\r\n    visitDate: '2026-03-07',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '183',\r\n    talkTheme: 'Tra odju di kuzas ki ka ten valor!',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'a9451c50-d7c2-4416-8259-066296f2ecab',\r\n    nom: 'Luis FARIA',\r\n    congregation: 'Plaisir KBV',\r\n    telephone: '33670748952',\r\n    visitId: '7da2b991-41c3-47f1-9668-049e19b26aa3',\r\n    visitDate: '2026-03-14',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: 'Bu sta ta anda ku organizason unidu di Jeov?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '0eb3c29f-9791-4265-9563-d7bbef525580',\r\n    nom: 'Jonat ALVES',\r\n    congregation: 'Albufeira KBV',\r\n    telephone: '',\r\n    visitId: '033b2e5c-1bb1-4156-a36a-336d49096e0b',\r\n    visitDate: '2026-03-21',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'zoom',\r\n    talkNoOrType: '11',\r\n    talkTheme: \"Sima Jizus, nu 'ka ta faze prti di mundu'\",\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'c9065ffa-0244-47fd-a70f-0efb2555258a',\r\n    nom: 'Jos FREITAS',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33666789012',\r\n    visitId: 'e5d42858-a273-414e-9318-0ba94a8ed007',\r\n    visitDate: '2026-03-28',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '63c087de-6e53-46b3-9816-bda7230f7686',\r\n    nom: 'Jos BATALHA',\r\n    congregation: 'Marseille KBV',\r\n    telephone: '33618505292',\r\n    visitId: '79672ce1-7cec-4953-a2e7-4a6599a6cb28',\r\n    visitDate: '2026-04-04',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '18',\r\n    talkTheme: 'Faze Jeov bu fortalza',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '504e24a7-1609-4f62-b374-4ae004b36350',\r\n    nom: 'Andrea MENARA',\r\n    congregation: 'Ettelbruck KBV',\r\n    telephone: '352691295018',\r\n    visitId: '97e6e882-cdd7-4008-805e-98b1c1d0c85e',\r\n    visitDate: '2026-04-11',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '103',\r\n    talkTheme: 'Modi ki bu pode xinti alegria di verdadi?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '6aa0b56f-ac1a-4edb-982e-12fd97a0455c',\r\n    nom: 'Octvio PEREIRA',\r\n    congregation: 'St Denis KBV',\r\n    telephone: '',\r\n    visitId: 'd95ad8fd-a1e4-4e88-a70d-f9e3fb273e29',\r\n    visitDate: '2026-04-25',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '186',\r\n    talkTheme: 'Faze vontadi di Deus djuntu ku se povu fils',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '7d4dd9d4-afe8-4127-a1d5-f0e5adcada16',\r\n    nom: 'Joo Paulo BAPTISTA',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '',\r\n    visitId: '5bcdf86f-46a0-4274-bdb5-78c13ef27564',\r\n    visitDate: '2026-05-09',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '61',\r\n    talkTheme: 'Na promsas di kenha ki bu ta kunfia?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'db815d92-7229-4ce8-a105-6c0b9798bed2',\r\n    nom: 'Gilberto FERNANDES',\r\n    congregation: 'St Denis KBV',\r\n    telephone: '33769017274',\r\n    visitId: '193da16e-195a-4e6a-a336-aab18ba8123c',\r\n    visitDate: '2026-05-16',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '88fa236c-50e6-4e95-9d15-2a296cfb6343',\r\n    nom: 'David DE FARIA',\r\n    congregation: 'Villiers-sur-Marne',\r\n    telephone: '33677889900',\r\n    visitId: '63e468dd-196d-4743-827b-58747993e31b',\r\n    visitDate: '2026-05-23',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'bdea9e8b-a93b-4009-85d5-d6118bdde064',\r\n    nom: 'Thomas FREITAS',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33666677788',\r\n    visitId: '8be2c3eb-1dc6-4ee8-a77a-dc3f89c7c147',\r\n    visitDate: '2026-06-06',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '31',\r\n    talkTheme: 'Bu ten konsnsia ma bu ten nisisidadi spritual?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '5279a09a-6c18-4a17-98f7-67d317a826cb',\r\n    nom: 'Miguel SILVA',\r\n    congregation: 'Steinsel KBV',\r\n    telephone: '352621651610',\r\n    visitId: 'd183efa8-34ab-430e-a81b-d19c8ddc94d2',\r\n    visitDate: '2026-06-13',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '65',\r\n    talkTheme: 'Modi ki nu pode luta pa pas na un mundu xeiu di diu',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '29',\r\n    nom: 'Manuel ANTUNES',\r\n    congregation: 'Villiers KBV',\r\n    telephone: '33670872232',\r\n    visitId: '51165870-29cc-40c0-a88c-d29bbe231531',\r\n    visitDate: '2025-01-19',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '77',\r\n    talkTheme: \"'Nhos mostra snpri ma nhos sabe resebe algen dretu'\",\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '6',\r\n    nom: 'Dany TAVARES',\r\n    congregation: 'Plaisir KBV',\r\n    telephone: '33668121101',\r\n    visitId: '0bf839e9-0ff5-4e2f-8efa-84eeb6ffb1ef',\r\n    visitDate: '2025-05-03',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '32',\r\n    talkTheme: 'Modi ki nu pode lida ku preokupasons di vida',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '24',\r\n    nom: 'Jos BATALHA',\r\n    congregation: 'Marseille KBV',\r\n    telephone: '33618505292',\r\n    visitId: 'c03fc983-6992-4573-85f4-fbcf0436b9dd',\r\n    visitDate: '2025-05-31',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '17',\r\n    talkTheme: 'Da Deus glria ku tudu kel ki bu ten',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '22',\r\n    nom: 'Joel CARDOSO',\r\n    congregation: 'Nice KBV',\r\n    telephone: '33658943038',\r\n    visitId: 'dee0fa7b-ad16-4e4f-bd3d-877485e82f34',\r\n    visitDate: '2025-06-14',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '30',\r\n    talkTheme: 'Modi ki familia pode ppia ku kunpanheru midjr',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '19',\r\n    nom: 'Jrmy TORRES',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33690123456',\r\n    visitId: 'a60b9ce0-3c74-40b6-adea-f3321fd8e31f',\r\n    visitDate: '2025-07-05',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '12',\r\n    talkTheme: 'Deus kr pa bu ruspeta kes ki ren autoridadi',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '10',\r\n    nom: 'David VIEIRA',\r\n    congregation: 'Villiers KBV',\r\n    telephone: '33771670140',\r\n    visitId: 'f76152de-5b27-4456-8731-b87de0acb4f6',\r\n    visitDate: '2025-08-30',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '108',\r\n    talkTheme: 'Bu pode kunfia ma nu ta ben ten un futuru sbi!',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '27',\r\n    nom: 'Luis CARDOSO',\r\n    congregation: 'Nice KBV',\r\n    telephone: '33669519131',\r\n    visitId: 'c0c5a691-2f5e-4926-bdc6-5cf50cfef46d',\r\n    visitDate: '2025-09-06',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '15',\r\n    talkTheme: 'Mostra bondadi pa tudu algen',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '60',\r\n    nom: 'Paulo COSTA',\r\n    congregation: 'Streaming',\r\n    telephone: '',\r\n    visitId: '4681b334-1284-4db3-a514-3bfa758f6e58',\r\n    visitDate: '2025-09-13',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'streaming',\r\n    talkNoOrType: '43',\r\n    talkTheme: 'Kel ki Deus ta fla snpri  midjr pa nos',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '61',\r\n    nom: 'Joo Paulo BAPTISTA',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '',\r\n    visitId: '84edc96a-4869-4ef2-a47d-2956da704679',\r\n    visitDate: '2025-09-27',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: 'DS',\r\n    talkTheme: 'Modi ki gra ta ben kaba ?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '8',\r\n    nom: 'David LUCIO',\r\n    congregation: 'Porto KBV',\r\n    telephone: '351960413461',\r\n    visitId: '0d774cb1-3537-4ead-9d7c-ae69a0c82a37',\r\n    visitDate: '2025-10-04',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '16',\r\n    talkTheme: 'Kontinua ta bira bu amizadi ku Deus ms frti',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '31',\r\n    nom: 'Mario MIRANDA',\r\n    congregation: 'Cannes KBV Zoom',\r\n    telephone: '33615879709',\r\n    visitId: '5f1fb361-cef9-465f-92d7-66e504fab9b5',\r\n    visitDate: '2025-10-25',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'zoom',\r\n    talkNoOrType: '100',\r\n    talkTheme: 'Modi ki nu pode faze bons amizadi',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '15',\r\n    nom: 'Gilberto FERNANDES',\r\n    congregation: 'St Denis KBV',\r\n    telephone: '33769017274',\r\n    visitId: '95f25430-d371-4303-8291-9b05e16f2c67',\r\n    visitDate: '2025-11-01',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '2',\r\n    talkTheme: 'Bu ta skara na tmpu di fin?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '14',\r\n    nom: 'Gianni FARIA',\r\n    congregation: 'Plaisir KBV',\r\n    telephone: '33698657173',\r\n    visitId: '782e566c-5990-4e4e-b913-53884d9a498b',\r\n    visitDate: '2025-11-08',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '26',\r\n    talkTheme: 'Abo  inportanti pa Deus?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'event-62',\r\n    nom: 'Visita do Superintendente de Circuito',\r\n    congregation: ' dfinir',\r\n    telephone: '',\r\n    visitId: '6d8cb3af-b618-4770-8950-782588ee6f18',\r\n    visitDate: '2025-11-15',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'event-63',\r\n    nom: 'Assembleia de Circuito com Representante da Filial',\r\n    congregation: ' dfinir',\r\n    telephone: '',\r\n    visitId: '4a1a4b51-7f78-4750-a16b-4477697fe0cb',\r\n    visitDate: '2025-11-22',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '32',\r\n    nom: 'Matthieu DHALENNE',\r\n    congregation: 'Steinsel KBV',\r\n    telephone: '33628253599',\r\n    visitId: 'e86cbde4-16a9-44dd-9219-f57d9203db0d',\r\n    visitDate: '2025-12-06',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '194',\r\n    talkTheme: 'Modi ki sabedoria di Deus ta djuda-nu',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '12',\r\n    nom: 'Franois GIANNINO',\r\n    congregation: 'St Denis KBV',\r\n    telephone: '33633891566',\r\n    visitId: '18cf1ade-0dfa-4d2d-9dd8-b7612c20e387',\r\n    visitDate: '2025-12-13',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '7',\r\n    talkTheme: 'Imita mizerikordia di Jeov',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'event-64',\r\n    nom: 'Asenbleia ku enkaregadu di grupu di kongregason',\r\n    congregation: ' dfinir',\r\n    telephone: '',\r\n    visitId: '3fc6375c-10fd-4552-8640-1c5251dc4351',\r\n    visitDate: '2025-12-20',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '26',\r\n    nom: 'Jos FREITAS',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33666789012',\r\n    visitId: 'b1cedd2b-4dea-41af-a4d74-ff223e15dce5',\r\n    visitDate: '2025-12-27',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'pending',\r\n    locationType: 'physical',\r\n    talkNoOrType: '55',\r\n    talkTheme: 'Modi ki bu pode faze un bon nmi ki ta agrada Deus?',\r\n    communicationStatus: {},\r\n  },\r\n];\r\n\r\nexport const completeArchivedVisits: Visit[] = [\r\n  {\r\n    id: '62',\r\n    nom: 'STREAM',\r\n    congregation: ' dfinir',\r\n    telephone: '',\r\n    visitId: '2d6df9e8-97f4-4310-909c-6fce1b4ea882',\r\n    visitDate: '2025-09-13',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'streaming',\r\n    talkNoOrType: '43',\r\n    talkTheme: 'Kel ki Deus ta fla snpri  midjr pa nos',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '62',\r\n    nom: 'STREAM',\r\n    congregation: ' dfinir',\r\n    telephone: '',\r\n    visitId: '65159ae2-e241-4cb7-8d9e-948bd8a1678a',\r\n    visitDate: '2025-10-11',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'streaming',\r\n    talkNoOrType: '5',\r\n    talkTheme: 'Kuz ki ta djuda bu famlia ser fils?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '58',\r\n    nom: 'Dimitri GIVAC',\r\n    congregation: 'Marseille KBV',\r\n    telephone: '',\r\n    visitId: 'cb05cac9-9d8e-4178-ad8e-937f918d06b3',\r\n    visitDate: '2025-10-18',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: null,\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '33',\r\n    nom: 'Moises CALDES',\r\n    congregation: 'Cannes KBV',\r\n    telephone: '33627826869',\r\n    visitId: '4c4cbb79-24cc-4c3f-9c0b-607c10bdf6f5',\r\n    visitDate: '2025-10-11',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '183',\r\n    talkTheme: 'Tra odju di kuzas ki ka ten valor!',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'ccd3ae55-ae6e-44cd-ab57-be07691751ee',\r\n    nom: 'Ricardo PASCOAL',\r\n    congregation: 'Streaming',\r\n    telephone: '',\r\n    visitId: '496b8a04-9918-4f42-9aaa-d9e41b0ad339',\r\n    visitDate: '2025-10-11',\r\n    visitTime: '14:30',\r\n    host: 'N/A',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'streaming',\r\n    talkNoOrType: '5',\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: 'b6bb602e-dc9d-4750-af29-8a61831b79cc',\r\n    nom: 'Mario MIRANDA',\r\n    congregation: 'Cannes KBV Zoom',\r\n    telephone: '33615879709',\r\n    visitId: '9a4b263d-0daa-4560-8eb4-bdf7167cee83',\r\n    visitDate: '2025-10-25',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'zoom',\r\n    talkNoOrType: '100',\r\n    talkTheme: 'Modi ki nu pode faze bons amizadi',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '16',\r\n    nom: 'Isaque PEREIRA',\r\n    congregation: 'St Denis KBV',\r\n    telephone: '33652851904',\r\n    visitId: 'visit-16-2024-02-18',\r\n    visitDate: '2024-02-18',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '50',\r\n    talkTheme: 'Modi ki nu pode toma disizons ki ta djuda-nu ten bons rezultadu na vida',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '33',\r\n    nom: 'Moises CALDES',\r\n    congregation: 'Cannes KBV',\r\n    telephone: '33627826869',\r\n    visitId: 'visit-33-2024-11-17',\r\n    visitDate: '2024-11-17',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '64',\r\n    talkTheme: \"Bu 'kr s pasa sbi'  bu ta 'ama Deus'?\",\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '10',\r\n    nom: 'David VIEIRA',\r\n    congregation: 'Villiers KBV',\r\n    telephone: '33771670140',\r\n    visitId: 'visit-10-2024-05-26',\r\n    visitDate: '2024-05-26',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '48',\r\n    talkTheme: 'Modi ki nu pode kontinua lial pa Deus ras ki nu ta pasa pa prva',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '6',\r\n    nom: 'Dany TAVARES',\r\n    congregation: 'Plaisir KBV',\r\n    telephone: '33668121101',\r\n    visitId: '1edb49d2-ead2-49ad-8d58-088ec3f1a9ef',\r\n    visitDate: '2025-09-20',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '102',\r\n    talkTheme: 'Presta atenson na \"profesia\"',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '21',\r\n    nom: 'Joo-Paulo BAPTISTA',\r\n    congregation: 'Lyon KBV',\r\n    telephone: '33611234567',\r\n    visitId: '84edc96a-4869-4ef2-a47d-2956da704679',\r\n    visitDate: '2025-09-27',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: 'DS',\r\n    talkTheme: 'Modi ki gra ta ben kaba ?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '63',\r\n    nom: 'Rmy CAPELA',\r\n    congregation: ' dfinir',\r\n    telephone: '',\r\n    visitId: 'visit-63-2023-12-18',\r\n    visitDate: '2023-12-18',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '26',\r\n    talkTheme: 'Abo  inportanti pa Deus?',\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '81ee3039-4399-44b9-aeaa-e1331d069e41',\r\n    nom: 'Gianni FARIA',\r\n    congregation: 'Plaisir KBV',\r\n    telephone: '33698657173',\r\n    visitId: '782e566c-5990-4e4e-b913-53884d9a498b',\r\n    visitDate: '2025-11-08',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '26',\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n  {\r\n    id: '85936cd3-4ccc-41aa-9558-0fb2fe14eb5c',\r\n    nom: 'Dimitri GIVAC',\r\n    congregation: 'Marseille KBV',\r\n    telephone: '',\r\n    visitId: 'cb05cac9-9d8e-4178-ad8e-937f918d06b3',\r\n    visitDate: '2025-10-18',\r\n    visitTime: '14:30',\r\n    host: ' dfinir',\r\n    accommodation: '',\r\n    meals: '',\r\n    status: 'completed',\r\n    locationType: 'physical',\r\n    talkNoOrType: '3',\r\n    talkTheme: null,\r\n    communicationStatus: {},\r\n  },\r\n];\r\n\r\nexport const completeSpecialDates: any[] = [\r\n  {\r\n    id: 'event-59',\r\n    date: '2026-03-28',\r\n    name: 'Diskursu Spesial',\r\n    type: 'special_talk',\r\n    description: 'Ken ki ta ben konpo tra?',\r\n  },\r\n  {\r\n    id: 'event-62',\r\n    date: '2025-11-15',\r\n    name: 'Visita do Superintendente de Circuito',\r\n    type: 'co_visit',\r\n    description: 'Visita do Superintendente de Circuito',\r\n  },\r\n  {\r\n    id: 'event-63',\r\n    date: '2025-11-22',\r\n    name: 'Assembleia de Circuito com Representante da Filial',\r\n    type: 'assembly',\r\n    description: 'Assembleia de Circuito com Representante da Filial',\r\n  },\r\n  {\r\n    id: 'event-64',\r\n    date: '2025-12-20',\r\n    name: 'Asenbleia ku enkaregadu di grupu di kongregason',\r\n    type: 'other',\r\n    description: 'Asenbleia ku enkaregadu di grupu di kongregason',\r\n  },\r\n];\r\n\r\n// Donnes compltes intgres\r\nexport const completeData: AppData = {\r\n  speakers: completeSpeakers,\r\n  hosts: completeHosts,\r\n  visits: completeVisits,\r\n  archivedVisits: completeArchivedVisits,\r\n  specialDates: completeSpecialDates,\r\n  congregationProfile: {\r\n    name: 'pour le Groupe Capverdien De Lyon',\r\n    city: 'Lyon',\r\n    hospitalityOverseer: 'Pinto Francisco',\r\n    hospitalityOverseerPhone: '+33777388914',\r\n    meetingDay: 'Samedi',\r\n    meetingTime: '14:30',\r\n  },\r\n  publicTalks: [],\r\n  savedViews: [],\r\n  speakerMessages: [],\r\n  customTemplates: {},\r\n  customHostRequestTemplates: {},\r\n  lastSync: undefined,\r\n  dataVersion: '1.2.0',\r\n};\r\n","// ============================================================================\n// CONSTANTES COMMUNES\n// ============================================================================\n\n// Htes\nexport const UNASSIGNED_HOST = ' dfinir';\nexport const NA_HOST = 'N/A';\n\n// Statuts\nexport const VISIT_STATUS = {\n  PENDING: 'pending',\n  CONFIRMED: 'confirmed',\n  COMPLETED: 'completed',\n  CANCELLED: 'cancelled',\n} as const;\n\n// Types de localisation\nexport const LOCATION_TYPES = {\n  PHYSICAL: 'physical',\n  ZOOM: 'zoom',\n  STREAMING: 'streaming',\n} as const;\n\n// Messages\nexport const DEFAULT_MEETING_TIME = '14:30';\nexport const REMINDER_DAYS = [7, 2] as const;\n","/**\n * Gnre un UUID v4 compatible avec tous les navigateurs et Android\n * Alternative  crypto.randomUUID() qui n'est pas disponible partout\n */\nexport function generateUUID(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"menos de un segundo\",\n    other: \"menos de {{count}} segundos\",\n  },\n\n  xSeconds: {\n    one: \"1 segundo\",\n    other: \"{{count}} segundos\",\n  },\n\n  halfAMinute: \"medio minuto\",\n\n  lessThanXMinutes: {\n    one: \"menos de un minuto\",\n    other: \"menos de {{count}} minutos\",\n  },\n\n  xMinutes: {\n    one: \"1 minuto\",\n    other: \"{{count}} minutos\",\n  },\n\n  aboutXHours: {\n    one: \"alrededor de 1 hora\",\n    other: \"alrededor de {{count}} horas\",\n  },\n\n  xHours: {\n    one: \"1 hora\",\n    other: \"{{count}} horas\",\n  },\n\n  xDays: {\n    one: \"1 da\",\n    other: \"{{count}} das\",\n  },\n\n  aboutXWeeks: {\n    one: \"alrededor de 1 semana\",\n    other: \"alrededor de {{count}} semanas\",\n  },\n\n  xWeeks: {\n    one: \"1 semana\",\n    other: \"{{count}} semanas\",\n  },\n\n  aboutXMonths: {\n    one: \"alrededor de 1 mes\",\n    other: \"alrededor de {{count}} meses\",\n  },\n\n  xMonths: {\n    one: \"1 mes\",\n    other: \"{{count}} meses\",\n  },\n\n  aboutXYears: {\n    one: \"alrededor de 1 ao\",\n    other: \"alrededor de {{count}} aos\",\n  },\n\n  xYears: {\n    one: \"1 ao\",\n    other: \"{{count}} aos\",\n  },\n\n  overXYears: {\n    one: \"ms de 1 ao\",\n    other: \"ms de {{count}} aos\",\n  },\n\n  almostXYears: {\n    one: \"casi 1 ao\",\n    other: \"casi {{count}} aos\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"en \" + result;\n    } else {\n      return \"hace \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, d 'de' MMMM 'de' y\",\n  long: \"d 'de' MMMM 'de' y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/y\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'a las' {{time}}\",\n  long: \"{{date}} 'a las' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'el' eeee 'pasado a la' p\",\n  yesterday: \"'ayer a la' p\",\n  today: \"'hoy a la' p\",\n  tomorrow: \"'maana a la' p\",\n  nextWeek: \"eeee 'a la' p\",\n  other: \"P\",\n};\n\nconst formatRelativeLocalePlural = {\n  lastWeek: \"'el' eeee 'pasado a las' p\",\n  yesterday: \"'ayer a las' p\",\n  today: \"'hoy a las' p\",\n  tomorrow: \"'maana a las' p\",\n  nextWeek: \"eeee 'a las' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, _baseDate, _options) => {\n  if (date.getHours() !== 1) {\n    return formatRelativeLocalePlural[token];\n  } else {\n    return formatRelativeLocale[token];\n  }\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"AC\", \"DC\"],\n  abbreviated: [\"AC\", \"DC\"],\n  wide: [\"antes de cristo\", \"despus de cristo\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  wide: [\"1 trimestre\", \"2 trimestre\", \"3 trimestre\", \"4 trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"e\", \"f\", \"m\", \"a\", \"m\", \"j\", \"j\", \"a\", \"s\", \"o\", \"n\", \"d\"],\n  abbreviated: [\n    \"ene\",\n    \"feb\",\n    \"mar\",\n    \"abr\",\n    \"may\",\n    \"jun\",\n    \"jul\",\n    \"ago\",\n    \"sep\",\n    \"oct\",\n    \"nov\",\n    \"dic\",\n  ],\n\n  wide: [\n    \"enero\",\n    \"febrero\",\n    \"marzo\",\n    \"abril\",\n    \"mayo\",\n    \"junio\",\n    \"julio\",\n    \"agosto\",\n    \"septiembre\",\n    \"octubre\",\n    \"noviembre\",\n    \"diciembre\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"d\", \"l\", \"m\", \"m\", \"j\", \"v\", \"s\"],\n  short: [\"do\", \"lu\", \"ma\", \"mi\", \"ju\", \"vi\", \"s\"],\n  abbreviated: [\"dom\", \"lun\", \"mar\", \"mi\", \"jue\", \"vie\", \"sb\"],\n  wide: [\n    \"domingo\",\n    \"lunes\",\n    \"martes\",\n    \"mircoles\",\n    \"jueves\",\n    \"viernes\",\n    \"sbado\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"maana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"maana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"maana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"de la maana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"de la maana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"de la maana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n  return number + \"\";\n};\n\nexport const localize = {\n  ordinalNumber: ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => Number(quarter) - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\nimport { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)()?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ac|dc|a|d)/i,\n  abbreviated: /^(a\\.?\\s?c\\.?|a\\.?\\s?e\\.?\\s?c\\.?|d\\.?\\s?c\\.?|e\\.?\\s?c\\.?)/i,\n  wide: /^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i,\n};\nconst parseEraPatterns = {\n  any: [/^ac/i, /^dc/i],\n  wide: [\n    /^(antes de cristo|antes de la era com[u]n)/i,\n    /^(despu[e]s de cristo|era com[u]n)/i,\n  ],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^T[1234]/i,\n  wide: /^[1234]()? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[efmajsond]/i,\n  abbreviated: /^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,\n  wide: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^e/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^en/i,\n    /^feb/i,\n    /^mar/i,\n    /^abr/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^ago/i,\n    /^sep/i,\n    /^oct/i,\n    /^nov/i,\n    /^dic/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[dlmjvs]/i,\n  short: /^(do|lu|ma|mi|ju|vi|s[a])/i,\n  abbreviated: /^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,\n  wide: /^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],\n  any: [/^do/i, /^lu/i, /^ma/i, /^mi/i, /^ju/i, /^vi/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,\n  any: /^([ap]\\.?\\s?m\\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mn/i,\n    noon: /^md/i,\n    morning: /maana/i,\n    afternoon: /tarde/i,\n    evening: /tarde/i,\n    night: /noche/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    },\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./es/_lib/formatDistance.js\";\nimport { formatLong } from \"./es/_lib/formatLong.js\";\nimport { formatRelative } from \"./es/_lib/formatRelative.js\";\nimport { localize } from \"./es/_lib/localize.js\";\nimport { match } from \"./es/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary Spanish locale.\n * @language Spanish\n * @iso-639-2 spa\n * @author Juan Angosto [@juanangosto](https://github.com/juanangosto)\n * @author Guillermo Grau [@guigrpa](https://github.com/guigrpa)\n * @author Fernando Agero [@fjaguero](https://github.com/fjaguero)\n * @author Gastn Haro [@harogaston](https://github.com/harogaston)\n * @author Yago Carballo [@YagoCarballo](https://github.com/YagoCarballo)\n */\nexport const es = {\n  code: \"es\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default es;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"moins dune seconde\",\n    other: \"moins de {{count}} secondes\",\n  },\n\n  xSeconds: {\n    one: \"1 seconde\",\n    other: \"{{count}} secondes\",\n  },\n\n  halfAMinute: \"30 secondes\",\n\n  lessThanXMinutes: {\n    one: \"moins dune minute\",\n    other: \"moins de {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"environ 1 heure\",\n    other: \"environ {{count}} heures\",\n  },\n\n  xHours: {\n    one: \"1 heure\",\n    other: \"{{count}} heures\",\n  },\n\n  xDays: {\n    one: \"1 jour\",\n    other: \"{{count}} jours\",\n  },\n\n  aboutXWeeks: {\n    one: \"environ 1 semaine\",\n    other: \"environ {{count}} semaines\",\n  },\n\n  xWeeks: {\n    one: \"1 semaine\",\n    other: \"{{count}} semaines\",\n  },\n\n  aboutXMonths: {\n    one: \"environ 1 mois\",\n    other: \"environ {{count}} mois\",\n  },\n\n  xMonths: {\n    one: \"1 mois\",\n    other: \"{{count}} mois\",\n  },\n\n  aboutXYears: {\n    one: \"environ 1 an\",\n    other: \"environ {{count}} ans\",\n  },\n\n  xYears: {\n    one: \"1 an\",\n    other: \"{{count}} ans\",\n  },\n\n  overXYears: {\n    one: \"plus dun an\",\n    other: \"plus de {{count}} ans\",\n  },\n\n  almostXYears: {\n    one: \"presquun an\",\n    other: \"presque {{count}} ans\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n  const form = formatDistanceLocale[token];\n  if (typeof form === \"string\") {\n    result = form;\n  } else if (count === 1) {\n    result = form.one;\n  } else {\n    result = form.other.replace(\"{{count}}\", String(count));\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"dans \" + result;\n    } else {\n      return \"il y a \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE d MMMM y\",\n  long: \"d MMMM y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/y\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} '' {{time}}\",\n  long: \"{{date}} '' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"eeee 'dernier ' p\",\n  yesterday: \"'hier ' p\",\n  today: \"'aujourdhui ' p\",\n  tomorrow: \"'demain ' p'\",\n  nextWeek: \"eeee 'prochain ' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"av. J.-C\", \"ap. J.-C\"],\n  abbreviated: [\"av. J.-C\", \"ap. J.-C\"],\n  wide: [\"avant Jsus-Christ\", \"aprs Jsus-Christ\"],\n};\n\nconst quarterValues = {\n  narrow: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  abbreviated: [\"1er trim.\", \"2me trim.\", \"3me trim.\", \"4me trim.\"],\n  wide: [\"1er trimestre\", \"2me trimestre\", \"3me trimestre\", \"4me trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"janv.\",\n    \"fvr.\",\n    \"mars\",\n    \"avr.\",\n    \"mai\",\n    \"juin\",\n    \"juil.\",\n    \"aot\",\n    \"sept.\",\n    \"oct.\",\n    \"nov.\",\n    \"dc.\",\n  ],\n\n  wide: [\n    \"janvier\",\n    \"fvrier\",\n    \"mars\",\n    \"avril\",\n    \"mai\",\n    \"juin\",\n    \"juillet\",\n    \"aot\",\n    \"septembre\",\n    \"octobre\",\n    \"novembre\",\n    \"dcembre\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"],\n  short: [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"],\n  abbreviated: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n\n  wide: [\n    \"dimanche\",\n    \"lundi\",\n    \"mardi\",\n    \"mercredi\",\n    \"jeudi\",\n    \"vendredi\",\n    \"samedi\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"minuit\",\n    noon: \"midi\",\n    morning: \"mat.\",\n    afternoon: \"ap.m.\",\n    evening: \"soir\",\n    night: \"mat.\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"minuit\",\n    noon: \"midi\",\n    morning: \"matin\",\n    afternoon: \"aprs-midi\",\n    evening: \"soir\",\n    night: \"matin\",\n  },\n  wide: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"minuit\",\n    noon: \"midi\",\n    morning: \"du matin\",\n    afternoon: \"de laprs-midi\",\n    evening: \"du soir\",\n    night: \"du matin\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, options) => {\n  const number = Number(dirtyNumber);\n  const unit = options?.unit;\n\n  if (number === 0) return \"0\";\n\n  const feminineUnits = [\"year\", \"week\", \"hour\", \"minute\", \"second\"];\n  let suffix;\n\n  if (number === 1) {\n    suffix = unit && feminineUnits.includes(unit) ? \"re\" : \"er\";\n  } else {\n    suffix = \"me\";\n  }\n\n  return number + suffix;\n};\n\nconst LONG_MONTHS_TOKENS = [\"MMM\", \"MMMM\"];\n\nexport const localize = {\n  preprocessor: (date, parts) => {\n    // Replaces the `do` tokens with `d` when used with long month tokens and the day of the month is greater than one.\n    // Use case \"do MMMM\" => 1er aot, 29 aot\n    // see https://github.com/date-fns/date-fns/issues/1391\n\n    if (date.getDate() === 1) return parts;\n\n    const hasLongMonthToken = parts.some(\n      (part) => part.isToken && LONG_MONTHS_TOKENS.includes(part.value),\n    );\n\n    if (!hasLongMonthToken) return parts;\n\n    return parts.map((part) =>\n      part.isToken && part.value === \"do\"\n        ? { isToken: true, value: \"d\" }\n        : part,\n    );\n  },\n\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(ime|re|me|er|e)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(av\\.J\\.C|ap\\.J\\.C|ap\\.J\\.-C)/i,\n  abbreviated: /^(av\\.J\\.-C|av\\.J-C|apr\\.J\\.-C|apr\\.J-C|ap\\.J-C)/i,\n  wide: /^(avant Jsus-Christ|aprs Jsus-Christ)/i,\n};\nconst parseEraPatterns = {\n  any: [/^av/i, /^ap/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^T?[1234]/i,\n  abbreviated: /^[1234](er|me|e)? trim\\.?/i,\n  wide: /^[1234](er|me|e)? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated:\n    /^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\\.?/i,\n  wide: /^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^av/i,\n    /^ma/i,\n    /^juin/i,\n    /^juil/i,\n    /^ao/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[lmjvsd]/i,\n  short: /^(di|lu|ma|me|je|ve|sa)/i,\n  abbreviated: /^(dim|lun|mar|mer|jeu|ven|sam)\\.?/i,\n  wide: /^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],\n  any: [/^di/i, /^lu/i, /^ma/i, /^me/i, /^je/i, /^ve/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|minuit|midi|mat\\.?|ap\\.?m\\.?|soir|nuit)/i,\n  any: /^([ap]\\.?\\s?m\\.?|du matin|de l'aprs[-\\s]midi|du soir|de la nuit)/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^min/i,\n    noon: /^mid/i,\n    morning: /mat/i,\n    afternoon: /ap/i,\n    evening: /soir/i,\n    night: /nuit/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./fr/_lib/formatDistance.js\";\nimport { formatLong } from \"./fr/_lib/formatLong.js\";\nimport { formatRelative } from \"./fr/_lib/formatRelative.js\";\nimport { localize } from \"./fr/_lib/localize.js\";\nimport { match } from \"./fr/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary French locale.\n * @language French\n * @iso-639-2 fra\n * @author Jean Dupouy [@izeau](https://github.com/izeau)\n * @author Franois B [@fbonzon](https://github.com/fbonzon)\n */\nexport const fr = {\n  code: \"fr\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 4,\n  },\n};\n\n// Fallback for modularized imports:\nexport default fr;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"menos de um segundo\",\n    other: \"menos de {{count}} segundos\",\n  },\n\n  xSeconds: {\n    one: \"1 segundo\",\n    other: \"{{count}} segundos\",\n  },\n\n  halfAMinute: \"meio minuto\",\n\n  lessThanXMinutes: {\n    one: \"menos de um minuto\",\n    other: \"menos de {{count}} minutos\",\n  },\n\n  xMinutes: {\n    one: \"1 minuto\",\n    other: \"{{count}} minutos\",\n  },\n\n  aboutXHours: {\n    one: \"aproximadamente 1 hora\",\n    other: \"aproximadamente {{count}} horas\",\n  },\n\n  xHours: {\n    one: \"1 hora\",\n    other: \"{{count}} horas\",\n  },\n\n  xDays: {\n    one: \"1 dia\",\n    other: \"{{count}} dias\",\n  },\n\n  aboutXWeeks: {\n    one: \"aproximadamente 1 semana\",\n    other: \"aproximadamente {{count}} semanas\",\n  },\n\n  xWeeks: {\n    one: \"1 semana\",\n    other: \"{{count}} semanas\",\n  },\n\n  aboutXMonths: {\n    one: \"aproximadamente 1 ms\",\n    other: \"aproximadamente {{count}} meses\",\n  },\n\n  xMonths: {\n    one: \"1 ms\",\n    other: \"{{count}} meses\",\n  },\n\n  aboutXYears: {\n    one: \"aproximadamente 1 ano\",\n    other: \"aproximadamente {{count}} anos\",\n  },\n\n  xYears: {\n    one: \"1 ano\",\n    other: \"{{count}} anos\",\n  },\n\n  overXYears: {\n    one: \"mais de 1 ano\",\n    other: \"mais de {{count}} anos\",\n  },\n\n  almostXYears: {\n    one: \"quase 1 ano\",\n    other: \"quase {{count}} anos\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", String(count));\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"daqui a \" + result;\n    } else {\n      return \"h \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, d 'de' MMMM 'de' y\",\n  long: \"d 'de' MMMM 'de' y\",\n  medium: \"d 'de' MMM 'de' y\",\n  short: \"dd/MM/y\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 's' {{time}}\",\n  long: \"{{date}} 's' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: (date) => {\n    const weekday = date.getDay();\n    const last = weekday === 0 || weekday === 6 ? \"ltimo\" : \"ltima\";\n    return \"'\" + last + \"' eeee 's' p\";\n  },\n  yesterday: \"'ontem s' p\",\n  today: \"'hoje s' p\",\n  tomorrow: \"'amanh s' p\",\n  nextWeek: \"eeee 's' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, _baseDate, _options) => {\n  const format = formatRelativeLocale[token];\n\n  if (typeof format === \"function\") {\n    return format(date);\n  }\n\n  return format;\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"aC\", \"dC\"],\n  abbreviated: [\"a.C.\", \"d.C.\"],\n  wide: [\"antes de Cristo\", \"depois de Cristo\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  wide: [\"1 trimestre\", \"2 trimestre\", \"3 trimestre\", \"4 trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"j\", \"f\", \"m\", \"a\", \"m\", \"j\", \"j\", \"a\", \"s\", \"o\", \"n\", \"d\"],\n  abbreviated: [\n    \"jan\",\n    \"fev\",\n    \"mar\",\n    \"abr\",\n    \"mai\",\n    \"jun\",\n    \"jul\",\n    \"ago\",\n    \"set\",\n    \"out\",\n    \"nov\",\n    \"dez\",\n  ],\n\n  wide: [\n    \"janeiro\",\n    \"fevereiro\",\n    \"maro\",\n    \"abril\",\n    \"maio\",\n    \"junho\",\n    \"julho\",\n    \"agosto\",\n    \"setembro\",\n    \"outubro\",\n    \"novembro\",\n    \"dezembro\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"d\", \"s\", \"t\", \"q\", \"q\", \"s\", \"s\"],\n  short: [\"dom\", \"seg\", \"ter\", \"qua\", \"qui\", \"sex\", \"sb\"],\n  abbreviated: [\"dom\", \"seg\", \"ter\", \"qua\", \"qui\", \"sex\", \"sb\"],\n  wide: [\n    \"domingo\",\n    \"segunda-feira\",\n    \"tera-feira\",\n    \"quarta-feira\",\n    \"quinta-feira\",\n    \"sexta-feira\",\n    \"sbado\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manh\",\n    afternoon: \"tarde\",\n    evening: \"noite\",\n    night: \"madrugada\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manh\",\n    afternoon: \"tarde\",\n    evening: \"noite\",\n    night: \"madrugada\",\n  },\n  wide: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manh\",\n    afternoon: \"tarde\",\n    evening: \"noite\",\n    night: \"madrugada\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manh\",\n    afternoon: \"da tarde\",\n    evening: \"da noite\",\n    night: \"da madrugada\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manh\",\n    afternoon: \"da tarde\",\n    evening: \"da noite\",\n    night: \"da madrugada\",\n  },\n  wide: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manh\",\n    afternoon: \"da tarde\",\n    evening: \"da noite\",\n    night: \"da madrugada\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n  return number + \"\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(|)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ac|dc|a|d)/i,\n  abbreviated: /^(a\\.?\\s?c\\.?|a\\.?\\s?e\\.?\\s?c\\.?|d\\.?\\s?c\\.?|e\\.?\\s?c\\.?)/i,\n  wide: /^(antes de cristo|antes da era comum|depois de cristo|era comum)/i,\n};\nconst parseEraPatterns = {\n  any: [/^ac/i, /^dc/i],\n  wide: [\n    /^(antes de cristo|antes da era comum)/i,\n    /^(depois de cristo|era comum)/i,\n  ],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^T[1234]/i,\n  wide: /^[1234](|)? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,\n  wide: /^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ab/i,\n    /^mai/i,\n    /^jun/i,\n    /^jul/i,\n    /^ag/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[dstq]/i,\n  short: /^(dom|seg|ter|qua|qui|sex|s[a]b)/i,\n  abbreviated: /^(dom|seg|ter|qua|qui|sex|s[a]b)/i,\n  wide: /^(domingo|segunda-?\\s?feira|tera-?\\s?feira|quarta-?\\s?feira|quinta-?\\s?feira|sexta-?\\s?feira|s[a]bado)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^d/i, /^s/i, /^t/i, /^q/i, /^q/i, /^s/i, /^s/i],\n  any: [/^d/i, /^seg/i, /^t/i, /^qua/i, /^qui/i, /^sex/i, /^s[a]/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow:\n    /^(a|p|meia-?\\s?noite|meio-?\\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i,\n  any: /^([ap]\\.?\\s?m\\.?|meia-?\\s?noite|meio-?\\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^meia/i,\n    noon: /^meio/i,\n    morning: /manh[a]/i,\n    afternoon: /tarde/i,\n    evening: /noite/i,\n    night: /madrugada/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./pt/_lib/formatDistance.js\";\nimport { formatLong } from \"./pt/_lib/formatLong.js\";\nimport { formatRelative } from \"./pt/_lib/formatRelative.js\";\nimport { localize } from \"./pt/_lib/localize.js\";\nimport { match } from \"./pt/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary Portuguese locale.\n * @language Portuguese\n * @iso-639-2 por\n * @author Drio Freire [@dfreire](https://github.com/dfreire)\n * @author Adrin de la Rosa [@adrm](https://github.com/adrm)\n */\nexport const pt = {\n  code: \"pt\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 4,\n  },\n};\n\n// Fallback for modularized imports:\nexport default pt;\n","import { Language } from '@/types';\nimport { format, formatDistanceToNow, parseISO, isValid } from 'date-fns';\nimport { fr, enUS, es, pt } from 'date-fns/locale';\n\n// ============================================================================\n// LOCALES DATE-FNS\n// ============================================================================\n\nconst locales = {\n  fr,\n  en: enUS,\n  es,\n  pt,\n  cv: fr, // Utiliser franais pour capverdien (pas de locale CV disponible)\n};\n\n// ============================================================================\n// FORMATAGE DES DATES\n// ============================================================================\n\nexport function formatDate(\n  date: string | Date,\n  formatString: string = 'PPP',\n  language: Language = 'fr'\n): string {\n  try {\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\n    if (!isValid(dateObj)) return '';\n\n    return format(dateObj, formatString, {\n      locale: locales[language] || enUS, // Fallback to English if locale not found\n    });\n  } catch {\n    return '';\n  }\n}\n\nexport function formatFullDate(date: string | Date, language: Language = 'fr'): string {\n  return formatDate(date, 'EEEE d MMMM yyyy', language);\n}\n\nexport function formatShortDate(date: string | Date, language: Language = 'fr'): string {\n  return formatDate(date, 'dd/MM/yyyy', language);\n}\n\nexport function formatTime(time: string): string {\n  // Format: \"HH:MM\" -> \"14:30\"\n  return time;\n}\n\nexport function formatDateTime(\n  date: string | Date,\n  time: string,\n  language: Language = 'fr'\n): string {\n  const dateStr = formatFullDate(date, language);\n  return `${dateStr}  ${time}`;\n}\n\nexport function formatRelativeTime(date: string | Date, language: Language = 'fr'): string {\n  try {\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\n    if (!isValid(dateObj)) return '';\n\n    return formatDistanceToNow(dateObj, {\n      addSuffix: true,\n      locale: locales[language] || enUS, // Fallback to English if locale not found\n    });\n  } catch {\n    return '';\n  }\n}\n\n// ============================================================================\n// FORMATAGE DES TLPHONES\n// ============================================================================\n\nexport function formatPhone(phone?: string): string {\n  if (!phone) return '';\n\n  // Supprimer tous les caractres non numriques sauf +\n  const cleaned = phone.replace(/[^\\d+]/g, '');\n\n  // Format franais: +33 6 12 34 56 78\n  if (cleaned.startsWith('+33')) {\n    const number = cleaned.slice(3);\n    if (number.length === 9) {\n      return `+33 ${number[0]} ${number.slice(1, 3)} ${number.slice(3, 5)} ${number.slice(5, 7)} ${number.slice(7)}`;\n    }\n  }\n\n  // Format international gnrique\n  if (cleaned.startsWith('+')) {\n    return cleaned.replace(/(\\+\\d{1,3})(\\d{1,3})(\\d{1,4})(\\d{1,4})/, '$1 $2 $3 $4').trim();\n  }\n\n  // Format local franais: 06 12 34 56 78\n  if (cleaned.length === 10 && cleaned.startsWith('0')) {\n    return cleaned.replace(/(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/, '$1 $2 $3 $4 $5');\n  }\n\n  return phone;\n}\n\nexport function cleanPhone(phone: string): string {\n  // Retourner uniquement les chiffres et le +\n  return phone.replace(/[^\\d+]/g, '');\n}\n\n// ============================================================================\n// FORMATAGE DES NOMBRES\n// ============================================================================\n\nexport function formatNumber(num: number, language: Language = 'fr'): string {\n  return new Intl.NumberFormat(language === 'cv' ? 'fr' : language).format(num);\n}\n\nexport function formatCurrency(\n  amount: number,\n  currency: string = 'EUR',\n  language: Language = 'fr'\n): string {\n  return new Intl.NumberFormat(language === 'cv' ? 'fr' : language, {\n    style: 'currency',\n    currency,\n  }).format(amount);\n}\n\nexport function formatPercentage(value: number, decimals: number = 1): string {\n  return `${value.toFixed(decimals)}%`;\n}\n\n// ============================================================================\n// CALCUL DE JOURS\n// ============================================================================\n\nexport function getDaysUntil(date: string | Date): number {\n  const dateObj = typeof date === 'string' ? parseISO(date) : date;\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  const targetDate = new Date(dateObj);\n  targetDate.setHours(0, 0, 0, 0);\n\n  const diff = targetDate.getTime() - today.getTime();\n  return Math.ceil(diff / (1000 * 60 * 60 * 24));\n}\n\nexport function isToday(date: string | Date): boolean {\n  const dateObj = typeof date === 'string' ? parseISO(date) : date;\n  const today = new Date();\n\n  return (\n    dateObj.getDate() === today.getDate() &&\n    dateObj.getMonth() === today.getMonth() &&\n    dateObj.getFullYear() === today.getFullYear()\n  );\n}\n\nexport function isThisWeek(date: string | Date): boolean {\n  const daysUntil = getDaysUntil(date);\n  return daysUntil >= 0 && daysUntil < 7;\n}\n\nexport function isThisMonth(date: string | Date): boolean {\n  const dateObj = typeof date === 'string' ? parseISO(date) : date;\n  const today = new Date();\n\n  return dateObj.getMonth() === today.getMonth() && dateObj.getFullYear() === today.getFullYear();\n}\n\n// ============================================================================\n// FORMATAGE DE NOMS\n// ============================================================================\n\nexport function formatSpeakerName(name: string, gender?: 'male' | 'female' | 'couple'): string {\n  if (gender === 'female') {\n    return `Sur ${name}`;\n  } else if (gender === 'couple') {\n    return name; // Pas de prfixe pour les couples\n  } else {\n    return `Frre ${name}`;\n  }\n}\n\nexport function getInitials(name: string): string {\n  return name\n    .split(' ')\n    .map((part) => part[0])\n    .join('')\n    .toUpperCase()\n    .slice(0, 2);\n}\n\n// ============================================================================\n// UTILITAIRES DE STRING\n// ============================================================================\n\nexport function truncate(text: string, maxLength: number): string {\n  if (text.length <= maxLength) return text;\n  return `${text.slice(0, maxLength - 3)}...`;\n}\n\nexport function capitalize(text: string): string {\n  return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase();\n}\n\nexport function normalizeString(text: string): string {\n  return text\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '') // Supprimer les accents\n    .trim();\n}\n\n// ============================================================================\n// PARSING DE DATES\n// ============================================================================\n\nexport function parseDate(dateStr: string): Date | null {\n  // Handle DD/MM/YYYY, DD-MM-YYYY, or other formats\n  const parts = dateStr.split(/[/\\-.]/);\n  if (parts.length === 3) {\n    const day = parseInt(parts[0]);\n    const month = parseInt(parts[1]) - 1; // Month is 0-indexed\n    const year = parseInt(parts[2]);\n    return new Date(year, month, day);\n  }\n  return null;\n}\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase().trim();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, className = \"\", children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRight = createLucideIcon(\"ArrowRight\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n]);\n\nexport { ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BarChart3 = createLucideIcon(\"BarChart3\", [\n  [\"path\", { d: \"M3 3v18h18\", key: \"1s2lah\" }],\n  [\"path\", { d: \"M18 17V9\", key: \"2bz60n\" }],\n  [\"path\", { d: \"M13 17V5\", key: \"1frdt8\" }],\n  [\"path\", { d: \"M8 17v-3\", key: \"17ska0\" }]\n]);\n\nexport { BarChart3 as default };\n//# sourceMappingURL=bar-chart-3.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", ry: \"2\", key: \"eu3xkr\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"2\", y2: \"6\", key: \"m3sa8f\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"2\", y2: \"6\", key: \"18kwsl\" }],\n  [\"line\", { x1: \"3\", x2: \"21\", y1: \"10\", y2: \"10\", key: \"xt86sb\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle2 = createLucideIcon(\"CheckCircle2\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { CheckCircle2 as default };\n//# sourceMappingURL=check-circle-2.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"ChevronLeft\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Cloud = createLucideIcon(\"Cloud\", [\n  [\"path\", { d: \"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z\", key: \"p7xjir\" }]\n]);\n\nexport { Cloud as default };\n//# sourceMappingURL=cloud.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileCode = createLucideIcon(\"FileCode\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"path\", { d: \"m10 13-2 2 2 2\", key: \"17smn8\" }],\n  [\"path\", { d: \"m14 17 2-2-2-2\", key: \"14mezr\" }]\n]);\n\nexport { FileCode as default };\n//# sourceMappingURL=file-code.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileSpreadsheet = createLucideIcon(\"FileSpreadsheet\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"path\", { d: \"M8 13h2\", key: \"yr2amv\" }],\n  [\"path\", { d: \"M8 17h2\", key: \"2yhykz\" }],\n  [\"path\", { d: \"M14 13h2\", key: \"un5t4a\" }],\n  [\"path\", { d: \"M14 17h2\", key: \"10kma7\" }]\n]);\n\nexport { FileSpreadsheet as default };\n//# sourceMappingURL=file-spreadsheet.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\n    \"path\",\n    { d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\", key: \"1nnpy2\" }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"13\", y2: \"13\", key: \"14keom\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"17\", y2: \"17\", key: \"17nazh\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"9\", y2: \"9\", key: \"1a5vjj\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Home = createLucideIcon(\"Home\", [\n  [\"path\", { d: \"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\", key: \"y5dka4\" }],\n  [\"polyline\", { points: \"9 22 9 12 15 12 15 22\", key: \"e2us08\" }]\n]);\n\nexport { Home as default };\n//# sourceMappingURL=home.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LayoutDashboard = createLucideIcon(\"LayoutDashboard\", [\n  [\"rect\", { width: \"7\", height: \"9\", x: \"3\", y: \"3\", rx: \"1\", key: \"10lvy0\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"14\", y: \"3\", rx: \"1\", key: \"16une8\" }],\n  [\"rect\", { width: \"7\", height: \"9\", x: \"14\", y: \"12\", rx: \"1\", key: \"1hutg5\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"ldoo1y\" }]\n]);\n\nexport { LayoutDashboard as default };\n//# sourceMappingURL=layout-dashboard.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Loader2 = createLucideIcon(\"Loader2\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { Loader2 as default };\n//# sourceMappingURL=loader-2.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageSquare = createLucideIcon(\"MessageSquare\", [\n  [\"path\", { d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\", key: \"1lielz\" }]\n]);\n\nexport { MessageSquare as default };\n//# sourceMappingURL=message-square.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\",\n      key: \"17u4zn\"\n    }\n  ],\n  [\"path\", { d: \"M5 3v4\", key: \"bklmnn\" }],\n  [\"path\", { d: \"M19 17v4\", key: \"iiml17\" }],\n  [\"path\", { d: \"M3 5h4\", key: \"nem4j1\" }],\n  [\"path\", { d: \"M17 19h4\", key: \"lbex7p\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\"polygon\", { points: \"13 2 3 14 12 14 11 22 21 10 12 10 13 2\", key: \"45s27k\" }]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","import { createContext, useContext, useState, useCallback, ReactNode } from 'react';\nimport { X, CheckCircle, AlertCircle, Info, AlertTriangle } from 'lucide-react';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\ntype ToastType = 'success' | 'error' | 'warning' | 'info';\n\ninterface Toast {\n  id: string;\n  message: string;\n  type: ToastType;\n  duration: number;\n}\n\ninterface ToastContextValue {\n  addToast: (message: string, type?: ToastType, duration?: number) => void;\n  removeToast: (id: string) => void;\n}\n\n// ============================================================================\n// CONTEXT\n// ============================================================================\n\nconst ToastContext = createContext<ToastContextValue | undefined>(undefined);\n\n// ============================================================================\n// PROVIDER\n// ============================================================================\n\nexport function ToastProvider({ children }: { children: ReactNode }) {\n  const [toasts, setToasts] = useState<Toast[]>([]);\n\n  const addToast = useCallback(\n    (message: string, type: ToastType = 'info', duration: number = 3000) => {\n      const id = Math.random().toString(36).substr(2, 9);\n      const toast: Toast = { id, message, type, duration };\n\n      setToasts((prev) => [...prev, toast]);\n\n      // Auto-remove aprs la dure spcifie\n      setTimeout(() => {\n        removeToast(id);\n      }, duration);\n    },\n    []\n  );\n\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  return (\n    <ToastContext.Provider value={{ addToast, removeToast }}>\n      {children}\n      <ToastContainer toasts={toasts} onRemove={removeToast} />\n    </ToastContext.Provider>\n  );\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\nexport function useToast() {\n  const context = useContext(ToastContext);\n  if (!context) {\n    throw new Error('useToast must be used within ToastProvider');\n  }\n  return context;\n}\n\n// ============================================================================\n// TOAST CONTAINER\n// ============================================================================\n\nfunction ToastContainer({ toasts, onRemove }: { toasts: Toast[]; onRemove: (id: string) => void }) {\n  return (\n    <div className='fixed top-4 right-4 z-50 space-y-2 max-w-sm'>\n      {toasts.map((toast) => (\n        <ToastItem key={toast.id} toast={toast} onRemove={onRemove} />\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// TOAST ITEM\n// ============================================================================\n\nfunction ToastItem({ toast, onRemove }: { toast: Toast; onRemove: (id: string) => void }) {\n  const icons = {\n    success: <CheckCircle className='w-5 h-5' />,\n    error: <AlertCircle className='w-5 h-5' />,\n    warning: <AlertTriangle className='w-5 h-5' />,\n    info: <Info className='w-5 h-5' />,\n  };\n\n  const styles = {\n    success:\n      'bg-success-50 dark:bg-success-900 text-success-800 dark:text-success-200 border-success-200 dark:border-success-700',\n    error:\n      'bg-danger-50 dark:bg-danger-900 text-danger-800 dark:text-danger-200 border-danger-200 dark:border-danger-700',\n    warning:\n      'bg-warning-50 dark:bg-warning-900 text-warning-800 dark:text-warning-200 border-warning-200 dark:border-warning-700',\n    info: 'bg-primary-50 dark:bg-primary-900 text-primary-800 dark:text-primary-200 border-primary-200 dark:border-primary-700',\n  };\n\n  return (\n    <div\n      className={`\n        slide-up\n        flex items-start gap-3 p-4 rounded-lg border shadow-lg\n        ${styles[toast.type]}\n      `}\n      role='alert'\n    >\n      <div className='flex-shrink-0'>{icons[toast.type]}</div>\n      <p className='flex-1 text-sm font-medium'>{toast.message}</p>\n      <button\n        onClick={() => onRemove(toast.id)}\n        className='flex-shrink-0 hover:opacity-70 transition-opacity'\n        aria-label='Fermer'\n      >\n        <X className='w-4 h-4' />\n      </button>\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { SyncAction, SyncActionType } from '@/types';\nimport { generateUUID } from '@/utils/uuid';\n\nconst QUEUE_STORAGE_KEY = 'kbv_sync_queue';\n\nexport function useSyncQueue() {\n  const [queue, setQueue] = useState<SyncAction[]>([]);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  // Charger la file d'attente au dmarrage\n  useEffect(() => {\n    try {\n      const savedQueue = localStorage.getItem(QUEUE_STORAGE_KEY);\n      if (savedQueue) {\n        setQueue(JSON.parse(savedQueue));\n      }\n    } catch (e) {\n      console.error('Failed to load sync queue', e);\n    }\n    setIsInitialized(true);\n  }, []);\n\n  // Sauvegarder la file d'attente  chaque changement\n  useEffect(() => {\n    if (!isInitialized) return;\n    try {\n      localStorage.setItem(QUEUE_STORAGE_KEY, JSON.stringify(queue));\n    } catch (e) {\n      console.error('Failed to save sync queue', e);\n    }\n  }, [queue, isInitialized]);\n\n  const addAction = useCallback((type: SyncActionType, payload: any) => {\n    const newAction: SyncAction = {\n      id: generateUUID(),\n      type,\n      payload,\n      timestamp: Date.now(),\n      status: 'pending',\n      retryCount: 0,\n    };\n\n    setQueue((prev) => [...prev, newAction]);\n    return newAction.id;\n  }, []);\n\n  const removeAction = useCallback((id: string) => {\n    setQueue((prev) => prev.filter((action) => action.id !== id));\n  }, []);\n\n  const updateActionStatus = useCallback(\n    (id: string, status: SyncAction['status'], error?: string) => {\n      setQueue((prev) =>\n        prev.map((action) =>\n          action.id === id\n            ? {\n                ...action,\n                status,\n                error,\n                retryCount: status === 'failed' ? action.retryCount + 1 : action.retryCount,\n              }\n            : action\n        )\n      );\n    },\n    []\n  );\n\n  const clearQueue = useCallback(() => {\n    setQueue([]);\n    localStorage.removeItem(QUEUE_STORAGE_KEY);\n  }, []);\n\n  const getPendingActions = useCallback(\n    () => queue.filter((action) => action.status === 'pending' || action.status === 'failed'),\n    [queue]\n  );\n\n  return {\n    queue,\n    addAction,\n    removeAction,\n    updateActionStatus,\n    clearQueue,\n    getPendingActions,\n  };\n}\n","import { useState, useEffect, useCallback } from 'react';\n\ninterface OfflineData<T> {\n  data: T | null;\n  timestamp: number;\n}\n\nexport const useOfflineMode = <T>(key: string, fetchData: () => Promise<T>) => {\n  const [data, setData] = useState<T | null>(null);\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  // Charger les donnes du cache\n  const loadFromCache = useCallback((): T | null => {\n    try {\n      const cached = localStorage.getItem(`offline_${key}`);\n      if (cached) {\n        const offlineData: OfflineData<T> = JSON.parse(cached);\n        return offlineData.data;\n      }\n    } catch (err) {\n      console.error('Error loading from cache:', err);\n    }\n    return null;\n  }, [key]);\n\n  // Sauvegarder dans le cache\n  const saveToCache = useCallback(\n    (data: T) => {\n      try {\n        const offlineData: OfflineData<T> = {\n          data,\n          timestamp: Date.now(),\n        };\n        localStorage.setItem(`offline_${key}`, JSON.stringify(offlineData));\n      } catch (err) {\n        console.error('Error saving to cache:', err);\n      }\n    },\n    [key]\n  );\n\n  // Charger les donnes\n  const loadData = useCallback(\n    async (forceRefresh = false) => {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        if (isOnline || forceRefresh) {\n          // Essayer de charger depuis le rseau\n          const freshData = await fetchData();\n          setData(freshData);\n          saveToCache(freshData);\n        } else {\n          // Charger depuis le cache si hors ligne\n          const cachedData = loadFromCache();\n          if (cachedData) {\n            setData(cachedData);\n          } else {\n            throw new Error('No cached data available');\n          }\n        }\n      } catch (err) {\n        setError(err as Error);\n        // Essayer de charger depuis le cache en cas d'erreur\n        const cachedData = loadFromCache();\n        if (cachedData) {\n          setData(cachedData);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [isOnline, fetchData, loadFromCache, saveToCache]\n  );\n\n  // couter les changements de connexion\n  useEffect(() => {\n    const handleOnline = () => {\n      setIsOnline(true);\n      loadData(true); // Rafrachir quand on revient en ligne\n    };\n\n    const handleOffline = () => {\n      setIsOnline(false);\n    };\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, [loadData]);\n\n  // Charger les donnes au montage\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  return {\n    data,\n    isOnline,\n    isLoading,\n    error,\n    refresh: () => loadData(true),\n  };\n};\n","// Titres des discours publics en Crole du Cap-Vert\nexport const TALK_TITLES: Record<string, string> = {\n  '1': 'Bu konxe Deus dretu?',\n  '2': 'Bu ta skara na tmpu di fin?',\n  '3': 'Bu sta ta anda ku organizason unidu di Jeov?',\n  '4': 'Ki prvas ten ma Deus ta izisti?',\n  '5': 'Kuz ki ta djuda bu famlia ser fils?',\n  '6': 'Kuz ki bu ta faze ku bu vida?',\n  '7': 'Imita mizerikordia di Jeov',\n  '9': 'Obi i kunpri Palavra di Deus',\n  '10': 'Modi ki nu pode faze bons amizadi',\n  '11': 'Kuz ki bu ta faze pa ten un vida ki ten sentidu?',\n  '12': 'Deus kr pa bu ruspeta kes ki ren autoridadi',\n  '15': 'Mostra bondadi pa tudu algen',\n  '16': 'Kontinua ta bira bu amizadi ku Deus ms frti',\n  '17': 'Da Deus glria ku tudu kel ki bu ten',\n  '18': 'Faze Jeov bu fortalza',\n  '26': 'Abo  inportanti pa Deus?',\n  '30': 'Modi ki familia pode ppia ku kunpanheru midjr',\n  '31': 'Bu ten konsnsia ma bu ten nisisidadi spritual?',\n  '32': 'Modi ki nu pode lida ku preokupasons di vida',\n  '36': 'Vida  s kel-li?',\n  '43': 'Kel ki Deus ta fla snpri  midjr pa nos',\n  '48': 'Modi ki nu pode kontinua lial pa Deus ras ki nu ta pasa pa prva',\n  '50': 'Modi ki nu pode toma disizons ki ta djuda-nu ten bons rezultadu na vida',\n  '55': 'Modi ki bu pode faze un bon nmi ki ta agrada Deus?',\n  '56': 'Na ki lider ki bu pode kunfia?',\n  '61': 'Na promsas di kenha ki bu ta kunfia?',\n  '64': \"Bu 'kr s passa sbi'  bu ta 'ama Deus'?\",\n  '65': 'Modi ki nu pode luta pa pas na un mundu xeiu di diu',\n  '70': 'Pamodi ki Deus merese nos kunfiansa?',\n  '76': 'Prinspius di Bblia pode djuda-nu lida ku prublmas di oji?',\n  '77': \"'Nhos mostra snpri ma nhos sabe resebe algen dretu'\",\n  '89': 'Modi ki sabedoria di Deus ta djuda-nu',\n  '100': 'Modi ki nu pode faze bons amizadi',\n  '102': 'Presta atenson na \"profesia\"',\n  '103': 'Modi ki bu pode xinti alegria di verdadi?',\n  '108': 'Bu pode kunfia ma nu ta ben ten un futuru sbi!',\n  '179': 'Nega iluzon di mundu, sforsa pa kes kuza di Reinu ki ta izisti di verdadi',\n  '183': 'Tra odju di kuzas ki ka ten valor!',\n  '185': 'Nega iluzon di mundu, sforsa pa kes kuza di Reinu ki ta izisti di verdadi',\n  '186': 'Faze vontadi di Deus djuntu ku se povu fils',\n  '189': 'Anda ku Deus ta traze-nu bensons gosi i pa tudu tmpu',\n  '194': 'Modi ki sabedoria di Deus ta djuda-nu',\n};\n\n// Fonction helper pour rcuprer le titre d'un discours\nexport function getTalkTitle(talkNo: string | number | null): string | null {\n  if (!talkNo) return null;\n  const key = String(talkNo);\n  return TALK_TITLES[key] || null;\n}\n","import { createContext, useState, useEffect, ReactNode, useContext } from 'react';\nimport {\n  AppData,\n  Speaker,\n  Visit,\n  Host,\n  MessageType,\n  MessageRole,\n  Language,\n  SyncAction,\n} from '@/types';\nimport * as storage from '@/utils/storage';\nimport { completeData } from '@/data/completeData';\nimport { UNASSIGNED_HOST, NA_HOST } from '@/data/commonConstants';\nimport { generateUUID } from '@/utils/uuid';\nimport { parseDate } from '@/utils/formatters';\nimport { useToast } from '@/contexts/ToastContext';\nimport { useSyncQueue } from '@/hooks/useSyncQueue';\nimport { useOfflineMode } from '@/hooks/useOfflineMode';\nimport { getTalkTitle } from '@/data/talkTitles';\n\n// Types condenss pour le context\ninterface DataContextValue extends AppData {\n  addSpeaker: (speaker: Speaker) => void;\n  updateSpeaker: (speaker: Speaker) => void;\n  deleteSpeaker: (id: string) => void;\n\n  addVisit: (visit: Visit) => void;\n  updateVisit: (visit: Visit) => void;\n  deleteVisit: (visitId: string) => void;\n  completeVisit: (visit: Visit) => void;\n\n  addHost: (host: Host) => void;\n  updateHost: (name: string, data: Partial<Host>) => void;\n  deleteHost: (name: string) => void;\n\n  logCommunication: (visitId: string, type: MessageType, role: MessageRole) => void;\n  saveCustomTemplate: (lang: Language, type: MessageType, role: MessageRole, text: string) => void;\n  updateCongregationProfile: (profile: any) => void;\n\n  exportData: () => string;\n  importData: (json: string) => void;\n  resetData: () => void;\n  syncWithGoogleSheet: () => Promise<void>;\n\n  refreshData: () => Promise<void>;\n\n  // Sync\n  syncQueue: SyncAction[];\n  isOnline: boolean;\n  clearSyncQueue: () => void;\n  mergeDuplicates: (\n    type: 'speaker' | 'host' | 'visit' | 'message',\n    keepId: string,\n    duplicateIds: string[]\n  ) => void;\n}\n\nconst DataContext = createContext<DataContextValue | undefined>(undefined);\n\nexport function DataProvider({ children }: { children: ReactNode }) {\n  const [data, setData] = useState<AppData>(completeData);\n  const [loaded, setLoaded] = useState(false);\n  const { addToast } = useToast();\n\n  const {\n    queue: syncQueue,\n    addAction: addToSyncQueue,\n    clearQueue: clearSyncQueue,\n  } = useSyncQueue();\n  // On utilise useOfflineMode simplement pour le statut online ici,\n  // car le chargement de donnes est dj gr par useEffect + idb ci-dessous\n  const { isOnline } = useOfflineMode('app_state', async () => completeData);\n\n  // Load - Charger depuis le stockage ou depuis le fichier JSON initial\n  useEffect(() => {\n    const loadInitialData = async () => {\n      try {\n        // Migration automatique si ncessaire\n        await storage.migrateToCapacitor();\n\n        const saved = await storage.get<AppData>('kbv-app-data');\n\n        // SOLUTION: Toujours utiliser completeData comme base, puis fusionner avec les sauvegardes\n        // Cela garantit que la tablette aura TOUTES les donnes compltes\n        const visitsWithTitles = (saved?.visits || []).map((visit) => ({\n          ...visit,\n          talkTheme: visit.talkTheme || getTalkTitle(visit.talkNoOrType),\n        }));\n\n        // FORCE RELOAD: Si les donnes sauvegardes n'ont pas la nouvelle version ou sont vides,\n        // utiliser uniquement completeData pour forcer le rechargement complet\n        const shouldForceReload =\n          !saved?.dataVersion ||\n          saved.dataVersion < '1.2.1' ||\n          !saved.speakers ||\n          saved.speakers.length < 50;\n\n        let mergedData;\n        if (shouldForceReload) {\n          console.log(' FORCE RELOAD: Utilisation exclusive de completeData (version 1.2.1)');\n          mergedData = {\n            ...completeData,\n            dataVersion: '1.2.1', // Forcer la nouvelle version\n          };\n        } else {\n          mergedData = {\n            ...completeData, // BASE = Donnes compltes intgres\n            ...saved, // SAUVEGARDES = Modifications utilisateur (visites termines, etc.)\n            visits: visitsWithTitles.length > 0 ? visitsWithTitles : completeData.visits,\n            // Prserver les htes personnaliss mais ajouter ceux manquants\n            hosts: [...completeData.hosts, ...(saved?.hosts || [])].filter(\n              (host, index, arr) => arr.findIndex((h) => h.nom === host.nom) === index\n            ),\n            dataVersion: '1.2.1', // Mettre  jour la version\n          };\n        }\n\n        setData(mergedData);\n        // Sauvegarder immdiatement les donnes compltes\n        await storage.set('kbv-app-data', mergedData);\n        setTimeout(() => addToast('Donnes compltes charges avec succs !', 'success'), 0);\n      } catch (error) {\n        console.error('Erreur lors du chargement des donnes:', error);\n        setData(completeData);\n      } finally {\n        setLoaded(true);\n      }\n    };\n\n    loadInitialData();\n  }, []);\n\n  // Save\n  useEffect(() => {\n    if (loaded) storage.set('kbv-app-data', data);\n  }, [data, loaded]);\n\n  // Speakers\n  const addSpeaker = (speaker: Speaker) => {\n    setData((d) => ({ ...d, speakers: [...d.speakers, speaker] }));\n    addToSyncQueue('ADD_SPEAKER', speaker);\n  };\n\n  const updateSpeaker = (speaker: Speaker) => {\n    setData((d) => {\n      const updatedSpeakers = d.speakers.map((s) => (s.id === speaker.id ? speaker : s));\n\n      // Synchroniser les visites futures avec les nouvelles donnes de l'orateur\n      const today = new Date();\n      const updatedVisits = d.visits.map((visit) => {\n        if (visit.id !== speaker.id) return visit;\n\n        const visitDate = new Date(visit.visitDate);\n        // Synchroniser uniquement les visites futures\n        if (visitDate >= today) {\n          return {\n            ...visit,\n            nom: speaker.nom,\n            congregation: speaker.congregation,\n            telephone: speaker.telephone,\n            photoUrl: speaker.photoUrl,\n          };\n        }\n\n        return visit;\n      });\n\n      return {\n        ...d,\n        speakers: updatedSpeakers,\n        visits: updatedVisits,\n      };\n    });\n    addToSyncQueue('UPDATE_SPEAKER', speaker);\n  };\n\n  const deleteSpeaker = (id: string) => {\n    setData((d) => ({ ...d, speakers: d.speakers.filter((s) => s.id !== id) }));\n    addToSyncQueue('DELETE_SPEAKER', { id });\n  };\n\n  // Visits\n  const addVisit = (visit: Visit) => {\n    setData((d) => ({ ...d, visits: [...d.visits, visit] }));\n    addToSyncQueue('ADD_VISIT', visit);\n  };\n\n  const updateVisit = (visit: Visit) => {\n    setData((d) => ({\n      ...d,\n      visits: d.visits.map((v) => (v.visitId === visit.visitId ? visit : v)),\n    }));\n    addToSyncQueue('UPDATE_VISIT', visit);\n  };\n\n  const deleteVisit = (visitId: string) => {\n    setData((d) => ({ ...d, visits: d.visits.filter((v) => v.visitId !== visitId) }));\n    addToSyncQueue('DELETE_VISIT', { visitId });\n  };\n\n  const completeVisit = (visit: Visit) => {\n    setData((d) => ({\n      ...d,\n      visits: d.visits.filter((v) => v.visitId !== visit.visitId),\n      archivedVisits: [...d.archivedVisits, { ...visit, status: 'completed' }],\n    }));\n  };\n\n  // Hosts\n  const addHost = (host: Host) => {\n    setData((d) => ({ ...d, hosts: [...d.hosts, host] }));\n  };\n\n  const updateHost = (name: string, updates: Partial<Host>) => {\n    setData((d) => ({\n      ...d,\n      hosts: d.hosts.map((h) => (h.nom === name ? { ...h, ...updates } : h)),\n    }));\n  };\n\n  const deleteHost = (name: string) => {\n    setData((d) => ({ ...d, hosts: d.hosts.filter((h) => h.nom !== name) }));\n  };\n\n  // Communication\n  const logCommunication = (visitId: string, type: MessageType, role: MessageRole) => {\n    setData((d) => ({\n      ...d,\n      visits: d.visits.map((v) =>\n        v.visitId === visitId\n          ? {\n              ...v,\n              communicationStatus: {\n                ...v.communicationStatus,\n                [type]: {\n                  ...(v.communicationStatus?.[type] || {}),\n                  [role]: new Date().toISOString(),\n                },\n              },\n            }\n          : v\n      ),\n    }));\n  };\n\n  // Templates\n  const saveCustomTemplate = (\n    lang: Language,\n    type: MessageType,\n    role: MessageRole,\n    text: string\n  ) => {\n    setData((d) => ({\n      ...d,\n      customTemplates: {\n        ...d.customTemplates,\n        [lang]: {\n          ...(d.customTemplates[lang] || {}),\n          [type]: {\n            ...((d.customTemplates[lang] as any)?.[type] || {}),\n            [role]: text,\n          },\n        },\n      },\n    }));\n  };\n\n  // Profile\n  const updateCongregationProfile = (profile: any) => {\n    setData((d) => ({\n      ...d,\n      congregationProfile: { ...d.congregationProfile, ...profile },\n    }));\n  };\n\n  const resetData = () => {\n    setData(completeData);\n    storage.clear();\n  };\n\n  // Google Sheets Sync\n  const syncWithGoogleSheet = async (): Promise<void> => {\n    const googleSheetId = '1drIzPPi6AohCroSyUkF1UmMFxuEtMACBF4XATDjBOcg';\n    const range = 'A:E';\n    const sheetGidsToTry = ['490509024', '1817293373', '936069614', '1474640023'];\n\n    const allRows: any[] = [];\n    let cols: any = null;\n    const successfulGids: string[] = [];\n\n    for (const gid of sheetGidsToTry) {\n      const url = `https://docs.google.com/spreadsheets/d/${googleSheetId}/gviz/tq?gid=${gid}&range=${encodeURIComponent(range)}&tqx=out:json`;\n\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          console.warn(`Could not fetch sheet with gid \"${gid}\". Trying next one.`);\n          continue;\n        }\n\n        const rawText = await response.text();\n        const jsonMatch = rawText.match(/google\\.visualization\\.Query\\.setResponse\\((.*)\\)/);\n        if (!jsonMatch || !jsonMatch[1]) {\n          console.warn(`Invalid response from sheet with gid \"${gid}\". Trying next one.`);\n          continue;\n        }\n\n        const parsedData = JSON.parse(jsonMatch[1]);\n        if (parsedData.status === 'error') {\n          console.warn(\n            `Error in sheet with gid \"${gid}\": ${parsedData.errors.map((e: any) => e.detailed_message).join(', ')}. Trying next one.`\n          );\n          continue;\n        }\n\n        if (parsedData.table && parsedData.table.rows) {\n          allRows.push(...parsedData.table.rows);\n          if (!cols) cols = parsedData.table.cols;\n          successfulGids.push(gid);\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des donnes:', error);\n        setData(completeData);\n      }\n\n      if (allRows.length === 0) {\n        setTimeout(\n          () =>\n            addToast('Impossible de rcuprer des donnes depuis les onglets spcifis.', 'error'),\n          0\n        );\n        return;\n      }\n\n      try {\n        const rows = allRows;\n\n        if (!rows || rows.length === 0) {\n          setTimeout(\n            () => addToast('Aucune donne trouve dans les feuilles synchronises.', 'warning'),\n            0\n          );\n          return;\n        }\n\n        const headers = cols.map((h: any) =>\n          h.label\n            .toLowerCase()\n            .trim()\n            .normalize('NFD')\n            .replace(/[\\u0300-\\u036f]/g, '')\n            .replace(/[^a-z0-9]/g, '')\n        );\n        const dateIndex = headers.findIndex((h: string) => h.includes('data'));\n        const speakerIndex = headers.findIndex((h: string) => h.includes('orador'));\n        const congIndex = headers.findIndex((h: string) => h.includes('kongregason'));\n        const talkNoIndex = headers.findIndex((h: string) => h === 'n' || h === 'no');\n        const themeIndex = headers.findIndex((h: string) => h.includes('tema'));\n\n        if ([dateIndex, speakerIndex, congIndex].some((i) => i === -1)) {\n          setTimeout(\n            () => addToast('En-ttes requis manquants: Data, Orador, Kongregason.', 'error'),\n            0\n          );\n          return;\n        }\n\n        let addedCount = 0,\n          updatedCount = 0,\n          skippedCount = 0;\n        const addedVisitsDetails: string[] = [];\n        const updatedVisitsDetails: string[] = [];\n\n        setData((prev) => {\n          const newSpeakers = [...prev.speakers];\n          const newVisits = [...prev.visits];\n          const speakerMap = new Map(newSpeakers.map((s) => [s.nom.toLowerCase(), s]));\n\n          for (const row of rows) {\n            const cells = row.c;\n            const dateValue = cells[dateIndex]?.v;\n            let visitDateObj: Date | null = null;\n\n            if (typeof dateValue === 'string' && dateValue.startsWith('Date(')) {\n              const dateParts = dateValue.substring(5, dateValue.length - 1).split(',');\n              visitDateObj = new Date(\n                Number(dateParts[0]),\n                Number(dateParts[1]),\n                Number(dateParts[2])\n              );\n            } else if (typeof dateValue === 'string') {\n              visitDateObj = parseDate(dateValue);\n            }\n\n            const speakerName = cells[speakerIndex]?.v?.trim();\n            const congregation = cells[congIndex]?.v?.trim() || '';\n\n            if (!visitDateObj || !speakerName) {\n              skippedCount++;\n              continue;\n            }\n\n            // Timezone-safe date formatting\n            const year = visitDateObj.getFullYear();\n            const month = String(visitDateObj.getMonth() + 1).padStart(2, '0');\n            const day = String(visitDateObj.getDate()).padStart(2, '0');\n            const formattedDate = `${year}-${month}-${day}`;\n\n            const displayDate = visitDateObj.toLocaleDateString('fr-FR');\n\n            let speaker = speakerMap.get(speakerName.toLowerCase());\n            if (!speaker) {\n              speaker = {\n                id: generateUUID(),\n                nom: speakerName,\n                congregation: congregation || ' dfinir',\n                talkHistory: [],\n                gender: 'male',\n              };\n              newSpeakers.push(speaker);\n              speakerMap.set(speakerName.toLowerCase(), speaker);\n            } else if (speaker.congregation !== congregation && congregation) {\n              // Update congregation if it differs\n              speaker.congregation = congregation;\n            }\n\n            const existingVisitIndex = newVisits.findIndex((v) => v.visitDate === formattedDate);\n\n            const talkNoValue =\n              talkNoIndex > -1\n                ? cells[talkNoIndex]?.v !== null\n                  ? String(cells[talkNoIndex]?.v)\n                  : null\n                : null;\n            const themeValue =\n              themeIndex > -1\n                ? cells[themeIndex]?.v !== null\n                  ? String(cells[themeIndex]?.v)\n                  : null\n                : null;\n            // Si pas de titre dans le sheet, utiliser le titre par dfaut\n            const finalTheme = themeValue || getTalkTitle(talkNoValue);\n\n            if (existingVisitIndex > -1) {\n              const existingVisit = newVisits[existingVisitIndex];\n              const updates: string[] = [];\n\n              if (existingVisit.id !== speaker.id) {\n                existingVisit.id = speaker.id;\n                existingVisit.nom = speaker.nom;\n                existingVisit.telephone = speaker.telephone;\n                existingVisit.photoUrl = speaker.photoUrl;\n                updates.push('Orateur');\n              }\n\n              if (congregation && existingVisit.congregation !== congregation) {\n                existingVisit.congregation = congregation;\n                updates.push('Congrgation');\n              }\n              if (talkNoIndex > -1 && existingVisit.talkNoOrType !== talkNoValue) {\n                existingVisit.talkNoOrType = talkNoValue;\n                updates.push('N Discours');\n              }\n              if (themeIndex > -1 && existingVisit.talkTheme !== finalTheme) {\n                existingVisit.talkTheme = finalTheme;\n                updates.push('Thme');\n              }\n\n              if (updates.length > 0) {\n                updatedCount++;\n                updatedVisitsDetails.push(\n                  `- ${speaker.nom} (${displayDate}): ${updates.join(', ')}`\n                );\n              }\n            } else {\n              const newVisit: Visit = {\n                id: speaker.id,\n                nom: speaker.nom,\n                congregation,\n                telephone: speaker.telephone,\n                photoUrl: speaker.photoUrl,\n                visitId: generateUUID(),\n                visitDate: formattedDate,\n                visitTime: prev.congregationProfile.meetingTime || '14:30',\n                host:\n                  congregation.toLowerCase().includes('zoom') ||\n                  congregation.toLowerCase().includes('streaming')\n                    ? NA_HOST\n                    : UNASSIGNED_HOST,\n                accommodation: '',\n                meals: '',\n                status: 'pending',\n                locationType: congregation.toLowerCase().includes('zoom')\n                  ? 'zoom'\n                  : congregation.toLowerCase().includes('streaming')\n                    ? 'streaming'\n                    : 'physical',\n                talkNoOrType: talkNoValue,\n                talkTheme: finalTheme,\n                communicationStatus: {},\n              };\n              newVisits.push(newVisit);\n              addedCount++;\n              addedVisitsDetails.push(`- ${newVisit.nom} (${displayDate})`);\n            }\n          }\n          // IMPORTANT: Prserver les htes lors de la sync\n          return { ...prev, speakers: newSpeakers, visits: newVisits, hosts: prev.hosts };\n        });\n\n        let toastMessage = `Synchronisation depuis les onglets ${successfulGids.join(', ')} termine !\\n- ${addedCount} visite(s) ajoute(s)\\n- ${updatedCount} visite(s) mise(s)  jour\\n- ${skippedCount} ligne(s) ignore(s)`;\n        if (addedVisitsDetails.length > 0) {\n          toastMessage += `\\n\\nAjouts:\\n${addedVisitsDetails.join('\\n')}`;\n        }\n        if (updatedVisitsDetails.length > 0) {\n          toastMessage += `\\n\\nMises  jour:\\n${updatedVisitsDetails.join('\\n')}`;\n        }\n        localStorage.setItem('lastGoogleSheetSync', new Date().toISOString());\n        setTimeout(() => addToast(toastMessage, 'success', 15000), 0);\n      } catch (error) {\n        console.error('Error syncing with Google Sheet:', error);\n        setTimeout(\n          () =>\n            addToast(\n              `Erreur de synchronisation: ${error instanceof Error ? error.message : 'Inconnue'}.`,\n              'error'\n            ),\n          0\n        );\n      }\n    }\n  };\n\n  const refreshData = async (): Promise<void> => {\n    // Mettre  jour tous les titres manquants\n    setData((prev) => {\n      const visitsWithTitles = prev.visits.map((visit) => ({\n        ...visit,\n        talkTheme: visit.talkTheme || getTalkTitle(visit.talkNoOrType),\n      }));\n      return { ...prev, visits: visitsWithTitles };\n    });\n    await new Promise((resolve) => setTimeout(resolve, 500));\n  };\n\n  const exportData = (): string => {\n    const dataToExport = {\n      ...data,\n      dataVersion: data.dataVersion || '1.0.0',\n    };\n    return JSON.stringify(dataToExport, null, 2);\n  };\n\n  const importData = (json: string) => {\n    try {\n      const parsed = JSON.parse(json);\n\n      // Validation plus souple\n      if (!parsed.speakers || !parsed.visits) {\n        throw new Error('Format de donnes invalide : orateurs ou visites manquants');\n      }\n\n      // Si version manquante, on assume 1.0.0\n      if (!parsed.dataVersion) {\n        console.warn(\n          \"Version de donnes manquante lors de l'import, ajout de la version par dfaut 1.0.0\"\n        );\n        parsed.dataVersion = '1.0.0';\n      }\n\n      // Update state and persistence\n      setData(parsed);\n      setLoaded(true);\n      // Force immediate save to storage\n      storage.set('kbv-app-data', parsed).then(() => {\n        setTimeout(() => addToast('Donnes importes avec succs !', 'success'), 0);\n      });\n    } catch (e) {\n      console.error('Import error:', e);\n      setTimeout(\n        () =>\n          addToast(\n            `Erreur lors de l'importation: ${e instanceof Error ? e.message : 'Format invalide'}`,\n            'error'\n          ),\n        0\n      );\n    }\n  };\n\n  // Merge Duplicates\n  const mergeDuplicates = (\n    type: 'speaker' | 'host' | 'visit' | 'message' | 'archivedVisit',\n    keepId: string,\n    duplicateIds: string[]\n  ) => {\n    setData((prev) => {\n      const newState = { ...prev };\n      const updates: string[] = [];\n\n      if (type === 'speaker') {\n        const keepSpeaker = prev.speakers.find((s) => s.id === keepId);\n        if (!keepSpeaker) return prev;\n\n        // 1. Mettre  jour toutes les visites pointant vers les doublons\n        newState.visits = prev.visits.map((v) => {\n          if (duplicateIds.includes(v.id)) {\n            updates.push(`Visite ${v.visitDate} rassigne  ${keepSpeaker.nom}`);\n            return {\n              ...v,\n              id: keepId,\n              nom: keepSpeaker.nom,\n              telephone: keepSpeaker.telephone || v.telephone,\n              photoUrl: keepSpeaker.photoUrl || v.photoUrl,\n            };\n          }\n          return v;\n        });\n\n        // 2. Supprimer les doublons\n        newState.speakers = prev.speakers.filter((s) => !duplicateIds.includes(s.id));\n        addToSyncQueue('DELETE_SPEAKER', { count: duplicateIds.length, ids: duplicateIds });\n      } else if (type === 'host') {\n        // keepId est le NOM de l'hte  garder\n        const keepHostName = keepId;\n\n        // 1. Mettre  jour toutes les visites utilisant les noms en doublon\n        newState.visits = prev.visits.map((v) => {\n          if (duplicateIds.includes(v.host)) {\n            updates.push(`Visite ${v.visitDate} hte mis  jour: ${v.host} -> ${keepHostName}`);\n            return { ...v, host: keepHostName };\n          }\n          return v;\n        });\n\n        // 2. Supprimer les doublons\n        newState.hosts = prev.hosts.filter((h) => !duplicateIds.includes(h.nom));\n        addToSyncQueue('DELETE_HOST', { count: duplicateIds.length, names: duplicateIds });\n      } else if (type === 'visit') {\n        // keepId est le visitId  garder\n        // 1. Supprimer les autres visites\n        newState.visits = prev.visits.filter(\n          (v) => v.visitId === keepId || !duplicateIds.includes(v.visitId)\n        );\n        addToSyncQueue('DELETE_VISIT', { count: duplicateIds.length, visitIds: duplicateIds });\n      } else if (type === 'archivedVisit') {\n        // keepId est le visitId  garder\n        // 1. Supprimer les doublons des visites actuelles ET archives\n        newState.visits = prev.visits.filter(\n          (v) => v.visitId === keepId || !duplicateIds.includes(v.visitId)\n        );\n        newState.archivedVisits = prev.archivedVisits.filter(\n          (v) => v.visitId === keepId || !duplicateIds.includes(v.visitId)\n        );\n        updates.push(`${duplicateIds.length} visite(s) archive(s) supprime(s)`);\n      } else if (type === 'message') {\n        // keepId est le message id  garder\n        // 1. Supprimer les autres messages\n        newState.speakerMessages = (prev.speakerMessages || []).filter(\n          (m) => m.id === keepId || !duplicateIds.includes(m.id)\n        );\n        // addToSyncQueue('DELETE_MESSAGE', { count: duplicateIds.length, messageIds: duplicateIds }); // TODO: Implement DELETE_MESSAGE sync if needed\n      }\n\n      if (updates.length > 0) {\n        setTimeout(() => addToast(`${updates.length} relation(s) mise(s)  jour lors de la fusion`, 'info'), 0);\n      }\n      return newState;\n    });\n  };\n\n  if (!loaded) {\n    return (\n      <div className='h-screen flex items-center justify-center'>\n        <div className='animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600' />\n      </div>\n    );\n  }\n\n  return (\n    <DataContext.Provider\n      value={{\n        ...data,\n        addSpeaker,\n        updateSpeaker,\n        deleteSpeaker,\n        addVisit,\n        updateVisit,\n        deleteVisit,\n        completeVisit,\n        addHost,\n        updateHost,\n        deleteHost,\n        logCommunication,\n        saveCustomTemplate,\n        updateCongregationProfile,\n        exportData,\n        importData,\n        resetData,\n        syncWithGoogleSheet,\n        refreshData,\n        syncQueue,\n        isOnline,\n        clearSyncQueue,\n        mergeDuplicates,\n      }}\n    >\n      {children}\n    </DataContext.Provider>\n  );\n}\n\nexport function useData() {\n  const ctx = useContext(DataContext);\n  if (!ctx) throw new Error('useData must be used within DataProvider');\n  return ctx;\n}\n","import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { Settings, Language, Theme, NotificationSettings } from '@/types';\nimport * as idb from '@/utils/idb';\n\n// ============================================================================\n// PARAMTRES PAR DFAUT\n// ============================================================================\n\nconst defaultSettings: Settings = {\n  theme: 'light',\n  language: 'fr',\n  notifications: {\n    enabled: true,\n    reminderDays: [7, 2],\n    sound: true,\n    vibration: true,\n  },\n  encryptionEnabled: false,\n  sessionTimeout: 30, // 30 minutes\n  autoArchiveDays: 90,\n};\n\n// ============================================================================\n// CONTEXT\n// ============================================================================\n\ninterface SettingsContextValue {\n  settings: Settings;\n  updateSettings: (updates: Partial<Settings>) => Promise<void>;\n  setTheme: (theme: Theme) => void;\n  setLanguage: (language: Language) => void;\n  setNotifications: (notifications: Partial<NotificationSettings>) => void;\n  resetSettings: () => Promise<void>;\n}\n\nconst SettingsContext = createContext<SettingsContextValue | undefined>(undefined);\n\n// ============================================================================\n// PROVIDER\n// ============================================================================\n\nexport function SettingsProvider({ children }: { children: ReactNode }) {\n  const [settings, setSettings] = useState<Settings>(defaultSettings);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // Charger les paramtres depuis IndexedDB\n  useEffect(() => {\n    const loadSettings = async () => {\n      try {\n        const saved = await idb.get<Settings>('kbv-settings');\n        if (saved) {\n          // Fusionner avec les dfauts pour s'assurer que les nouvelles proprits existent\n          // et que les anciennes (comme aiSettings) sont ignores si elles ne sont plus dans le type\n          const { aiSettings, ...rest } = (saved as any);\n          setSettings({ ...defaultSettings, ...rest });\n        }\n      } catch (error) {\n        console.error('Error loading settings:', error);\n      } finally {\n        setIsLoaded(true);\n      }\n    };\n\n    loadSettings();\n  }, []);\n\n  // Sauvegarder les paramtres dans IndexedDB\n  useEffect(() => {\n    if (isLoaded) {\n      idb.set('kbv-settings', settings).catch((error) => {\n        console.error('Error saving settings:', error);\n      });\n    }\n  }, [settings, isLoaded]);\n\n  // Appliquer le thme\n  useEffect(() => {\n    const root = document.documentElement;\n\n    if (settings.theme === 'dark') {\n      root.classList.add('dark');\n    } else if (settings.theme === 'light') {\n      root.classList.remove('dark');\n    } else {\n      // Auto: dtecter la prfrence systme\n      const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n      if (isDark) {\n        root.classList.add('dark');\n      } else {\n        root.classList.remove('dark');\n      }\n    }\n  }, [settings.theme]);\n\n  // Appliquer la langue\n  useEffect(() => {\n    document.documentElement.lang = settings.language;\n  }, [settings.language]);\n\n  // Fonctions de mise  jour\n  const updateSettings = async (updates: Partial<Settings>) => {\n    setSettings((prev: Settings) => ({ ...prev, ...updates }));\n  };\n\n  const setTheme = (theme: Theme) => {\n    updateSettings({ theme });\n  };\n\n  const setLanguage = (language: Language) => {\n    updateSettings({ language });\n  };\n\n  const setNotifications = (notifications: Partial<NotificationSettings>) => {\n    setSettings((prev: Settings) => ({\n      ...prev,\n      notifications: { ...prev.notifications, ...notifications },\n    }));\n  };\n\n  const resetSettings = async () => {\n    setSettings(defaultSettings);\n    await idb.set('kbv-settings', defaultSettings);\n  };\n\n  if (!isLoaded) {\n    return (\n      <div className='h-screen flex items-center justify-center'>\n        <div className='animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600' />\n      </div>\n    );\n  }\n\n  return (\n    <SettingsContext.Provider\n      value={{\n        settings,\n        updateSettings,\n        setTheme,\n        setLanguage,\n        setNotifications,\n        resetSettings,\n      }}\n    >\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\nexport function useSettings() {\n  const context = useContext(SettingsContext);\n  if (!context) {\n    throw new Error('useSettings must be used within SettingsProvider');\n  }\n  return context;\n}\n","import { createContext, useContext, useState, useCallback, ReactNode } from 'react';\nimport { AlertTriangle } from 'lucide-react';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\ninterface ConfirmOptions {\n  title?: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  confirmVariant?: 'primary' | 'danger';\n}\n\ninterface ConfirmContextValue {\n  confirm: (options: ConfirmOptions | string) => Promise<boolean>;\n}\n\ninterface ConfirmState {\n  isOpen: boolean;\n  options: ConfirmOptions;\n  resolve: ((value: boolean) => void) | null;\n}\n\n// ============================================================================\n// CONTEXT\n// ============================================================================\n\nconst ConfirmContext = createContext<ConfirmContextValue | undefined>(undefined);\n\n// ============================================================================\n// PROVIDER\n// ============================================================================\n\nexport function ConfirmProvider({ children }: { children: ReactNode }) {\n  const [state, setState] = useState<ConfirmState>({\n    isOpen: false,\n    options: { message: '' },\n    resolve: null,\n  });\n\n  const confirm = useCallback(\n    (options: ConfirmOptions | string): Promise<boolean> =>\n      new Promise((resolve) => {\n        const confirmOptions: ConfirmOptions =\n          typeof options === 'string' ? { message: options } : options;\n\n        setState({\n          isOpen: true,\n          options: {\n            title: 'Confirmation',\n            confirmText: 'Confirmer',\n            cancelText: 'Annuler',\n            confirmVariant: 'primary',\n            ...confirmOptions,\n          },\n          resolve,\n        });\n      }),\n    []\n  );\n\n  const handleConfirm = useCallback(() => {\n    if (state.resolve) {\n      state.resolve(true);\n    }\n    setState({ isOpen: false, options: { message: '' }, resolve: null });\n  }, [state.resolve]);\n\n  const handleCancel = useCallback(() => {\n    if (state.resolve) {\n      state.resolve(false);\n    }\n    setState({ isOpen: false, options: { message: '' }, resolve: null });\n  }, [state.resolve]);\n\n  return (\n    <ConfirmContext.Provider value={{ confirm }}>\n      {children}\n      {state.isOpen && (\n        <ConfirmDialog options={state.options} onConfirm={handleConfirm} onCancel={handleCancel} />\n      )}\n    </ConfirmContext.Provider>\n  );\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\nexport function useConfirm() {\n  const context = useContext(ConfirmContext);\n  if (!context) {\n    throw new Error('useConfirm must be used within ConfirmProvider');\n  }\n  return context;\n}\n\n// ============================================================================\n// CONFIRM DIALOG\n// ============================================================================\n\nfunction ConfirmDialog({\n  options,\n  onConfirm,\n  onCancel,\n}: {\n  options: ConfirmOptions;\n  onConfirm: () => void;\n  onCancel: () => void;\n}) {\n  const confirmButtonClass = options.confirmVariant === 'danger' ? 'btn-danger' : 'btn-primary';\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className='fixed inset-0 bg-black/50 z-50 fade-in'\n        onClick={onCancel}\n        aria-hidden='true'\n      />\n\n      {/* Dialog */}\n      <div className='fixed inset-0 z-50 flex items-center justify-center p-4'>\n        <div\n          className='bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full slide-up'\n          role='dialog'\n          aria-modal='true'\n          aria-labelledby='confirm-title'\n        >\n          {/* Header */}\n          <div className='flex items-center gap-3 p-6 border-b border-gray-200 dark:border-gray-700'>\n            <div className='flex-shrink-0'>\n              <div className='w-10 h-10 rounded-full bg-warning-100 dark:bg-warning-900 flex items-center justify-center'>\n                <AlertTriangle className='w-5 h-5 text-warning-600 dark:text-warning-400' />\n              </div>\n            </div>\n            <h2\n              id='confirm-title'\n              className='text-lg font-semibold text-gray-900 dark:text-gray-100'\n            >\n              {options.title}\n            </h2>\n          </div>\n\n          {/* Body */}\n          <div className='p-6'>\n            <p className='text-gray-700 dark:text-gray-300'>{options.message}</p>\n          </div>\n\n          {/* Footer */}\n          <div className='flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700'>\n            <button onClick={onCancel} className='btn-secondary'>\n              {options.cancelText}\n            </button>\n            <button onClick={onConfirm} className={confirmButtonClass} autoFocus>\n              {options.confirmText}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport type Platform = 'ios' | 'android' | 'web';\nexport type DeviceType = 'phone' | 'tablet' | 'desktop';\nexport type Orientation = 'portrait' | 'landscape';\n\ninterface PlatformInfo {\n  platform: Platform;\n  deviceType: DeviceType;\n  screenSize: {\n    width: number;\n    height: number;\n  };\n  orientation: Orientation;\n  isSamsung: boolean;\n  hasSPen: boolean;\n  isTabletS10Ultra: boolean;\n  isPhoneS25Ultra: boolean;\n}\n\nexport const usePlatform = (): PlatformInfo => {\n  const [platformInfo, setPlatformInfo] = useState<PlatformInfo>(() => detectPlatform());\n\n  useEffect(() => {\n    const handleResize = () => {\n      setPlatformInfo(detectPlatform());\n    };\n\n    const handleOrientationChange = () => {\n      setPlatformInfo(detectPlatform());\n    };\n\n    window.addEventListener('resize', handleResize);\n    window.addEventListener('orientationchange', handleOrientationChange);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      window.removeEventListener('orientationchange', handleOrientationChange);\n    };\n  }, []);\n\n  return platformInfo;\n};\n\nfunction detectPlatform(): PlatformInfo {\n  const userAgent = navigator.userAgent || navigator.vendor || (window as any).opera;\n  const width = window.innerWidth;\n  const height = window.innerHeight;\n\n  // Dtection de la plateforme\n  const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !(window as any).MSStream;\n  const isAndroid = /android/i.test(userAgent);\n  const isSamsung = /samsung/i.test(userAgent) || /SM-/i.test(userAgent);\n\n  // Dtection du S Pen (via PointerEvent)\n  const hasSPen =\n    'PointerEvent' in window &&\n    (userAgent.includes('SM-X926') || // Tab S10 Ultra\n      userAgent.includes('SM-S938')); // S25 Ultra\n\n  // Dtection des modles spcifiques Samsung\n  const isTabletS10Ultra =\n    userAgent.includes('SM-X926') ||\n    (isSamsung && width >= 1848 && height >= 2960) ||\n    (isSamsung && width >= 2960 && height >= 1848);\n\n  const isPhoneS25Ultra =\n    userAgent.includes('SM-S938') ||\n    (isSamsung && width >= 1440 && width <= 1440 && height >= 3120);\n\n  // Dtection du type d'appareil bas sur la taille d'cran\n  // En paysage, on utilise la hauteur pour dtecter car la largeur peut tre rduite par le scaling\n  const minDimension = Math.min(width, height);\n  const maxDimension = Math.max(width, height);\n\n  let deviceType: DeviceType = 'desktop';\n\n  // Si la plus grande dimension est > 1000px, c'est une tablette\n  if (maxDimension >= 1000) {\n    deviceType = 'tablet';\n  } else if (minDimension < 600) {\n    deviceType = 'phone';\n  } else {\n    deviceType = 'tablet';\n  }\n\n  // Override pour les appareils Samsung spcifiques\n  if (isTabletS10Ultra) {\n    deviceType = 'tablet';\n  } else if (isPhoneS25Ultra) {\n    deviceType = 'phone';\n  }\n\n  // Dtection de l'orientation\n  const orientation: Orientation = width > height ? 'landscape' : 'portrait';\n\n  // Dterminer la plateforme\n  let platform: Platform = 'web';\n  if (isIOS) {\n    platform = 'ios';\n  } else if (isAndroid) {\n    platform = 'android';\n  }\n\n  return {\n    platform,\n    deviceType,\n    screenSize: { width, height },\n    orientation,\n    isSamsung,\n    hasSPen,\n    isTabletS10Ultra,\n    isPhoneS25Ultra,\n  };\n}\n","import React, { createContext, useContext, ReactNode } from 'react';\nimport { usePlatform } from '@/hooks/usePlatform';\n\ntype Platform = 'ios' | 'android' | 'web';\ntype DeviceType = 'phone' | 'tablet' | 'desktop';\ntype Orientation = 'portrait' | 'landscape';\n\ninterface PlatformContextType {\n  platform: Platform;\n  deviceType: DeviceType;\n  screenSize: {\n    width: number;\n    height: number;\n  };\n  orientation: Orientation;\n  isSamsung: boolean;\n  hasSPen: boolean;\n  isTabletS10Ultra: boolean;\n  isPhoneS25Ultra: boolean;\n}\n\nconst PlatformContext = createContext<PlatformContextType | undefined>(undefined);\n\ninterface PlatformProviderProps {\n  children: ReactNode;\n}\n\nexport const PlatformProvider: React.FC<PlatformProviderProps> = ({ children }) => {\n  const platformInfo = usePlatform();\n\n  return <PlatformContext.Provider value={platformInfo}>{children}</PlatformContext.Provider>;\n};\n\nexport const usePlatformContext = () => {\n  const context = useContext(PlatformContext);\n  if (context === undefined) {\n    throw new Error('usePlatformContext must be used within a PlatformProvider');\n  }\n  return context;\n};\n","import React, { createContext, useContext, useEffect, ReactNode, useState } from 'react';\n\n// Contexte pour l'accessibilit globale\ninterface AccessibilityContextType {\n  announceMessage: (message: string, priority?: 'polite' | 'assertive') => void;\n  isKeyboardNavigation: boolean;\n  reducedMotion: boolean;\n}\n\nconst AccessibilityContext = createContext<AccessibilityContextType | null>(null);\n\nexport function useAccessibility() {\n  const context = useContext(AccessibilityContext);\n  if (!context) {\n    throw new Error('useAccessibility must be used within AccessibilityProvider');\n  }\n  return context;\n}\n\ninterface AccessibilityProviderProps {\n  children: ReactNode;\n}\n\nexport function AccessibilityProvider({ children }: AccessibilityProviderProps) {\n  const [announceElement, setAnnounceElement] = useState<HTMLDivElement | null>(null);\n  const [isKeyboardNavigation, setIsKeyboardNavigation] = useState(false);\n  const [reducedMotion, setReducedMotion] = useState(false);\n\n  useEffect(() => {\n    // Dtecter si l'utilisateur utilise le clavier\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Tab') {\n        setIsKeyboardNavigation(true);\n      }\n    };\n\n    const handleMouseDown = () => {\n      setIsKeyboardNavigation(false);\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('mousedown', handleMouseDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('mousedown', handleMouseDown);\n    };\n  }, []);\n\n  useEffect(() => {\n    // Dtecter les prfrences d'accessibilit systme\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReducedMotion(mediaQuery.matches);\n\n    const handleChange = (e: MediaQueryListEvent) => {\n      setReducedMotion(e.matches);\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);\n\n  useEffect(() => {\n    // Crer l'lment live-region pour les annonces\n    const element = document.createElement('div');\n    element.setAttribute('aria-live', 'polite');\n    element.setAttribute('aria-atomic', 'true');\n    element.className = 'sr-only'; // Screen reader only\n    document.body.appendChild(element);\n    setAnnounceElement(element);\n\n    return () => {\n      if (element.parentNode) {\n        document.body.removeChild(element);\n      }\n    };\n  }, []);\n\n  const announceMessage = (message: string, priority: 'polite' | 'assertive' = 'polite') => {\n    if (announceElement) {\n      announceElement.setAttribute('aria-live', priority);\n      announceElement.textContent = message;\n\n      // Nettoyer le message aprs un dlai\n      setTimeout(() => {\n        if (announceElement) {\n          announceElement.textContent = '';\n        }\n      }, 1000);\n    }\n  };\n\n  const contextValue: AccessibilityContextType = {\n    announceMessage,\n    isKeyboardNavigation,\n    reducedMotion,\n  };\n\n  return (\n    <AccessibilityContext.Provider value={contextValue}>{children}</AccessibilityContext.Provider>\n  );\n}\n\n// Composant pour les icnes avec accessibilit\ninterface AccessibleIconProps {\n  icon: React.ComponentType<{ className?: string }>;\n  label: string;\n  className?: string;\n  size?: 'sm' | 'md' | 'lg';\n}\n\nexport function AccessibleIcon({\n  icon: Icon,\n  label,\n  className = '',\n  size = 'md',\n}: AccessibleIconProps) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-5 h-5',\n    lg: 'w-6 h-6',\n  };\n\n  return (\n    <span className='inline-flex items-center justify-center' aria-label={label} role='img'>\n      <Icon className={`${sizeClasses[size]} ${className}`} />\n    </span>\n  );\n}\n\n// Hook pour les raccourcis clavier\nexport function useKeyboardShortcuts(shortcuts: Record<string, () => void>) {\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const key = e.key.toLowerCase();\n      const ctrlOrMeta = e.ctrlKey || e.metaKey;\n\n      // Raccourcis globaux\n      if (ctrlOrMeta && key === 'k') {\n        e.preventDefault();\n        shortcuts['ctrl+k']?.();\n      } else if (ctrlOrMeta && key === '/') {\n        e.preventDefault();\n        shortcuts['ctrl+/']?.();\n      } else if (ctrlOrMeta && key === 's') {\n        e.preventDefault();\n        shortcuts['ctrl+s']?.();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [shortcuts]);\n}\n\n// Composant pour les focus rings\ninterface FocusRingProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function FocusRing({ children, className = '' }: FocusRingProps) {\n  return <div className={`focus-ring ${className}`}>{children}</div>;\n}\n\n// Utilitaire pour ajouter tabIndex automatiquement\ninterface AutoFocusableProps {\n  children: ReactNode;\n  autoFocus?: boolean;\n  tabIndex?: number;\n  className?: string;\n}\n\nexport function AutoFocusable({\n  children,\n  autoFocus = false,\n  tabIndex = 0,\n  className = '',\n}: AutoFocusableProps) {\n  return (\n    <div tabIndex={autoFocus ? -1 : tabIndex} className={className}>\n      {children}\n    </div>\n  );\n}\n\n// Export par dfaut\nconst AccessibilityComponents = {\n  AccessibilityProvider,\n  useAccessibility,\n  AccessibleIcon,\n  useKeyboardShortcuts,\n  FocusRing,\n  AutoFocusable,\n};\n\nexport default AccessibilityComponents;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { LayoutDashboard, Calendar, MessageSquare, Users, Settings } from 'lucide-react';\n\ninterface TabItem {\n  id: string;\n  label: string;\n  icon: React.ReactNode;\n  path: string;\n}\n\nconst tabs: TabItem[] = [\n  {\n    id: 'dashboard',\n    label: 'Accueil',\n    icon: <LayoutDashboard className='w-6 h-6' />,\n    path: '/',\n  },\n  {\n    id: 'planning',\n    label: 'Planning',\n    icon: <Calendar className='w-6 h-6' />,\n    path: '/planning',\n  },\n  {\n    id: 'messages',\n    label: 'Messages',\n    icon: <MessageSquare className='w-6 h-6' />,\n    path: '/messages',\n  },\n  {\n    id: 'speakers',\n    label: 'Orateurs',\n    icon: <Users className='w-6 h-6' />,\n    path: '/speakers',\n  },\n  {\n    id: 'settings',\n    label: 'Rglages',\n    icon: <Settings className='w-6 h-6' />,\n    path: '/settings',\n  },\n];\n\nexport const IOSTabBar: React.FC = () => {\n  const location = useLocation();\n\n  const isActive = (path: string) => {\n    if (path === '/') {\n      return location.pathname === '/';\n    }\n    return location.pathname.startsWith(path);\n  };\n\n  return (\n    <div className='fixed bottom-0 left-0 right-0 z-50 ios-safe-bottom'>\n      {/* Blur Background */}\n      <div className='ios-blur border-t border-gray-200 dark:border-gray-800'>\n        <div className='flex items-center justify-around h-[49px]'>\n          {tabs.map((tab) => {\n            const active = isActive(tab.path);\n\n            return (\n              <Link\n                key={tab.id}\n                to={tab.path}\n                className={`\n                  flex flex-col items-center justify-center\n                  flex-1 h-full\n                  transition-all duration-200\n                  active:scale-95\n                  ${active ? 'text-ios-blue' : 'text-gray-500 dark:text-gray-400'}\n                `}\n              >\n                {/* Icon */}\n                <div\n                  className={`\n                  transition-transform duration-200\n                  ${active ? 'scale-110' : 'scale-100'}\n                `}\n                >\n                  {tab.icon}\n                </div>\n\n                {/* Label */}\n                <span\n                  className={`\n                  text-[10px] mt-0.5\n                  font-medium\n                  ${active ? 'font-semibold' : 'font-normal'}\n                `}\n                >\n                  {tab.label}\n                </span>\n              </Link>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Safe Area Bottom Padding */}\n      <div className='h-[env(safe-area-inset-bottom,0px)] bg-white dark:bg-black' />\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { usePlatformContext } from '@/contexts/PlatformContext';\n\ninterface SPenState {\n  isHovering: boolean;\n  isActive: boolean;\n  position: { x: number; y: number } | null;\n  pressure: number;\n}\n\nexport const useSPen = () => {\n  const { hasSPen } = usePlatformContext();\n  const [sPenState, setSPenState] = useState<SPenState>({\n    isHovering: false,\n    isActive: false,\n    position: null,\n    pressure: 0,\n  });\n\n  useEffect(() => {\n    if (!hasSPen) return;\n\n    const handlePointerEnter = (e: PointerEvent) => {\n      if (e.pointerType === 'pen') {\n        setSPenState((prev) => ({\n          ...prev,\n          isHovering: true,\n          position: { x: e.clientX, y: e.clientY },\n        }));\n      }\n    };\n\n    const handlePointerMove = (e: PointerEvent) => {\n      if (e.pointerType === 'pen') {\n        setSPenState((prev) => ({\n          ...prev,\n          isHovering: true,\n          position: { x: e.clientX, y: e.clientY },\n          pressure: e.pressure,\n        }));\n      }\n    };\n\n    const handlePointerDown = (e: PointerEvent) => {\n      if (e.pointerType === 'pen') {\n        setSPenState((prev) => ({\n          ...prev,\n          isActive: true,\n          pressure: e.pressure,\n        }));\n      }\n    };\n\n    const handlePointerUp = (e: PointerEvent) => {\n      if (e.pointerType === 'pen') {\n        setSPenState((prev) => ({\n          ...prev,\n          isActive: false,\n          pressure: 0,\n        }));\n      }\n    };\n\n    const handlePointerLeave = (e: PointerEvent) => {\n      if (e.pointerType === 'pen') {\n        setSPenState({\n          isHovering: false,\n          isActive: false,\n          position: null,\n          pressure: 0,\n        });\n      }\n    };\n\n    document.addEventListener('pointerenter', handlePointerEnter as any);\n    document.addEventListener('pointermove', handlePointerMove as any);\n    document.addEventListener('pointerdown', handlePointerDown as any);\n    document.addEventListener('pointerup', handlePointerUp as any);\n    document.addEventListener('pointerleave', handlePointerLeave as any);\n\n    return () => {\n      document.removeEventListener('pointerenter', handlePointerEnter as any);\n      document.removeEventListener('pointermove', handlePointerMove as any);\n      document.removeEventListener('pointerdown', handlePointerDown as any);\n      document.removeEventListener('pointerup', handlePointerUp as any);\n      document.removeEventListener('pointerleave', handlePointerLeave as any);\n    };\n  }, [hasSPen]);\n\n  return {\n    hasSPen,\n    ...sPenState,\n  };\n};\n","import React from 'react';\nimport { useSPen } from '@/hooks/useSPen';\n\ninterface SPenCursorProps {\n  children: React.ReactNode;\n}\n\nexport const SPenCursor: React.FC<SPenCursorProps> = ({ children }) => {\n  const { hasSPen, isHovering, position } = useSPen();\n\n  if (!hasSPen || !isHovering || !position) {\n    return <>{children}</>;\n  }\n\n  // Utiliser les variables CSS pour viter les styles inline\n  React.useEffect(() => {\n    const root = document.documentElement;\n    root.style.setProperty('--spen-cursor-x', `${position.x}px`);\n    root.style.setProperty('--spen-cursor-y', `${position.y}px`);\n  }, [position.x, position.y]);\n\n  return (\n    <>\n      {children}\n      {/* Curseur personnalis S Pen */}\n      <div className='spen-cursor spen-cursor-positioned pointer-events-none z-[9999] transition-opacity duration-100'>\n        <div className='relative'>\n          {/* Point central */}\n          <div className='w-2 h-2 bg-ios-blue rounded-full' />\n          {/* Cercle extrieur */}\n          <div className='absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 border-2 border-ios-blue rounded-full opacity-50' />\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport { IOSTabBar } from '@/components/navigation/IOSTabBar';\nimport { SPenCursor } from '@/components/spen/SPenCursor';\nimport { usePlatformContext } from '@/contexts/PlatformContext';\n\nexport const IOSMainLayout: React.FC = () => {\n  const location = useLocation();\n  const { deviceType } = usePlatformContext();\n  const isTablet = deviceType === 'tablet';\n  const isDashboard = location.pathname === '/';\n\n  return (\n    <SPenCursor>\n      <div className='flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden samsung-optimized'>\n        {/* Main Content - Plein cran sur tablette, pas de scroll si Dashboard tablette */}\n        <main\n          className={`flex-1 ${isTablet && isDashboard ? 'overflow-hidden' : 'overflow-y-auto'} pb-[83px] pt-4 ${isTablet ? 'w-full px-0' : 'px-4'}`}\n        >\n          <div className={`${isTablet ? 'h-full w-full' : 'max-w-7xl mx-auto py-4'}`}>\n            <Outlet />\n          </div>\n        </main>\n\n        {/* Tab Bar iOS */}\n        <IOSTabBar />\n      </div>\n    </SPenCursor>\n  );\n};\n","/**\n * Concatenates two arrays faster than the array spread operator.\n */\nconst concatArrays = (array1, array2) => {\n  // Pre-allocate for better V8 optimization\n  const combinedArray = new Array(array1.length + array2.length);\n  for (let i = 0; i < array1.length; i++) {\n    combinedArray[i] = array1[i];\n  }\n  for (let i = 0; i < array2.length; i++) {\n    combinedArray[array1.length + i] = array2[i];\n  }\n  return combinedArray;\n};\n\n// Factory function ensures consistent object shapes\nconst createClassValidatorObject = (classGroupId, validator) => ({\n  classGroupId,\n  validator\n});\n// Factory ensures consistent ClassPartObject shape\nconst createClassPartObject = (nextPart = new Map(), validators = null, classGroupId) => ({\n  nextPart,\n  validators,\n  classGroupId\n});\nconst CLASS_PART_SEPARATOR = '-';\nconst EMPTY_CONFLICTS = [];\n// I use two dots here because one dot is used as prefix for class groups in plugins\nconst ARBITRARY_PROPERTY_PREFIX = 'arbitrary..';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    if (className.startsWith('[') && className.endsWith(']')) {\n      return getGroupIdForArbitraryProperty(className);\n    }\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and skip it.\n    const startIndex = classParts[0] === '' && classParts.length > 1 ? 1 : 0;\n    return getGroupRecursive(classParts, startIndex, classMap);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    if (hasPostfixModifier) {\n      const modifierConflicts = conflictingClassGroupModifiers[classGroupId];\n      const baseConflicts = conflictingClassGroups[classGroupId];\n      if (modifierConflicts) {\n        if (baseConflicts) {\n          // Merge base conflicts with modifier conflicts\n          return concatArrays(baseConflicts, modifierConflicts);\n        }\n        // Only modifier conflicts\n        return modifierConflicts;\n      }\n      // Fall back to without postfix if no modifier conflicts\n      return baseConflicts || EMPTY_CONFLICTS;\n    }\n    return conflictingClassGroups[classGroupId] || EMPTY_CONFLICTS;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, startIndex, classPartObject) => {\n  const classPathsLength = classParts.length - startIndex;\n  if (classPathsLength === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[startIndex];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  if (nextClassPartObject) {\n    const result = getGroupRecursive(classParts, startIndex + 1, nextClassPartObject);\n    if (result) return result;\n  }\n  const validators = classPartObject.validators;\n  if (validators === null) {\n    return undefined;\n  }\n  // Build classRest string efficiently by joining from startIndex onwards\n  const classRest = startIndex === 0 ? classParts.join(CLASS_PART_SEPARATOR) : classParts.slice(startIndex).join(CLASS_PART_SEPARATOR);\n  const validatorsLength = validators.length;\n  for (let i = 0; i < validatorsLength; i++) {\n    const validatorObj = validators[i];\n    if (validatorObj.validator(classRest)) {\n      return validatorObj.classGroupId;\n    }\n  }\n  return undefined;\n};\n/**\n * Get the class group ID for an arbitrary property.\n *\n * @param className - The class name to get the group ID for. Is expected to be string starting with `[` and ending with `]`.\n */\nconst getGroupIdForArbitraryProperty = className => className.slice(1, -1).indexOf(':') === -1 ? undefined : (() => {\n  const content = className.slice(1, -1);\n  const colonIndex = content.indexOf(':');\n  const property = content.slice(0, colonIndex);\n  return property ? ARBITRARY_PROPERTY_PREFIX + property : undefined;\n})();\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  return processClassGroups(classGroups, theme);\n};\n// Split into separate functions to maintain monomorphic call sites\nconst processClassGroups = (classGroups, theme) => {\n  const classMap = createClassPartObject();\n  for (const classGroupId in classGroups) {\n    const group = classGroups[classGroupId];\n    processClassesRecursively(group, classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  const len = classGroup.length;\n  for (let i = 0; i < len; i++) {\n    const classDefinition = classGroup[i];\n    processClassDefinition(classDefinition, classPartObject, classGroupId, theme);\n  }\n};\n// Split into separate functions for each type to maintain monomorphic call sites\nconst processClassDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (typeof classDefinition === 'string') {\n    processStringDefinition(classDefinition, classPartObject, classGroupId);\n    return;\n  }\n  if (typeof classDefinition === 'function') {\n    processFunctionDefinition(classDefinition, classPartObject, classGroupId, theme);\n    return;\n  }\n  processObjectDefinition(classDefinition, classPartObject, classGroupId, theme);\n};\nconst processStringDefinition = (classDefinition, classPartObject, classGroupId) => {\n  const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n  classPartObjectToEdit.classGroupId = classGroupId;\n};\nconst processFunctionDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (isThemeGetter(classDefinition)) {\n    processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n    return;\n  }\n  if (classPartObject.validators === null) {\n    classPartObject.validators = [];\n  }\n  classPartObject.validators.push(createClassValidatorObject(classGroupId, classDefinition));\n};\nconst processObjectDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  const entries = Object.entries(classDefinition);\n  const len = entries.length;\n  for (let i = 0; i < len; i++) {\n    const [key, value] = entries[i];\n    processClassesRecursively(value, getPart(classPartObject, key), classGroupId, theme);\n  }\n};\nconst getPart = (classPartObject, path) => {\n  let current = classPartObject;\n  const parts = path.split(CLASS_PART_SEPARATOR);\n  const len = parts.length;\n  for (let i = 0; i < len; i++) {\n    const part = parts[i];\n    let next = current.nextPart.get(part);\n    if (!next) {\n      next = createClassPartObject();\n      current.nextPart.set(part, next);\n    }\n    current = next;\n  }\n  return current;\n};\n// Type guard maintains monomorphic check\nconst isThemeGetter = func => 'isThemeGetter' in func && func.isThemeGetter === true;\n\n// LRU cache implementation using plain objects for simplicity\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = Object.create(null);\n  let previousCache = Object.create(null);\n  const update = (key, value) => {\n    cache[key] = value;\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = Object.create(null);\n    }\n  };\n  return {\n    get(key) {\n      let value = cache[key];\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache[key]) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (key in cache) {\n        cache[key] = value;\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst EMPTY_MODIFIERS = [];\n// Pre-allocated result object shape for consistency\nconst createResultObject = (modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition, isExternal) => ({\n  modifiers,\n  hasImportantModifier,\n  baseClassName,\n  maybePostfixModifierPosition,\n  isExternal\n});\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    // Use simple array with push for better performance\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    const len = className.length;\n    for (let index = 0; index < len; index++) {\n      const currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + 1;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') bracketDepth++;else if (currentCharacter === ']') bracketDepth--;else if (currentCharacter === '(') parenDepth++;else if (currentCharacter === ')') parenDepth--;\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.slice(modifierStart);\n    // Inline important modifier check\n    let baseClassName = baseClassNameWithImportantModifier;\n    let hasImportantModifier = false;\n    if (baseClassNameWithImportantModifier.endsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(0, -1);\n      hasImportantModifier = true;\n    } else if (\n    /**\n     * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n     * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n     */\n    baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(1);\n      hasImportantModifier = true;\n    }\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return createResultObject(modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition);\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.slice(fullPrefix.length)) : createResultObject(EMPTY_MODIFIERS, false, className, undefined, true);\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  // Pre-compute weights for all known modifiers for O(1) comparison\n  const modifierWeights = new Map();\n  // Assign weights to sensitive modifiers (highest priority, but preserve order)\n  config.orderSensitiveModifiers.forEach((mod, index) => {\n    modifierWeights.set(mod, 1000000 + index); // High weights for sensitive mods\n  });\n  return modifiers => {\n    const result = [];\n    let currentSegment = [];\n    // Process modifiers in one pass\n    for (let i = 0; i < modifiers.length; i++) {\n      const modifier = modifiers[i];\n      // Check if modifier is sensitive (starts with '[' or in orderSensitiveModifiers)\n      const isArbitrary = modifier[0] === '[';\n      const isOrderSensitive = modifierWeights.has(modifier);\n      if (isArbitrary || isOrderSensitive) {\n        // Sort and flush current segment alphabetically\n        if (currentSegment.length > 0) {\n          currentSegment.sort();\n          result.push(...currentSegment);\n          currentSegment = [];\n        }\n        result.push(modifier);\n      } else {\n        // Regular modifier - add to current segment for batch sorting\n        currentSegment.push(modifier);\n      }\n    }\n    // Sort and add any remaining segment items\n    if (currentSegment.length > 0) {\n      currentSegment.sort();\n      result.push(...currentSegment);\n    }\n    return result;\n  };\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    // Fast path: skip sorting for empty or single modifier\n    const variantModifier = modifiers.length === 0 ? '' : modifiers.length === 1 ? modifiers[0] : sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.indexOf(classId) > -1) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nconst twJoin = (...classLists) => {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < classLists.length) {\n    if (argument = classLists[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst toValue = mix => {\n  // Fast path for strings\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst createTailwindMerge = (createConfigFirst, ...createConfigRest) => {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall;\n  const initTailwindMerge = classList => {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  };\n  const tailwindMerge = classList => {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  };\n  functionToCall = initTailwindMerge;\n  return (...args) => functionToCall(twJoin(...args));\n};\nconst fallbackThemeArr = [];\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || fallbackThemeArr;\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Utility function to merge Tailwind CSS classes\n * Uses clsx for conditional classes and tailwind-merge to handle conflicts\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import React, { useEffect, useRef } from 'react';\nimport { X } from 'lucide-react';\nimport { createPortal } from 'react-dom';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\n  footer?: React.ReactNode;\n  className?: string; // Additional classes for the modal container\n  hideCloseButton?: boolean; // Option to hide the default close button\n  padding?: 'none' | 'default'; // Control internal padding\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'md',\n  footer,\n  className = '',\n  hideCloseButton = false,\n  padding = 'default',\n}) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const sizes = {\n    sm: 'max-w-md',\n    md: 'max-w-lg',\n    lg: 'max-w-2xl',\n    xl: 'max-w-4xl',\n    full: 'max-w-full m-4 h-[calc(100vh-2rem)]',\n  };\n\n  const content = (\n    <div className='fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6'>\n      <div\n        className='fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity'\n        onClick={onClose}\n        aria-hidden='true'\n      />\n\n      <div\n        ref={modalRef}\n        className={`\n          relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-h-[90vh] flex flex-col\n          transform transition-all duration-200 scale-100 opacity-100\n          ${sizes[size]}\n          ${className}\n        `}\n        role='dialog'\n        aria-modal='true'\n      >\n        {!hideCloseButton && (\n          <div className={`flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-gray-700 shrink-0 ${title ? '' : 'justify-end border-none pb-0'}`}>\n            {title && (\n              <h3 className='text-lg font-semibold text-gray-900 dark:text-white'>{title}</h3>\n            )}\n            <button\n              onClick={onClose}\n              aria-label='Fermer'\n              className='text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700'\n            >\n              <X className='w-5 h-5' />\n            </button>\n          </div>\n        )}\n\n        <div className={`${padding === 'none' ? 'p-0' : 'px-6 py-4'} overflow-y-auto custom-scrollbar grow`}>{children}</div>\n\n        {footer && (\n          <div className='px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-700 rounded-b-xl shrink-0 flex justify-end gap-3'>\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  return createPortal(content, document.body);\n};\n","import React from 'react';\nimport { Loader2 } from 'lucide-react';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost' | 'outline';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n  asChild?: boolean; // Added asChild prop\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  children,\n  className = '',\n  variant = 'primary',\n  size = 'md',\n  isLoading = false,\n  leftIcon,\n  rightIcon,\n  disabled,\n  asChild, // Destructure asChild\n  ...props\n}) => {\n  const baseStyles =\n    'inline-flex items-center justify-center font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg';\n\n  const variants = {\n    primary: 'bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500',\n    secondary:\n      'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-primary-500 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700',\n    danger: 'bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500',\n    ghost:\n      'text-gray-600 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white',\n    outline:\n      'border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-900/20',\n  };\n\n  const sizes = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-sm',\n    lg: 'px-6 py-3 text-base',\n  };\n\n  const buttonContent = (\n    <>\n      {isLoading && <Loader2 className='w-4 h-4 mr-2 animate-spin' />}\n      {!isLoading && leftIcon && <span className='mr-2'>{leftIcon}</span>}\n      {children}\n      {!isLoading && rightIcon && <span className='ml-2'>{rightIcon}</span>}\n    </>\n  );\n\n  const mergedClassName = `${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`;\n\n  if (asChild) {\n    // If asChild is true, render the child and pass props to it.\n    // Assuming children is a single React element.\n    if (React.isValidElement(children)) {\n      return React.cloneElement(\n        children,\n        {\n          className: `${children.props.className || ''} ${mergedClassName}`,\n          ...props,\n          disabled: disabled || isLoading,\n        },\n        buttonContent\n      );\n    }\n    // Fallback if children is not a valid element (e.g., just text)\n    return (\n      <span className={mergedClassName} {...props}>\n        {buttonContent}\n      </span>\n    );\n  }\n\n  return (\n    <button className={mergedClassName} disabled={disabled || isLoading} {...props}>\n      {buttonContent}\n    </button>\n  );\n};\n","import React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n  hoverable?: boolean;\n}\n\nexport const Card: React.FC<CardProps> = ({\n  children,\n  className = '',\n  onClick,\n  hoverable = false,\n}) => (\n  <div\n    className={`\n        bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700\n        shadow-[0_2px_8px_rgba(0,0,0,0.08)] dark:shadow-[0_2px_8px_rgba(0,0,0,0.3)]\n        ${hoverable || onClick ? 'hover:shadow-[0_8px_24px_rgba(0,0,0,0.12)] dark:hover:shadow-[0_8px_24px_rgba(0,0,0,0.4)] hover:-translate-y-1 transition-all duration-300 cursor-pointer' : 'transition-shadow duration-200'}\n        ${className}\n      `}\n    onClick={onClick}\n  >\n    {children}\n  </div>\n);\n\nexport const CardHeader: React.FC<{ children: React.ReactNode; className?: string }> = ({\n  children,\n  className = '',\n}) => (\n  <div className={`px-6 py-4 border-b border-gray-100 dark:border-gray-700 ${className}`}>\n    {children}\n  </div>\n);\n\nexport const CardBody: React.FC<{ children: React.ReactNode; className?: string }> = ({\n  children,\n  className = '',\n}) => <div className={`p-6 ${className}`}>{children}</div>;\n\nexport const CardFooter: React.FC<{ children: React.ReactNode; className?: string }> = ({\n  children,\n  className = '',\n}) => (\n  <div\n    className={`px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-700 rounded-b-xl ${className}`}\n  >\n    {children}\n  </div>\n);\n","import React, { useState, useMemo } from 'react';\r\nimport {\r\n  Zap,\r\n  Calendar,\r\n  Users,\r\n  MessageSquare,\r\n  FileText,\r\n  Settings,\r\n  Plus,\r\n  X,\r\n  Search,\r\n  Download,\r\n  TrendingUp,\r\n  Cloud,\r\n  ArrowRight,\r\n  Clock,\r\n  Sparkles,\r\n} from 'lucide-react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\nimport { Card, CardBody } from '@/components/ui/Card';\r\nimport { cn } from '@/utils/cn';\r\n\r\ninterface QuickActionsModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onAction: (action: QuickAction) => void;\r\n}\r\n\r\nexport type QuickAction =\r\n  | 'schedule-visit'\r\n  | 'add-speaker'\r\n  | 'add-host'\r\n  | 'send-message'\r\n  | 'generate-report'\r\n  | 'check-conflicts'\r\n  | 'backup-data'\r\n  | 'import-data'\r\n  | 'sync-sheets'\r\n  | 'export-all-data'\r\n  | 'search-entities'\r\n  | 'show-statistics';\r\n\r\ninterface ActionItem {\r\n  id: QuickAction;\r\n  label: string;\r\n  description: string;\r\n  icon: React.ComponentType<any>;\r\n  color: string;\r\n  category: 'planning' | 'contacts' | 'communication' | 'data';\r\n  bg: string;\r\n}\r\n\r\nconst QUICK_ACTIONS: ActionItem[] = [\r\n  { id: 'schedule-visit', label: 'Programmer une visite', description: 'Crer une nouvelle visite rapidement', icon: Calendar, color: 'text-blue-600', bg: 'bg-blue-100 dark:bg-blue-900/40', category: 'planning' },\r\n  { id: 'check-conflicts', label: 'Vrifier les conflits', description: 'Dtecter les conflits de planning', icon: Zap, color: 'text-orange-600', bg: 'bg-orange-100 dark:bg-orange-900/40', category: 'planning' },\r\n  { id: 'add-speaker', label: 'Ajouter un orateur', description: 'Enregistrer un nouvel orateur', icon: Users, color: 'text-green-600', bg: 'bg-green-100 dark:bg-green-900/40', category: 'contacts' },\r\n  { id: 'add-host', label: 'Ajouter un hte', description: \"Enregistrer un nouveau contact d'accueil\", icon: Users, color: 'text-purple-600', bg: 'bg-purple-100 dark:bg-purple-900/40', category: 'contacts' },\r\n  { id: 'send-message', label: 'Envoyer un message', description: 'Composer et envoyer un message', icon: MessageSquare, color: 'text-blue-600', bg: 'bg-blue-100 dark:bg-blue-900/40', category: 'communication' },\r\n  { id: 'generate-report', label: 'Gnrer un rapport', description: 'Crer un rapport personnalis', icon: FileText, color: 'text-indigo-600', bg: 'bg-indigo-100 dark:bg-indigo-900/40', category: 'data' },\r\n  { id: 'backup-data', label: 'Sauvegarder les donnes', description: 'Crer une sauvegarde complte', icon: Settings, color: 'text-gray-600', bg: 'bg-gray-100 dark:bg-gray-900/40', category: 'data' },\r\n  { id: 'import-data', label: 'Importer des donnes', description: 'Importer depuis un fichier CSV', icon: Plus, color: 'text-teal-600', bg: 'bg-teal-100 dark:bg-teal-900/40', category: 'data' },\r\n  { id: 'sync-sheets', label: 'Synchroniser Google Sheets', description: 'Cloud sync avec vos feuilles', icon: Cloud, color: 'text-green-600', bg: 'bg-green-100 dark:bg-green-900/40', category: 'data' },\r\n  { id: 'export-all-data', label: 'Exporter tout', description: 'Format CSV/Excel complet', icon: Download, color: 'text-blue-600', bg: 'bg-blue-100 dark:bg-blue-900/40', category: 'data' },\r\n  { id: 'search-entities', label: 'Recherche Globale', description: 'Trouver un orateur ou une visite', icon: Search, color: 'text-indigo-600', bg: 'bg-indigo-100 dark:bg-indigo-900/40', category: 'planning' },\r\n  { id: 'show-statistics', label: 'Voir Statistiques', description: 'Graphiques et insights dtaills', icon: TrendingUp, color: 'text-purple-600', bg: 'bg-purple-100 dark:bg-purple-900/40', category: 'data' },\r\n];\r\n\r\nconst CATEGORIES = [\r\n  { id: 'all' as const, label: 'Toutes', icon: Zap, color: 'text-primary-600' },\r\n  { id: 'planning' as const, label: 'Planning', icon: Calendar, color: 'text-blue-600' },\r\n  { id: 'contacts' as const, label: 'Contacts', icon: Users, color: 'text-green-600' },\r\n  { id: 'communication' as const, label: 'Comms', icon: MessageSquare, color: 'text-purple-600' },\r\n  { id: 'data' as const, label: 'Donnes', icon: FileText, color: 'text-amber-600' },\r\n];\r\n\r\nexport const QuickActionsModal: React.FC<QuickActionsModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onAction,\r\n}) => {\r\n  const [selectedCategory, setSelectedCategory] = useState<ActionItem['category'] | 'all'>('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [recentActions, setRecentActions] = useState<QuickAction[]>(['schedule-visit', 'show-statistics', 'sync-sheets']);\r\n\r\n  const filteredActions = useMemo(() => {\r\n    return QUICK_ACTIONS.filter((action) => {\r\n      const matchesCategory = selectedCategory === 'all' || action.category === selectedCategory;\r\n      const matchesSearch = action.label.toLowerCase().includes(searchTerm.toLowerCase()) || \r\n                           action.description.toLowerCase().includes(searchTerm.toLowerCase());\r\n      return matchesCategory && matchesSearch;\r\n    });\r\n  }, [selectedCategory, searchTerm]);\r\n\r\n  const handleAction = (actionId: QuickAction) => {\r\n    setRecentActions((prev) => {\r\n      const filtered = prev.filter((id) => id !== actionId);\r\n      return [actionId, ...filtered].slice(0, 4);\r\n    });\r\n    onAction(actionId);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Modal \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      title=\"\" \r\n      size=\"xl\" \r\n      hideCloseButton \r\n      padding=\"none\"\r\n      className=\"max-sm:rounded-none overflow-hidden border-none\"\r\n    >\r\n      <div className=\"flex flex-col max-h-[90vh] bg-white dark:bg-gray-900 overflow-hidden rounded-3xl\">\r\n        {/* Top Gradient Header */}\r\n        <div className=\"bg-gradient-to-r from-primary-600 to-primary-700 p-8 text-white relative overflow-hidden\">\r\n           <Zap className=\"absolute right-[-20px] top-[-20px] w-48 h-48 opacity-10 rotate-12\" />\r\n           <div className=\"relative z-10\">\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                 <div className=\"px-3 py-1 bg-white/20 rounded-full text-[10px] font-bold uppercase tracking-widest backdrop-blur-md\">\r\n                   Control Panel\r\n                 </div>\r\n                 <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\r\n                    <X className=\"w-6 h-6\" />\r\n                 </button>\r\n              </div>\r\n              <h2 className=\"text-3xl font-black tracking-tighter mb-2 flex items-center gap-3\">\r\n                 <Sparkles className=\"w-8 h-8 text-amber-300\" />\r\n                 Actions Rapides\r\n              </h2>\r\n              <p className=\"text-primary-100 opacity-80 text-sm max-w-sm\">\r\n                 Accdez instantanment aux fonctionnalits cls de votre assistant de congrgation.\r\n              </p>\r\n           </div>\r\n        </div>\r\n\r\n        {/* Search & Categories Bar */}\r\n        <div className=\"p-6 border-b border-gray-100 dark:border-gray-800 space-y-6\">\r\n           <div className=\"relative group\">\r\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-primary-500 transition-colors\" />\r\n              <input\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                placeholder=\"Quelle action souhaitez-vous effectuer ?\"\r\n                className=\"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-800 border-none rounded-2xl text-lg focus:ring-4 focus:ring-primary-500/10 transition-all font-medium placeholder:text-gray-400\"\r\n                autoFocus\r\n              />\r\n           </div>\r\n\r\n           <div className=\"flex gap-2 overflow-x-auto pb-1 scrollbar-none\">\r\n              {CATEGORIES.map((cat) => (\r\n                <button\r\n                  key={cat.id}\r\n                  onClick={() => setSelectedCategory(cat.id)}\r\n                  className={cn(\r\n                    \"flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-xs uppercase tracking-tighter transition-all whitespace-nowrap\",\r\n                    selectedCategory === cat.id\r\n                      ? \"bg-primary-600 text-white shadow-lg shadow-primary-200 dark:shadow-none\"\r\n                      : \"bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200\"\r\n                  )}\r\n                >\r\n                  <cat.icon className={cn(\"w-4 h-4\", selectedCategory === cat.id ? \"text-white\" : cat.color)} />\r\n                  {cat.label}\r\n                </button>\r\n              ))}\r\n           </div>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-8 scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-800\">\r\n          \r\n          {/* Recents - Only if no search */}\r\n          {!searchTerm && selectedCategory === 'all' && recentActions.length > 0 && (\r\n            <div className=\"animate-in fade-in slide-in-from-top-4 duration-300\">\r\n               <h4 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2\">\r\n                  <Clock className=\"w-3 h-3\" />\r\n                  Rcemment utilises\r\n               </h4>\r\n               <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                  {recentActions.map(id => {\r\n                    const action = QUICK_ACTIONS.find(a => a.id === id);\r\n                    if (!action) return null;\r\n                    return (\r\n                      <button \r\n                        key={id}\r\n                        onClick={() => handleAction(id)}\r\n                        className=\"p-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-primary-500 transition-all text-left group\"\r\n                      >\r\n                         <div className={cn(\"w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-transform group-hover:scale-110\", action.bg, action.color)}>\r\n                            <action.icon className=\"w-5 h-5\" />\r\n                         </div>\r\n                         <div className=\"font-bold text-xs text-gray-900 dark:text-white truncate\">{action.label}</div>\r\n                      </button>\r\n                    );\r\n                  })}\r\n               </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Main Grid */}\r\n          <div className=\"animate-in fade-in duration-500\">\r\n             <h4 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4\">\r\n                {searchTerm ? 'Rsultats de recherche' : 'Toutes les actions'}\r\n             </h4>\r\n             {filteredActions.length > 0 ? (\r\n               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                 {filteredActions.map((action) => (\r\n                   <Card\r\n                     key={action.id}\r\n                     hoverable\r\n                     onClick={() => handleAction(action.id)}\r\n                     className=\"border-none shadow-sm outline outline-1 outline-gray-100 dark:outline-gray-800 hover:outline-primary-500 group\"\r\n                   >\r\n                     <CardBody className=\"p-4 flex items-center gap-4\">\r\n                       <div className={cn(\"w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 transition-transform group-hover:scale-110 duration-300\", action.bg, action.color)}>\r\n                         <action.icon className=\"w-7 h-7\" />\r\n                       </div>\r\n                       <div className=\"flex-1 min-w-0\">\r\n                         <h4 className=\"font-bold text-gray-900 dark:text-white mb-0.5 uppercase tracking-tighter text-sm\">\r\n                           {action.label}\r\n                         </h4>\r\n                         <p className=\"text-[11px] text-gray-500 dark:text-gray-400 truncate\">\r\n                           {action.description}\r\n                         </p>\r\n                       </div>\r\n                       <ArrowRight className=\"w-4 h-4 text-gray-300 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all\" />\r\n                     </CardBody>\r\n                   </Card>\r\n                 ))}\r\n               </div>\r\n             ) : (\r\n               <div className=\"py-20 text-center\">\r\n                  <Search className=\"w-12 h-12 mx-auto mb-4 text-gray-200\" />\r\n                  <p className=\"font-bold text-gray-400 uppercase text-xs\">Aucune action correspondante</p>\r\n               </div>\r\n             )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Minimal Footer */}\r\n        <div className=\"p-6 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-800 flex justify-between items-center\">\r\n           <div className=\"flex items-center gap-2 text-[10px] text-gray-400 font-bold uppercase tracking-widest\">\r\n              <Zap className=\"w-3 h-3 text-amber-500\" />\r\n              KBV Manager  Core OS\r\n           </div>\r\n           <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"font-bold uppercase text-[10px] tracking-widest\">\r\n              Annuler [ESC]\r\n           </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useMemo } from 'react';\r\nimport { \r\n  Download, \r\n  Calendar, \r\n  Users, \r\n  BarChart3, \r\n  X, \r\n  FileText, \r\n  FileSpreadsheet, \r\n  FileCode, \r\n  CheckCircle2,\r\n  Clock,\r\n  Sparkles,\r\n  ChevronRight\r\n} from 'lucide-react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { useData } from '@/contexts/DataContext';\r\nimport { cn } from '@/utils/cn';\r\n\r\ninterface ReportGeneratorModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onGenerate: (config: ReportConfig) => void;\r\n}\r\n\r\nexport interface ReportConfig {\r\n  type: ReportType;\r\n  period: ReportPeriod;\r\n  format: 'pdf' | 'excel' | 'csv';\r\n  includeSections: string[];\r\n  filters?: ReportFilters;\r\n}\r\n\r\ntype ReportType = 'monthly' | 'annual' | 'speaker' | 'congregation' | 'statistics' | 'custom';\r\ntype ReportPeriod = 'current-month' | 'last-month' | 'current-year' | 'last-year' | 'custom';\r\n\r\ninterface ReportFilters {\r\n  dateRange?: { start: string; end: string };\r\n  congregations?: string[];\r\n  speakers?: string[];\r\n  status?: string[];\r\n}\r\n\r\nconst REPORT_TYPES = [\r\n  { value: 'monthly' as ReportType, label: 'Rapport Mensuel', icon: Calendar, color: 'text-blue-600', bg: 'bg-blue-100 dark:bg-blue-900/40', description: 'Rsum complet des visites du mois.' },\r\n  { value: 'annual' as ReportType, label: 'Bilan Annuel', icon: BarChart3, color: 'text-purple-600', bg: 'bg-purple-100 dark:bg-purple-900/40', description: 'Vue panoramique de l\\'activit de l\\'anne.' },\r\n  { value: 'speaker' as ReportType, label: 'Fiche Orateur', icon: Users, color: 'text-green-600', bg: 'bg-green-100 dark:bg-green-900/40', description: 'Dtails et historique par orateur.' },\r\n  { value: 'congregation' as ReportType, label: 'Statistiques Cong.', icon: Users, color: 'text-orange-600', bg: 'bg-orange-100 dark:bg-orange-900/40', description: 'Analyses par congrgation d\\'origine.' },\r\n];\r\n\r\nconst REPORT_SECTIONS = [\r\n  { id: 'summary', label: 'Rsum excutif', default: true },\r\n  { id: 'visits', label: 'Liste des visites', default: true },\r\n  { id: 'speakers', label: 'Statistiques orateurs', default: true },\r\n  { id: 'talks', label: 'Discours prsents', default: true },\r\n  { id: 'charts', label: 'Graphiques & Visuels', default: true },\r\n  { id: 'hosts', label: 'Rapport d\\'accueil', default: false },\r\n];\r\n\r\nexport const ReportGeneratorModal: React.FC<ReportGeneratorModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onGenerate,\r\n}) => {\r\n  const { visits, speakers } = useData();\r\n  const [selectedType, setSelectedType] = useState<ReportType>('monthly');\r\n  const [selectedPeriod, setSelectedPeriod] = useState<ReportPeriod>('current-month');\r\n  const [selectedFormat, setSelectedFormat] = useState<'pdf' | 'excel' | 'csv'>('pdf');\r\n  const [includedSections, setIncludedSections] = useState<string[]>(\r\n    REPORT_SECTIONS.filter((s) => s.default).map((s) => s.id)\r\n  );\r\n  const [customDateRange, setCustomDateRange] = useState({ start: '', end: '' });\r\n\r\n  const toggleSection = (sectionId: string) => {\r\n    setIncludedSections((prev) =>\r\n      prev.includes(sectionId) ? prev.filter((id) => id !== sectionId) : [...prev, sectionId]\r\n    );\r\n  };\r\n\r\n  const filteredVisitsCount = useMemo(() => {\r\n    const now = new Date();\r\n    let start: Date | null = null;\r\n    let end: Date | null = null;\r\n\r\n    switch (selectedPeriod) {\r\n      case 'current-month':\r\n        start = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        end = new Date(now.getFullYear(), now.getMonth() + 1, 0);\r\n        break;\r\n      case 'last-month':\r\n        start = new Date(now.getFullYear(), now.getMonth() - 1, 1);\r\n        end = new Date(now.getFullYear(), now.getMonth(), 0);\r\n        break;\r\n      case 'current-year':\r\n        start = new Date(now.getFullYear(), 0, 1);\r\n        end = new Date(now.getFullYear(), 11, 31);\r\n        break;\r\n      case 'last-year':\r\n        start = new Date(now.getFullYear() - 1, 0, 1);\r\n        end = new Date(now.getFullYear() - 1, 11, 31);\r\n        break;\r\n      case 'custom':\r\n        if (customDateRange.start) start = new Date(customDateRange.start);\r\n        if (customDateRange.end) end = new Date(customDateRange.end);\r\n        break;\r\n    }\r\n\r\n    if (!start || !end) return 0;\r\n    return visits.filter((v) => {\r\n      const d = new Date(v.visitDate);\r\n      return d >= start! && d <= end!;\r\n    }).length;\r\n  }, [selectedPeriod, customDateRange, visits]);\r\n\r\n  const estimatedPages = useMemo(() => {\r\n    let pages = selectedFormat === 'pdf' ? 1 : 0;\r\n    if (includedSections.includes('summary')) pages += 1;\r\n    if (includedSections.includes('visits')) pages += Math.max(1, Math.ceil(filteredVisitsCount / 20));\r\n    if (includedSections.includes('speakers')) pages += Math.max(1, Math.ceil(speakers.length / 15));\r\n    if (includedSections.includes('charts')) pages += 1;\r\n    return pages;\r\n  }, [selectedFormat, includedSections, filteredVisitsCount, speakers]);\r\n\r\n  return (\r\n    <Modal \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      title=\"\" \r\n      size=\"xl\" \r\n      hideCloseButton\r\n      className=\"max-sm:rounded-none overflow-hidden border-none\"\r\n    >\r\n      <div className=\"flex flex-col max-h-[90vh] bg-white dark:bg-gray-900 overflow-hidden rounded-3xl\">\r\n        {/* Premium Header */}\r\n        <div className=\"bg-gradient-to-r from-blue-600 to-indigo-700 py-6 px-8 text-white relative overflow-hidden shrink-0\">\r\n           <BarChart3 className=\"absolute right-[-20px] top-[-20px] w-48 h-48 opacity-10 rotate-12\" />\r\n           <div className=\"relative z-10\">\r\n              <div className=\"flex justify-between items-start mb-2\">\r\n                 <div className=\"px-3 py-1 bg-white/20 rounded-full text-[10px] font-bold uppercase tracking-widest backdrop-blur-md\">\r\n                   GROUPE DE LYON\r\n                 </div>\r\n                 <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors -mr-2 -mt-2\">\r\n                    <X className=\"w-5 h-5\" />\r\n                 </button>\r\n              </div>\r\n              <h2 className=\"text-2xl font-black tracking-tighter mb-1 flex items-center gap-3\">\r\n                 <Sparkles className=\"w-6 h-6 text-blue-200\" />\r\n                 Gnrateur de Rapports\r\n              </h2>\r\n              <p className=\"text-blue-100 opacity-80 text-xs max-w-sm font-medium\">\r\n                 Gnrez des documents professionnels et analysez les tendances.\r\n              </p>\r\n           </div>\r\n        </div>\r\n\r\n        {/* Actionable Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-8 scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-800\">\r\n          \r\n          {/* Report Type Selector */}\r\n          <div className=\"animate-in fade-in slide-in-from-top-4 duration-500\">\r\n             <h4 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4\">\r\n               1. Choisir le type de rapport\r\n             </h4>\r\n             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {REPORT_TYPES.map(type => (\r\n                  <button\r\n                    key={type.value}\r\n                    onClick={() => setSelectedType(type.value)}\r\n                    className={cn(\r\n                      \"flex items-start gap-4 p-4 rounded-2xl text-left border-2 transition-all duration-200 group\",\r\n                      selectedType === type.value\r\n                        ? \"border-blue-500 bg-blue-50/50 dark:bg-blue-900/10 shadow-lg\"\r\n                        : \"border-gray-100 dark:border-gray-800 hover:border-gray-200\"\r\n                    )}\r\n                  >\r\n                    <div className={cn(\"w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-transform group-hover:scale-110\", type.bg, type.color)}>\r\n                       <type.icon className=\"w-6 h-6\" />\r\n                    </div>\r\n                    <div>\r\n                       <div className=\"font-bold text-sm text-gray-900 dark:text-white uppercase tracking-tight\">{type.label}</div>\r\n                       <p className=\"text-[11px] text-gray-500 mt-1 leading-relaxed\">{type.description}</p>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n             </div>\r\n          </div>\r\n\r\n          {/* Period Selector */}\r\n          <div className=\"animate-in fade-in slide-in-from-top-4 duration-500 delay-75\">\r\n             <h4 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4\">\r\n               2. Dfinir la priode\r\n             </h4>\r\n             <div className=\"flex gap-2 overflow-x-auto pb-1 scrollbar-none\">\r\n                {[\r\n                  { value: 'current-month', label: 'Ce mois' },\r\n                  { value: 'last-month', label: 'Mois dernier' },\r\n                  { value: 'current-year', label: 'Cette anne' },\r\n                  { value: 'custom', label: 'Personnalise' },\r\n                ].map(p => (\r\n                  <button\r\n                    key={p.value}\r\n                    onClick={() => setSelectedPeriod(p.value as ReportPeriod)}\r\n                    className={cn(\r\n                      \"px-4 py-2.5 rounded-xl font-bold text-xs transition-all\",\r\n                      selectedPeriod === p.value\r\n                        ? \"bg-indigo-600 text-white shadow-md\"\r\n                        : \"bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200\"\r\n                    )}\r\n                  >\r\n                    {p.label}\r\n                  </button>\r\n                ))}\r\n             </div>\r\n             {selectedPeriod === 'custom' && (\r\n                <div className=\"grid grid-cols-2 gap-3 mt-4 animate-in slide-in-from-top-2 duration-300\">\r\n                   <div className=\"space-y-1\">\r\n                      <span className=\"text-[10px] font-bold text-gray-400 uppercase ml-1\">Dbut</span>\r\n                      <input type=\"date\" value={customDateRange.start} onChange={e => setCustomDateRange(p => ({...p, start: e.target.value}))} className=\"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-xl text-xs py-2.5 focus:ring-2 focus:ring-indigo-500\" />\r\n                   </div>\r\n                   <div className=\"space-y-1\">\r\n                      <span className=\"text-[10px] font-bold text-gray-400 uppercase ml-1\">Fin</span>\r\n                      <input type=\"date\" value={customDateRange.end} onChange={e => setCustomDateRange(p => ({...p, end: e.target.value}))} className=\"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-xl text-xs py-2.5 focus:ring-2 focus:ring-indigo-500\" />\r\n                   </div>\r\n                </div>\r\n             )}\r\n          </div>\r\n\r\n          {/* Format Selector */}\r\n          <div className=\"animate-in fade-in slide-in-from-top-4 duration-500 delay-150\">\r\n             <h4 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4\">\r\n               3. Format d'exportation\r\n             </h4>\r\n             <div className=\"grid grid-cols-3 gap-3\">\r\n                {[\r\n                  { id: 'pdf', label: 'PDF', icon: FileText, color: 'text-red-500' },\r\n                  { id: 'excel', label: 'Excel', icon: FileSpreadsheet, color: 'text-green-500' },\r\n                  { id: 'csv', label: 'CSV', icon: FileCode, color: 'text-gray-500' },\r\n                ].map(f => (\r\n                  <button\r\n                    key={f.id}\r\n                    onClick={() => setSelectedFormat(f.id as any)}\r\n                    className={cn(\r\n                      \"group p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2\",\r\n                      selectedFormat === f.id\r\n                        ? \"border-primary-500 bg-primary-50/20 shadow-md\"\r\n                        : \"border-gray-100 dark:border-gray-800 hover:border-gray-200\"\r\n                    )}\r\n                  >\r\n                    <f.icon className={cn(\"w-8 h-8 transition-transform group-hover:scale-110\", selectedFormat === f.id ? f.color : 'text-gray-300')} />\r\n                    <span className=\"font-black text-xs uppercase tracking-widest\">{f.id}</span>\r\n                  </button>\r\n                ))}\r\n             </div>\r\n          </div>\r\n\r\n          {/* Sections Selector */}\r\n          <div className=\"animate-in fade-in slide-in-from-top-4 duration-500 delay-200\">\r\n             <h4 className=\"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4\">\r\n               4. Sections du document\r\n             </h4>\r\n             <div className=\"grid grid-cols-2 gap-2\">\r\n                {REPORT_SECTIONS.map(section => (\r\n                  <button\r\n                    key={section.id}\r\n                    onClick={() => toggleSection(section.id)}\r\n                    className={cn(\r\n                      \"flex items-center gap-3 p-3 rounded-xl text-left transition-all\",\r\n                      includedSections.includes(section.id)\r\n                        ? \"bg-gray-100 dark:bg-gray-800\"\r\n                        : \"opacity-40 hover:opacity-100\"\r\n                    )}\r\n                  >\r\n                    <div className={cn(\"w-5 h-5 rounded-md flex items-center justify-center shrink-0 border-2\", includedSections.includes(section.id) ? \"bg-primary-500 border-primary-500 text-white\" : \"border-gray-300\")}>\r\n                       {includedSections.includes(section.id) && <CheckCircle2 className=\"w-4 h-4\" />}\r\n                    </div>\r\n                    <span className=\"text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-tighter\">{section.label}</span>\r\n                  </button>\r\n                ))}\r\n             </div>\r\n          </div>\r\n\r\n          {/* Preview Card */}\r\n          <div className=\"animate-in zoom-in-95 duration-500 delay-300 px-1 pt-4\">\r\n             <div className=\"p-6 bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl text-white shadow-2xl relative overflow-hidden\">\r\n                <div className=\"absolute right-[-10px] bottom-[-20px] opacity-10\">\r\n                   <FileText className=\"w-40 h-40\" />\r\n                </div>\r\n                <div className=\"flex justify-between items-end relative z-10\">\r\n                   <div>\r\n                      <h5 className=\"text-[10px] font-black uppercase tracking-[0.2em] text-blue-400 mb-4\">Aperu du volume</h5>\r\n                      <div className=\"space-y-1\">\r\n                         <div className=\"flex items-center gap-3 opacity-60 text-[11px]\">\r\n                            <Calendar className=\"w-3.5 h-3.5\" />\r\n                            <span>{REPORT_TYPES.find(t => t.value === selectedType)?.label}</span>\r\n                         </div>\r\n                         <div className=\"flex items-center gap-3 opacity-60 text-[11px]\">\r\n                            <Clock className=\"w-3.5 h-3.5\" />\r\n                            <span>{filteredVisitsCount} visite(s) identifie(s)</span>\r\n                         </div>\r\n                      </div>\r\n                   </div>\r\n                   <div className=\"text-right\">\r\n                      <div className=\"text-5xl font-black tracking-tighter text-white\">{estimatedPages}</div>\r\n                      <div className=\"text-[10px] font-bold uppercase tracking-widest text-primary-400\">Pages estimes</div>\r\n                   </div>\r\n                </div>\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Footer */}\r\n        <div className=\"p-6 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-800 flex flex-col md:flex-row gap-4 items-center justify-between\">\r\n           <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 rounded-xl bg-white dark:bg-gray-900 flex items-center justify-center shadow-sm\">\r\n                 <Download className=\"w-5 h-5 text-primary-500\" />\r\n              </div>\r\n              <div>\r\n                 <p className=\"text-[11px] font-bold text-gray-900 dark:text-white uppercase tracking-tight\">Prt pour l'exportation</p>\r\n                 <p className=\"text-[10px] text-gray-400\">Cliquez pour gnrer votre {selectedFormat.toUpperCase()}</p>\r\n              </div>\r\n           </div>\r\n           \r\n           <div className=\"flex items-center gap-3 w-full md:w-auto\">\r\n              <Button variant=\"ghost\" onClick={onClose} className=\"flex-1 md:flex-none uppercase text-[10px] tracking-widest font-bold\">\r\n                 Annuler\r\n              </Button>\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => onGenerate({\r\n                  type: selectedType,\r\n                  period: selectedPeriod,\r\n                  format: selectedFormat,\r\n                  includeSections: includedSections,\r\n                  filters: selectedPeriod === 'custom' ? { dateRange: customDateRange } : undefined\r\n                })}\r\n                disabled={includedSections.length === 0 || (selectedPeriod === 'custom' && (!customDateRange.start || !customDateRange.end))}\r\n                className=\"flex-1 md:flex-none py-6 px-10 rounded-2xl shadow-xl shadow-blue-200 dark:shadow-none bg-blue-600 hover:bg-blue-700 font-bold uppercase text-xs tracking-widest transition-transform hover:scale-[1.02]\"\r\n              >\r\n                 Gnrer <ChevronRight className=\"w-4 h-4 ml-2\" />\r\n              </Button>\r\n           </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport {\n  LayoutDashboard,\n  Calendar,\n  MessageSquare,\n  Users,\n  Settings,\n  Menu,\n  X,\n  ChevronLeft,\n  ChevronRight,\n  Zap,\n  FileText,\n} from 'lucide-react';\nimport { IOSTabBar } from '@/components/navigation/IOSTabBar';\nimport { SPenCursor } from '@/components/spen/SPenCursor';\nimport { usePlatformContext } from '@/contexts/PlatformContext';\nimport { cn } from '@/utils/cn';\nimport { QuickActionsModal } from '@/components/ui/QuickActionsModal';\nimport { ReportGeneratorModal } from '@/components/reports/ReportGeneratorModal';\nimport { useToast } from '@/contexts/ToastContext';\nimport { useData } from '@/contexts/DataContext';\nimport { useSettings } from '@/contexts/SettingsContext';\n\n// Mapping des routes vers les titres et icnes\nconst NAV_ITEMS = [\n  { path: '/', label: 'Accueil', icon: LayoutDashboard },\n  { path: '/planning', label: 'Planning', icon: Calendar },\n  { path: '/messages', label: 'Messages', icon: MessageSquare },\n  { path: '/speakers', label: 'Orateurs', icon: Users },\n  { path: '/settings', label: 'Paramtres', icon: Settings },\n];\n\nexport const TabletLayout: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { deviceType, orientation } = usePlatformContext();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const { visits } = useData();\n  const { addToast } = useToast();\n  const { settings, setTheme } = useSettings();\n  const [isQuickActionsOpen, setIsQuickActionsOpen] = useState(false);\n  const [isReportModalOpen, setIsReportModalOpen] = useState(false);\n\n  const isTablet = deviceType === 'tablet';\n  const isLandscape = orientation === 'landscape';\n  const isDarkMode = settings.theme === 'dark';\n  const toggleTheme = () => setTheme(settings.theme === 'dark' ? 'light' : 'dark');\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  const handleReportGenerate = (config: any) => {\n    const filteredVisits = visits.filter((v) => {\n      if (config.period === 'current-month') {\n        const now = new Date();\n        const visitDate = new Date(v.visitDate);\n        return (\n          visitDate.getMonth() === now.getMonth() && visitDate.getFullYear() === now.getFullYear()\n        );\n      }\n      return true;\n    });\n\n    const fileName = `rapport-kbv-${new Date().toISOString().slice(0, 10)}`;\n\n    // Helper pour formater la date de manire cohrente (JJ/MM/AAAA)\n    const formatDate = (date: string | Date) => new Date(date).toLocaleDateString('fr-FR');\n\n    // Helper pour chapper les caractres spciaux CSV (virgules, guillemets, sauts de ligne)\n    const escapeCsv = (value: any) => {\n      const str = String(value || '');\n      if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n        return `\"${str.replace(/\"/g, '\"\"')}\"`;\n      }\n      return str;\n    };\n\n    if (config.format === 'csv') {\n      let csvContent = 'Date,Orateur,Congrgation,Discours,Thme,Hte,Statut\\n';\n      filteredVisits.forEach((v) => {\n        csvContent += `${formatDate(v.visitDate)},${escapeCsv(v.nom)},${escapeCsv(v.congregation)},${escapeCsv(v.talkNoOrType)},${escapeCsv(v.talkTheme)},${escapeCsv(v.host)},${escapeCsv(v.status)}\\n`;\n      });\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${fileName}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      addToast('Rapport CSV gnr !', 'success');\n    } else if (config.format === 'excel') {\n      let htmlContent = `<html><head><meta charset=\"utf-8\"><style>table{border-collapse:collapse;width:100%;}th,td{border:1px solid black;padding:8px;text-align:left;}th{background-color:#4F46E5;color:white;}</style></head><body><h1>Rapport KBV Lyon</h1><table><tr><th>Date</th><th>Orateur</th><th>Congrgation</th><th>Discours</th><th>Thme</th><th>Hte</th><th>Statut</th></tr>`;\n      filteredVisits.forEach((v) => {\n        htmlContent += `<tr><td>${formatDate(v.visitDate)}</td><td>${v.nom}</td><td>${v.congregation}</td><td>${v.talkNoOrType || ''}</td><td>${v.talkTheme || ''}</td><td>${v.host || ''}</td><td>${v.status}</td></tr>`;\n      });\n      htmlContent += '</table></body></html>';\n      const blob = new Blob([htmlContent], { type: 'application/vnd.ms-excel' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${fileName}.xls`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      addToast('Rapport Excel gnr !', 'success');\n    } else if (config.format === 'pdf') {\n      let htmlContent = `<html><head><meta charset=\"utf-8\"><style>body{font-family:Arial,sans-serif;margin:40px;}h1{color:#4F46E5;}table{border-collapse:collapse;width:100%;margin-top:20px;}th,td{border:1px solid #ddd;padding:12px;text-align:left;}th{background-color:#4F46E5;color:white;}</style></head><body><h1>Rapport KBV Lyon</h1><p>Gnr le ${new Date().toLocaleDateString('fr-FR')}</p><table><tr><th>Date</th><th>Orateur</th><th>Congrgation</th><th>Discours</th><th>Thme</th><th>Hte</th><th>Statut</th></tr>`;\n      filteredVisits.forEach((v) => {\n        htmlContent += `<tr><td>${new Date(v.visitDate).toLocaleDateString('fr-FR')}</td><td>${v.nom}</td><td>${v.congregation}</td><td>${v.talkNoOrType || ''}</td><td>${v.talkTheme || ''}</td><td>${v.host || ''}</td><td>${v.status}</td></tr>`;\n      });\n      htmlContent += `</table><p style=\"margin-top:30px;color:#666;\">Total: ${filteredVisits.length} visite(s)</p></body></html>`;\n      const blob = new Blob([htmlContent], { type: 'text/html' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${fileName}.html`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      addToast('Rapport HTML gnr ! Ouvrez-le et imprimez en PDF', 'success');\n    }\n\n    setIsReportModalOpen(false);\n  };\n\n  const currentIndex = NAV_ITEMS.findIndex((item) => item.path === location.pathname);\n  const canGoBack = currentIndex > 0;\n  const canGoForward = currentIndex < NAV_ITEMS.length - 1;\n\n  const goToPrevious = () => {\n    if (canGoBack) {\n      navigate(NAV_ITEMS[currentIndex - 1].path);\n    }\n  };\n\n  const goToNext = () => {\n    if (canGoForward) {\n      navigate(NAV_ITEMS[currentIndex + 1].path);\n    }\n  };\n\n  if (!isTablet) {\n    // Fallback vers le layout iOS pour les appareils non-tablette\n    return (\n      <div className='flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden'>\n        <main className='flex-1 overflow-y-auto px-4 pb-[83px] pt-4'>\n          <div className='max-w-7xl mx-auto py-4'>\n            <Outlet />\n          </div>\n        </main>\n        <IOSTabBar />\n      </div>\n    );\n  }\n\n  return (\n    <SPenCursor>\n      <div className='flex h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden samsung-optimized w-screen max-w-none'>\n        {/* Sidebar - Cache en mode portrait si plie */}\n        {/* Premium Tablet Sidebar */}\n        <aside\n          className={cn(\n            'flex-shrink-0 bg-slate-900 border-r border-slate-800 transition-all duration-300 relative overflow-hidden flex flex-col',\n            isSidebarOpen ? 'w-80' : 'w-20',\n            isLandscape ? 'block' : isSidebarOpen ? 'block' : 'hidden'\n          )}\n        >\n           {/* Ambient Background */}\n           <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0\">\n              <div className=\"absolute top-[-10%] left-[-20%] w-[80%] h-[30%] bg-blue-500/10 blur-[80px] rounded-full\"></div>\n              <div className=\"absolute bottom-[-10%] right-[-20%] w-[80%] h-[30%] bg-indigo-500/10 blur-[80px] rounded-full\"></div>\n           </div>\n\n          {/* Header */}\n          <div className='relative z-10 flex items-center justify-between h-24 px-4 border-b border-white/5'>\n            <div className={cn('flex flex-col gap-1 transition-opacity duration-300', !isSidebarOpen && 'opacity-0 hidden')}>\n                <div className='text-[10px] font-black tracking-[0.3em] uppercase text-slate-500'>\n                  GROUPE DE\n                </div>\n                <div className='text-3xl font-black tracking-tighter leading-none text-white drop-shadow-lg transform scale-y-90'>\n                  LYON\n                </div>\n            </div>\n            \n            {!isSidebarOpen && (\n               <div className=\"w-full flex justify-center\">\n                  <span className=\"text-2xl font-black text-white\">GL</span>\n               </div>\n            )}\n\n            {isLandscape && (\n              <button\n                onClick={toggleSidebar}\n                className='p-2 rounded-xl hover:bg-white/10 text-slate-400 hover:text-white transition-colors'\n                title={isSidebarOpen ? 'Rduire la sidebar' : 'Agrandir la sidebar'}\n              >\n                {isSidebarOpen ? <X className='w-5 h-5' /> : <Menu className='w-6 h-6' />}\n              </button>\n            )}\n          </div>\n\n          {/* Navigation */}\n          <nav className='relative z-10 flex-1 overflow-y-auto py-6 px-3 space-y-2 custom-scrollbar'>\n            {NAV_ITEMS.map((item) => (\n                <button\n                  key={item.path}\n                  onClick={() => navigate(item.path)}\n                  className={cn(\n                    'w-full flex items-center rounded-xl transition-all duration-200 group relative',\n                    isSidebarOpen ? 'px-4 py-4' : 'px-0 py-4 justify-center',\n                    location.pathname === item.path\n                      ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-900/40'\n                      : 'text-slate-400 hover:bg-white/5 hover:text-white'\n                  )}\n                  title={!isSidebarOpen ? item.label : undefined}\n                >\n                  <item.icon className={cn('w-6 h-6 transition-colors', isSidebarOpen && 'mr-4', location.pathname === item.path ? 'text-white' : 'text-slate-500 group-hover:text-white')} />\n                  {isSidebarOpen && <span className='font-bold text-lg tracking-wide'>{item.label}</span>}\n                  {location.pathname === item.path && (\n                        <div className=\"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-white/20 rounded-l-full blur-[1px]\"></div>\n                  )}\n                </button>\n            ))}\n\n            <div className='my-6 border-t border-white/5 mx-2'></div>\n\n            {/* Action Buttons */}\n            <div className='space-y-2'>\n                <button\n                  onClick={() => setIsQuickActionsOpen(true)}\n                  className={cn(\n                    'w-full flex items-center rounded-xl transition-all duration-200 group border border-transparent hover:border-white/5',\n                    isSidebarOpen ? 'px-4 py-3 bg-slate-800/50 hover:bg-slate-800' : 'px-0 py-3 justify-center hover:bg-slate-800'\n                  )}\n                  title={!isSidebarOpen ? 'Actions rapides' : undefined}\n                >\n                  <div className={cn(\"bg-amber-500/10 rounded-lg group-hover:scale-110 transition-transform\", isSidebarOpen ? 'p-2 mr-3' : 'p-2')}>\n                      <Zap className='w-5 h-5 text-amber-500' />\n                  </div>\n                  {isSidebarOpen && <span className='font-bold text-slate-300 group-hover:text-white'>Actions</span>}\n                </button>\n\n                <button\n                  onClick={() => setIsReportModalOpen(true)}\n                  className={cn(\n                    'w-full flex items-center rounded-xl transition-all duration-200 group border border-transparent hover:border-white/5',\n                    isSidebarOpen ? 'px-4 py-3 bg-slate-800/50 hover:bg-slate-800' : 'px-0 py-3 justify-center hover:bg-slate-800'\n                  )}\n                  title={!isSidebarOpen ? 'Rapports' : undefined}\n                >\n                  <div className={cn(\"bg-blue-500/10 rounded-lg group-hover:scale-110 transition-transform\", isSidebarOpen ? 'p-2 mr-3' : 'p-2')}>\n                      <FileText className='w-5 h-5 text-blue-500' />\n                  </div>\n                  {isSidebarOpen && <span className='font-bold text-slate-300 group-hover:text-white'>Rapports</span>}\n                </button>\n            </div>\n          </nav>\n\n          {/* Footer */}\n          <div className='relative z-10 p-4 border-t border-white/5 bg-slate-900 space-y-4'>\n            {/* Theme Toggle */}\n            <div className={cn('flex items-center', isSidebarOpen ? 'justify-between' : 'justify-center')}>\n              {isSidebarOpen && (\n                <span className='text-xs font-bold uppercase tracking-widest text-slate-500'>\n                  Mode sombre\n                </span>\n              )}\n              <button\n                onClick={toggleTheme}\n                className={cn(\n                  'relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-900',\n                  isDarkMode ? 'bg-blue-600' : 'bg-slate-700'\n                )}\n              >\n                <span\n                  className={cn(\n                    'inline-block h-4 w-4 transform rounded-full bg-white transition-transform',\n                    isDarkMode ? 'translate-x-6' : 'translate-x-1'\n                  )}\n                />\n              </button>\n            </div>\n\n            {/* Navigation Arrows */}\n            {isSidebarOpen && (\n              <div className='flex justify-between items-center pt-2'>\n                <button\n                  onClick={goToPrevious}\n                  disabled={!canGoBack}\n                  className={cn(\n                    'p-2 rounded-lg transition-colors',\n                    canGoBack\n                      ? 'hover:bg-white/10 text-slate-400 hover:text-white'\n                      : 'opacity-30 cursor-not-allowed text-slate-600'\n                  )}\n                >\n                  <ChevronLeft className='w-4 h-4' />\n                </button>\n                <span className='text-[10px] font-bold text-slate-600 uppercase tracking-wider'>\n                  {currentIndex + 1} / 5\n                </span>\n                <button\n                  onClick={goToNext}\n                  disabled={!canGoForward}\n                  className={cn(\n                    'p-2 rounded-lg transition-colors',\n                    canGoForward\n                      ? 'hover:bg-white/10 text-slate-400 hover:text-white'\n                      : 'opacity-30 cursor-not-allowed text-slate-600'\n                  )}\n                >\n                  <ChevronRight className='w-4 h-4' />\n                </button>\n              </div>\n            )}\n          </div>\n        </aside>\n\n        {/* Contenu principal */}\n        <div className='flex-1 flex flex-col overflow-hidden'>\n          {/* Contenu principal - Pleine largeur sur tablette */}\n          <main className='flex-1 overflow-hidden pt-4'>\n            <div className='h-full overflow-y-auto'>\n              <Outlet />\n            </div>\n          </main>\n\n          {/* Tab bar iOS - seulement en mode portrait */}\n          {!isLandscape && <IOSTabBar />}\n        </div>\n\n        {/* Modals */}\n        <QuickActionsModal\n          isOpen={isQuickActionsOpen}\n          onClose={() => setIsQuickActionsOpen(false)}\n          onAction={(action) => {\n            setIsQuickActionsOpen(false);\n            switch (action) {\n              case 'schedule-visit':\n                navigate('/planning');\n                break;\n              case 'add-speaker':\n                navigate('/speakers');\n                break;\n              case 'add-host':\n                navigate('/speakers');\n                break;\n              case 'send-message':\n                navigate('/messages');\n                break;\n              case 'generate-report':\n                setIsReportModalOpen(true);\n                break;\n              case 'check-conflicts':\n                navigate('/planning');\n                break;\n              case 'backup-data':\n                navigate('/settings');\n                break;\n            }\n          }}\n        />\n        <ReportGeneratorModal\n          isOpen={isReportModalOpen}\n          onClose={() => setIsReportModalOpen(false)}\n          onGenerate={handleReportGenerate}\n        />\n      </div>\n    </SPenCursor>\n  );\n};\n","import React, { useState } from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport {\n  LayoutDashboard,\n  Calendar,\n  MessageSquare,\n  Users,\n  Settings,\n  Menu,\n  X,\n  Zap,\n  FileText,\n  Bell,\n} from 'lucide-react';\nimport { IOSTabBar } from '@/components/navigation/IOSTabBar';\nimport { usePlatformContext } from '@/contexts/PlatformContext';\nimport { cn } from '@/utils/cn';\nimport { QuickActionsModal } from '@/components/ui/QuickActionsModal';\nimport { ReportGeneratorModal } from '@/components/reports/ReportGeneratorModal';\nimport { useToast } from '@/contexts/ToastContext';\nimport { useData } from '@/contexts/DataContext';\nimport { useSettings } from '@/contexts/SettingsContext';\n\nconst NAV_ITEMS = [\n  { path: '/', label: 'Accueil', icon: LayoutDashboard },\n  { path: '/planning', label: 'Planning', icon: Calendar },\n  { path: '/messages', label: 'Messages', icon: MessageSquare },\n  { path: '/speakers', label: 'Orateurs', icon: Users },\n  { path: '/settings', label: 'Paramtres', icon: Settings },\n];\n\nexport const PhoneLayout: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { deviceType, orientation, isPhoneS25Ultra } = usePlatformContext();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const { visits } = useData();\n  const { addToast } = useToast();\n  const { settings, setTheme } = useSettings();\n  const [isQuickActionsOpen, setIsQuickActionsOpen] = useState(false);\n  const [isReportModalOpen, setIsReportModalOpen] = useState(false);\n\n  const isPhone = deviceType === 'phone';\n  const isLandscape = orientation === 'landscape';\n  const isDarkMode = settings.theme === 'dark';\n  const toggleTheme = () => setTheme(settings.theme === 'dark' ? 'light' : 'dark');\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  const handleReportGenerate = (config: any) => {\n    const filteredVisits = visits.filter((v) => {\n      if (config.period === 'current-month') {\n        const now = new Date();\n        const visitDate = new Date(v.visitDate);\n        return (\n          visitDate.getMonth() === now.getMonth() && visitDate.getFullYear() === now.getFullYear()\n        );\n      }\n      return true;\n    });\n\n    const fileName = `rapport-kbv-${new Date().toISOString().slice(0, 10)}`;\n\n    if (config.format === 'csv') {\n      let csvContent = 'Date,Orateur,Congrgation,Discours,Thme,Hte,Statut\\n';\n      filteredVisits.forEach((v) => {\n        csvContent += `${v.visitDate},${v.nom},${v.congregation},${v.talkNoOrType || ''},${v.talkTheme || ''},${v.host || ''},${v.status}\\n`;\n      });\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${fileName}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      addToast('Rapport CSV gnr !', 'success');\n    } else if (config.format === 'excel') {\n      let htmlContent = `<html><head><meta charset=\"utf-8\"><style>table{border-collapse:collapse;width:100%;}th,td{border:1px solid black;padding:8px;text-align:left;}th{background-color:#4F46E5;color:white;}</style></head><body><h1>Rapport KBV Lyon</h1><table><tr><th>Date</th><th>Orateur</th><th>Congrgation</th><th>Discours</th><th>Thme</th><th>Hte</th><th>Statut</th></tr>`;\n      filteredVisits.forEach((v) => {\n        htmlContent += `<tr><td>${v.visitDate}</td><td>${v.nom}</td><td>${v.congregation}</td><td>${v.talkNoOrType || ''}</td><td>${v.talkTheme || ''}</td><td>${v.host || ''}</td><td>${v.status}</td></tr>`;\n      });\n      htmlContent += '</table></body></html>';\n      const blob = new Blob([htmlContent], { type: 'application/vnd.ms-excel' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${fileName}.xls`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      addToast('Rapport Excel gnr !', 'success');\n    } else if (config.format === 'pdf') {\n      let htmlContent = `<html><head><meta charset=\"utf-8\"><style>body{font-family:Arial,sans-serif;margin:40px;}h1{color:#4F46E5;}table{border-collapse:collapse;width:100%;margin-top:20px;}th,td{border:1px solid #ddd;padding:12px;text-align:left;}th{background-color:#4F46E5;color:white;}</style></head><body><h1>Rapport KBV Lyon</h1><p>Gnr le ${new Date().toLocaleDateString('fr-FR')}</p><table><tr><th>Date</th><th>Orateur</th><th>Congrgation</th><th>Discours</th><th>Thme</th><th>Hte</th><th>Statut</th></tr>`;\n      filteredVisits.forEach((v) => {\n        htmlContent += `<tr><td>${new Date(v.visitDate).toLocaleDateString('fr-FR')}</td><td>${v.nom}</td><td>${v.congregation}</td><td>${v.talkNoOrType || ''}</td><td>${v.talkTheme || ''}</td><td>${v.host || ''}</td><td>${v.status}</td></tr>`;\n      });\n      htmlContent += `</table><p style=\"margin-top:30px;color:#666;\">Total: ${filteredVisits.length} visite(s)</p></body></html>`;\n      const blob = new Blob([htmlContent], { type: 'text/html' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${fileName}.html`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      addToast('Rapport HTML gnr ! Ouvrez-le et imprimez en PDF', 'success');\n    }\n\n    setIsReportModalOpen(false);\n  };\n\n  if (!isPhone) {\n    // Fallback vers le layout tablette si ce n'est pas un tlphone\n    return (\n      <div className='flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden'>\n        <main className='flex-1 overflow-y-auto px-4 pb-[83px] pt-4'>\n          <div className='max-w-7xl mx-auto py-4'>\n            <Outlet />\n          </div>\n        </main>\n        <IOSTabBar />\n      </div>\n    );\n  }\n\n  // Layout optimis pour Samsung S25 Ultra\n  if (isPhoneS25Ultra) {\n    return (\n      <div\n        className={cn(\n          'flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden',\n          's25-ultra-optimized'\n        )}\n      >\n        {/* Header avec hamburger menu */}\n        <header className='flex items-center justify-between h-16 px-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50'>\n          <button\n            onClick={toggleSidebar}\n            className='p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors'\n            title={isSidebarOpen ? 'Fermer le menu' : 'Ouvrir le menu'}\n          >\n            {isSidebarOpen ? <X className='w-6 h-6' /> : <Menu className='w-6 h-6' />}\n          </button>\n\n          <div className='flex flex-col items-center'>\n            <div className='text-[18px] font-bold tracking-widest leading-none text-blue-600 dark:text-blue-400'>\n              KBV\n            </div>\n            <div className='text-[9px] font-bold leading-none text-blue-500 dark:text-blue-300'>\n              LYON\n            </div>\n          </div>\n\n          <button\n            className='s25-touch-zone p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors'\n            title='Notifications'\n          >\n            <Bell className='w-6 h-6' />\n          </button>\n        </header>\n\n        {/* Sidebar overlay */}\n        {/* Premium Sidebar overlay */}\n        {isSidebarOpen && (\n          <div className='fixed inset-0 z-50 flex'>\n            <div className='fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity' onClick={toggleSidebar} />\n            <aside className='relative flex-shrink-0 w-[85vw] max-w-[320px] bg-slate-900 shadow-2xl overflow-hidden flex flex-col'>\n              \n               {/* Ambient Background */}\n               <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0\">\n                  <div className=\"absolute top-[-10%] left-[-20%] w-[80%] h-[30%] bg-blue-500/10 blur-[80px] rounded-full\"></div>\n                  <div className=\"absolute bottom-[-10%] right-[-20%] w-[80%] h-[30%] bg-indigo-500/10 blur-[80px] rounded-full\"></div>\n               </div>\n\n              {/* Premium Header */}\n              <div className='relative z-10 flex items-center justify-between h-24 px-6 border-b border-white/5 pt-4'>\n                <div className='flex flex-col gap-1'>\n                    <div className='text-[10px] font-black tracking-[0.3em] uppercase text-slate-500'>\n                      GROUPE DE\n                    </div>\n                    <div className='text-3xl font-black tracking-tighter leading-none text-white drop-shadow-lg transform scale-y-90'>\n                      LYON\n                    </div>\n                </div>\n                <button\n                  onClick={toggleSidebar}\n                  className='s25-touch-zone p-2 rounded-full bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-colors'\n                  title='Fermer le menu'\n                >\n                  <X className='w-6 h-6' />\n                </button>\n              </div>\n\n              {/* Navigation */}\n              <nav className='relative z-10 flex-1 overflow-y-auto py-6 px-4 space-y-2 custom-scrollbar'>\n                  {NAV_ITEMS.map((item) => (\n                    <button\n                      key={item.path}\n                      onClick={() => {\n                        navigate(item.path);\n                        setIsSidebarOpen(false);\n                      }}\n                      className={cn(\n                        'w-full flex items-center p-4 rounded-xl transition-all duration-200 group relative overflow-hidden',\n                        location.pathname === item.path\n                          ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-900/40'\n                          : 'text-slate-400 hover:bg-white/5 hover:text-white'\n                      )}\n                    >\n                      <item.icon className={cn('w-6 h-6 mr-4 transition-colors', location.pathname === item.path ? 'text-white' : 'text-slate-500 group-hover:text-white')} />\n                      <span className='font-bold text-lg tracking-wide'>{item.label}</span>\n                      {location.pathname === item.path && (\n                        <div className=\"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-white/20 rounded-l-full blur-[1px]\"></div>\n                      )}\n                    </button>\n                  ))}\n\n                <div className='my-6 border-t border-white/5 mx-2'></div>\n\n                {/* Quick Actions Buttons */}\n                <div className=\"space-y-3\">\n                    <button\n                      onClick={() => {\n                        setIsQuickActionsOpen(true);\n                        setIsSidebarOpen(false);\n                      }}\n                      className='w-full flex items-center p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 transition-all border border-white/5 group'\n                    >\n                      <div className=\"p-2 bg-amber-500/10 rounded-lg mr-4 group-hover:scale-110 transition-transform\">\n                          <Zap className='w-6 h-6 text-amber-500' />\n                      </div>\n                      <span className='font-bold text-slate-300 group-hover:text-white'>Actions rapides</span>\n                    </button>\n\n                    <button\n                      onClick={() => {\n                        setIsReportModalOpen(true);\n                        setIsSidebarOpen(false);\n                      }}\n                      className='w-full flex items-center p-4 rounded-xl bg-slate-800/50 hover:bg-slate-800 transition-all border border-white/5 group'\n                    >\n                      <div className=\"p-2 bg-blue-500/10 rounded-lg mr-4 group-hover:scale-110 transition-transform\">\n                          <FileText className='w-6 h-6 text-blue-500' />\n                      </div>\n                      <span className='font-bold text-slate-300 group-hover:text-white'>Rapports</span>\n                    </button>\n                </div>\n              </nav>\n\n              {/* Footer */}\n              <div className='relative z-10 p-6 border-t border-white/5 bg-slate-900'>\n                <div className='flex items-center justify-between'>\n                  <span className='text-sm font-medium text-slate-500 uppercase tracking-widest'>\n                    Mode sombre\n                  </span>\n                  <button\n                    onClick={toggleTheme}\n                    className={cn(\n                      'relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-900',\n                      isDarkMode ? 'bg-blue-600' : 'bg-slate-700'\n                    )}\n                  >\n                    <span\n                      className={cn(\n                        'inline-block h-5 w-5 transform rounded-full bg-white transition-transform',\n                        isDarkMode ? 'translate-x-6' : 'translate-x-1'\n                      )}\n                    />\n                  </button>\n                </div>\n              </div>\n            </aside>\n          </div>\n        )}\n\n        {/* Contenu principal */}\n        <main\n          className={cn(\n            'flex-1 overflow-y-auto',\n            isLandscape && isPhoneS25Ultra ? 'pt-0' : 'pt-4',\n            !isLandscape && 'pb-[83px]'\n          )}\n        >\n          <div className={cn('h-full', isLandscape && isPhoneS25Ultra ? 's25-landscape' : 'px-4')}>\n            <Outlet />\n          </div>\n        </main>\n\n        {/* Tab bar iOS - seulement en mode portrait et si sidebar ferme */}\n        {!isLandscape && !isSidebarOpen && <IOSTabBar />}\n\n        {/* Modals */}\n        <QuickActionsModal\n          isOpen={isQuickActionsOpen}\n          onClose={() => setIsQuickActionsOpen(false)}\n          onAction={(action) => {\n            setIsQuickActionsOpen(false);\n            switch (action) {\n              case 'schedule-visit':\n                navigate('/planning');\n                break;\n              case 'add-speaker':\n                navigate('/speakers');\n                break;\n              case 'add-host':\n                navigate('/speakers');\n                break;\n              case 'send-message':\n                navigate('/messages');\n                break;\n              case 'generate-report':\n                setIsReportModalOpen(true);\n                break;\n              case 'check-conflicts':\n                navigate('/planning');\n                break;\n              case 'backup-data':\n                navigate('/settings');\n                break;\n            }\n          }}\n        />\n        <ReportGeneratorModal\n          isOpen={isReportModalOpen}\n          onClose={() => setIsReportModalOpen(false)}\n          onGenerate={handleReportGenerate}\n        />\n      </div>\n    );\n  }\n\n  // Layout mobile standard (non-S25 Ultra)\n  return (\n    <div className='flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden'>\n      <main className='flex-1 overflow-y-auto px-4 pb-[83px] pt-4'>\n        <div className='max-w-7xl mx-auto py-4'>\n          <Outlet />\n        </div>\n      </main>\n      <IOSTabBar />\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface SpinnerProps {\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nexport const Spinner: React.FC<SpinnerProps> = ({ size = 'md', className = '' }) => {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-6 h-6',\n    lg: 'w-8 h-8',\n  };\n\n  return (\n    <div\n      className={`animate-spin rounded-full border-2 border-gray-300 border-t-primary-600 ${sizeClasses[size]} ${className}`}\n      role='status'\n      aria-label='Loading'\n    >\n      <span className='sr-only'>Loading...</span>\n    </div>\n  );\n};\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/timeoutManager.ts\nvar defaultTimeoutProvider = {\n  // We need the wrapper function syntax below instead of direct references to\n  // global setTimeout etc.\n  //\n  // BAD: `setTimeout: setTimeout`\n  // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n  //\n  // If we use direct references here, then anything that wants to spy on or\n  // replace the global setTimeout (like tests) won't work since we'll already\n  // have a hard reference to the original implementation at the time when this\n  // file was imported.\n  setTimeout: (callback, delay) => setTimeout(callback, delay),\n  clearTimeout: (timeoutId) => clearTimeout(timeoutId),\n  setInterval: (callback, delay) => setInterval(callback, delay),\n  clearInterval: (intervalId) => clearInterval(intervalId)\n};\nvar TimeoutManager = class {\n  // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n  // type at app boot; and if we leave that type, then any new timer provider\n  // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n  //\n  // We settle for type safety for the TimeoutProvider type, and accept that\n  // this class is unsafe internally to allow for extension.\n  #provider = defaultTimeoutProvider;\n  #providerCalled = false;\n  setTimeoutProvider(provider) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (this.#providerCalled && provider !== this.#provider) {\n        console.error(\n          `[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`,\n          { previous: this.#provider, provider }\n        );\n      }\n    }\n    this.#provider = provider;\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = false;\n    }\n  }\n  setTimeout(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setTimeout(callback, delay);\n  }\n  clearTimeout(timeoutId) {\n    this.#provider.clearTimeout(timeoutId);\n  }\n  setInterval(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setInterval(callback, delay);\n  }\n  clearInterval(intervalId) {\n    this.#provider.clearInterval(intervalId);\n  }\n};\nvar timeoutManager = new TimeoutManager();\nfunction systemSetTimeoutZero(callback) {\n  setTimeout(callback, 0);\n}\nexport {\n  TimeoutManager,\n  defaultTimeoutProvider,\n  systemSetTimeoutZero,\n  timeoutManager\n};\n//# sourceMappingURL=timeoutManager.js.map","// src/utils.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nvar hasOwn = Object.prototype.hasOwnProperty;\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (!array && !(isPlainObject(a) && isPlainObject(b))) return b;\n  const aItems = array ? a : Object.keys(a);\n  const aSize = aItems.length;\n  const bItems = array ? b : Object.keys(b);\n  const bSize = bItems.length;\n  const copy = array ? new Array(bSize) : {};\n  let equalItems = 0;\n  for (let i = 0; i < bSize; i++) {\n    const key = array ? i : bItems[i];\n    const aItem = a[key];\n    const bItem = b[key];\n    if (aItem === bItem) {\n      copy[key] = aItem;\n      if (array ? i < aSize : hasOwn.call(a, key)) equalItems++;\n      continue;\n    }\n    if (aItem === null || bItem === null || typeof aItem !== \"object\" || typeof bItem !== \"object\") {\n      copy[key] = bItem;\n      continue;\n    }\n    const v = replaceEqualDeep(aItem, bItem);\n    copy[key] = v;\n    if (v === aItem) equalItems++;\n  }\n  return aSize === bSize && equalItems === aSize ? a : copy;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    timeoutManager.setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/notifyManager.ts\nimport { systemSetTimeoutZero } from \"./timeoutManager.js\";\nvar defaultScheduler = systemSetTimeoutZero;\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/removable.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = timeoutManager.setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      timeoutManager.clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n    if (this.state && this.state.data === void 0) {\n      const defaultState = getDefaultState(this.options);\n      if (defaultState.data !== void 0) {\n        this.setState(\n          successState(defaultState.data, defaultState.dataUpdatedAt)\n        );\n        this.#initialState = defaultState;\n      }\n    }\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n        }\n        abortController.abort();\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            ...successState(action.data, action.dataUpdatedAt),\n            dataUpdateCount: state.dataUpdateCount + 1,\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction successState(data, dataUpdatedAt) {\n  return {\n    data,\n    dataUpdatedAt: dataUpdatedAt ?? Date.now(),\n    error: null,\n    isInvalidated: false,\n    status: \"success\"\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #client;\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.#client = config.client;\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    const mutationFnContext = {\n      client: this.#client,\n      meta: this.options.meta,\n      mutationKey: this.options.mutationKey\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables, mutationFnContext);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this,\n          mutationFnContext\n        );\n        const context = await this.options.onMutate?.(\n          variables,\n          mutationFnContext\n        );\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this,\n        mutationFnContext\n      );\n      await this.options.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        mutationFnContext\n      );\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this,\n        mutationFnContext\n      );\n      await this.options.onSettled?.(\n        data,\n        null,\n        variables,\n        this.state.context,\n        mutationFnContext\n      );\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this,\n          mutationFnContext\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context,\n          mutationFnContext\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this,\n          mutationFnContext\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context,\n          mutationFnContext\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      client,\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","import { QueryClient, QueryCache, MutationCache } from '@tanstack/react-query';\nimport { openDB } from 'idb';\n\n// Configuration du cache global avec React Query\nexport const queryClient = new QueryClient({\n  queryCache: new QueryCache({\n    onError: (error) => {\n      console.error('Query Cache Error:', error);\n      // Log errors to Sentry or other monitoring service\n    },\n    onSuccess: (data) => {\n      console.log('Query Cache Success:', data);\n    },\n  }),\n  mutationCache: new MutationCache({\n    onError: (error) => {\n      console.error('Mutation Cache Error:', error);\n    },\n    onSuccess: (data) => {\n      console.log('Mutation Cache Success:', data);\n    },\n  }),\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 minutes\n      gcTime: 1000 * 60 * 30, // 30 minutes (anciennement cacheTime)\n      retry: (failureCount, error) => {\n        // Retry 3 times for network errors, but not for 4xx errors\n        if (error && typeof error === 'object' && 'status' in error) {\n          const { status } = error as any;\n          if (status >= 400 && status < 500) {\n            return false;\n          }\n        }\n        return failureCount < 3;\n      },\n      refetchOnWindowFocus: false,\n      refetchOnReconnect: true,\n    },\n    mutations: {\n      retry: 1,\n    },\n  },\n});\n\n// Configuration IndexedDB pour le cache offline\nconst DB_NAME = 'KBVCache';\nconst DB_VERSION = 1;\n\nexport interface CacheMetadata {\n  key: string;\n  timestamp: number;\n  size: number;\n  accessCount: number;\n  lastAccessed: number;\n}\n\nexport class OfflineCacheManager {\n  private db: any;\n\n  async init() {\n    try {\n      this.db = await openDB(DB_NAME, DB_VERSION, {\n        upgrade(db) {\n          // Store pour les donnes caches\n          if (!db.objectStoreNames.contains('data')) {\n            db.createObjectStore('data', { keyPath: 'key' });\n          }\n          // Store pour les mtadonnes du cache\n          if (!db.objectStoreNames.contains('metadata')) {\n            const metadataStore = db.createObjectStore('metadata', { keyPath: 'key' });\n            metadataStore.createIndex('lastAccessed', 'lastAccessed');\n            metadataStore.createIndex('timestamp', 'timestamp');\n          }\n        },\n      });\n      console.log('IndexedDB initialized successfully');\n    } catch (error) {\n      console.error('Failed to initialize IndexedDB:', error);\n    }\n  }\n\n  async set(key: string, data: any, metadata?: Partial<CacheMetadata>) {\n    if (!this.db) await this.init();\n\n    try {\n      const timestamp = Date.now();\n      const size = JSON.stringify(data).length;\n\n      // Stocker les donnes\n      await this.db.put('data', { key, data, timestamp });\n\n      // Stocker les mtadonnes\n      const cacheMetadata: CacheMetadata = {\n        key,\n        timestamp,\n        size,\n        accessCount: 0,\n        lastAccessed: timestamp,\n        ...metadata,\n      };\n      await this.db.put('metadata', cacheMetadata);\n\n      console.log(`Cache set for key: ${key}, size: ${size} bytes`);\n    } catch (error) {\n      console.error('Failed to set cache:', error);\n    }\n  }\n\n  async get(key: string) {\n    if (!this.db) await this.init();\n\n    try {\n      const result = await this.db.get('data', key);\n      if (result) {\n        // Mettre  jour les mtadonnes d'accs\n        await this.updateAccessMetadata(key);\n        return result.data;\n      }\n      return null;\n    } catch (error) {\n      console.error('Failed to get cache:', error);\n      return null;\n    }\n  }\n\n  async getMetadata(key: string) {\n    if (!this.db) await this.init();\n\n    try {\n      return await this.db.get('metadata', key);\n    } catch (error) {\n      console.error('Failed to get metadata:', error);\n      return null;\n    }\n  }\n\n  private async updateAccessMetadata(key: string) {\n    try {\n      const metadata = await this.getMetadata(key);\n      if (metadata) {\n        metadata.accessCount += 1;\n        metadata.lastAccessed = Date.now();\n        await this.db.put('metadata', metadata);\n      }\n    } catch (error) {\n      console.error('Failed to update access metadata:', error);\n    }\n  }\n\n  async delete(key: string) {\n    if (!this.db) await this.init();\n\n    try {\n      await this.db.delete('data', key);\n      await this.db.delete('metadata', key);\n      console.log(`Cache deleted for key: ${key}`);\n    } catch (error) {\n      console.error('Failed to delete cache:', error);\n    }\n  }\n\n  async clear() {\n    if (!this.db) await this.init();\n\n    try {\n      await this.db.clear('data');\n      await this.db.clear('metadata');\n      console.log('All cache cleared');\n    } catch (error) {\n      console.error('Failed to clear cache:', error);\n    }\n  }\n\n  async getAllMetadata() {\n    if (!this.db) await this.init();\n\n    try {\n      return await this.db.getAll('metadata');\n    } catch (error) {\n      console.error('Failed to get all metadata:', error);\n      return [];\n    }\n  }\n\n  async getCacheStats() {\n    const metadata = await this.getAllMetadata();\n    const totalSize = metadata.reduce((sum: number, item: CacheMetadata) => sum + item.size, 0);\n\n    return {\n      totalEntries: metadata.length,\n      totalSize,\n      oldestEntry: metadata.reduce(\n        (oldest: CacheMetadata, item: CacheMetadata) =>\n          item.timestamp < oldest.timestamp ? item : oldest,\n        metadata[0]\n      ),\n      mostAccessed: metadata.reduce(\n        (most: CacheMetadata, item: CacheMetadata) =>\n          item.accessCount > most.accessCount ? item : most,\n        metadata[0]\n      ),\n      recentlyAccessed: metadata\n        .sort((a: CacheMetadata, b: CacheMetadata) => b.lastAccessed - a.lastAccessed)\n        .slice(0, 10),\n    };\n  }\n\n  // Stratgie LRU (Least Recently Used) pour nettoyer le cache\n  async cleanup(\n    maxAge = 1000 * 60 * 60 * 24 * 7, // 7 jours\n    maxSize = 50 * 1024 * 1024\n  ) {\n    // 50MB\n    if (!this.db) await this.init();\n\n    try {\n      const metadata = await this.getAllMetadata();\n      const now = Date.now();\n\n      // Supprimer les entres trop anciennes\n      const expiredKeys = metadata\n        .filter((item: CacheMetadata) => now - item.timestamp > maxAge)\n        .map((item: CacheMetadata) => item.key);\n\n      for (const key of expiredKeys) {\n        await this.delete(key);\n      }\n\n      // Si encore trop volumineux, supprimer les moins rcemment utilises\n      const sortedMetadata = metadata\n        .filter((item: CacheMetadata) => !expiredKeys.includes(item.key))\n        .sort((a: CacheMetadata, b: CacheMetadata) => a.lastAccessed - b.lastAccessed);\n\n      let currentSize = sortedMetadata.reduce(\n        (sum: number, item: CacheMetadata) => sum + item.size,\n        0\n      );\n      const keysToRemove: string[] = [];\n\n      for (const item of sortedMetadata) {\n        if (currentSize <= maxSize) break;\n        keysToRemove.push(item.key);\n        currentSize -= item.size;\n      }\n\n      for (const key of keysToRemove) {\n        await this.delete(key);\n      }\n\n      console.log(\n        `Cache cleanup: removed ${expiredKeys.length} expired entries and ${keysToRemove.length} LRU entries`\n      );\n    } catch (error) {\n      console.error('Failed to cleanup cache:', error);\n    }\n  }\n}\n\n// Instance globale du gestionnaire de cache\nexport const offlineCache = new OfflineCacheManager();\n\n// Hook pour prcharger les donnes critiques\nexport function usePreloadData() {\n  const preloadCriticalData = async () => {\n    try {\n      // Prcharger les donnes les plus utilises\n      await queryClient.prefetchQuery({\n        queryKey: ['visits', 'current'],\n        queryFn: () =>\n          // Logique pour rcuprer les visites actuelles\n          fetch('/api/visits/current').then((r) => r.json()),\n        staleTime: 1000 * 60 * 2, // 2 minutes\n      });\n\n      await queryClient.prefetchQuery({\n        queryKey: ['speakers', 'active'],\n        queryFn: () =>\n          // Logique pour rcuprer les orateurs actifs\n          fetch('/api/speakers/active').then((r) => r.json()),\n        staleTime: 1000 * 60 * 5, // 5 minutes\n      });\n\n      console.log('Critical data preloaded');\n    } catch (error) {\n      console.error('Failed to preload critical data:', error);\n    }\n  };\n\n  return { preloadCriticalData };\n}\n\nexport default {\n  queryClient,\n  offlineCache,\n  usePreloadData,\n};\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { Button } from '@/components/ui/Button';\nimport { AlertTriangle, RefreshCw, Home } from 'lucide-react';\n\n// ============================================================================\n// CONSTANTS\n// ============================================================================\n\nconst MAX_RETRY_ATTEMPTS = 3;\nconst DEFAULT_RETRY_DELAY = 1000;\nconst RETRY_TIMEOUT = 500;\nconst EXPONENTIAL_BACKOFF_BASE = 2;\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (_error: Error, _errorInfo: ErrorInfo) => void;\n  enableRetry?: boolean;\n  maxRetries?: number;\n  retryDelay?: number;\n  showDetails?: boolean;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n  retryCount: number;\n  isRetrying: boolean;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  private retryTimeoutId: ReturnType<typeof setTimeout> | null = null;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      retryCount: 0,\n      isRetrying: false,\n    };\n  }\n\n  static getDerivedStateFromError(error: Error): Partial<State> {\n    return {\n      hasError: true,\n      error,\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    const {\n      onError,\n      maxRetries = MAX_RETRY_ATTEMPTS,\n      retryDelay = DEFAULT_RETRY_DELAY,\n    } = this.props;\n\n    this.setState({\n      errorInfo,\n    });\n\n    // Log l'erreur\n    // eslint-disable-next-line no-console\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n\n    // Callback personnalis pour analytics/debugging\n    if (onError) {\n      onError(error, errorInfo);\n    }\n\n    // Auto-retry si configur\n    const { enableRetry = true } = this.props;\n    if (enableRetry && this.state.retryCount < maxRetries) {\n      this.scheduleRetry(error, errorInfo, maxRetries, retryDelay);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.retryTimeoutId) {\n      clearTimeout(this.retryTimeoutId);\n    }\n  }\n\n  private scheduleRetry = (\n    _error: Error,\n    _errorInfo: ErrorInfo,\n    maxRetries: number,\n    delay: number\n  ) => {\n    const { retryCount } = this.state;\n    const nextRetryCount = retryCount + 1;\n\n    // eslint-disable-next-line no-console\n    console.log(`Programmation du retry ${nextRetryCount}/${maxRetries} dans ${delay}ms`);\n\n    this.retryTimeoutId = setTimeout(\n      () => {\n        this.handleRetry();\n      },\n      delay * Math.pow(EXPONENTIAL_BACKOFF_BASE, retryCount)\n    ); // Backoff exponentiel\n  };\n\n  handleRetry = () => {\n    const { maxRetries = MAX_RETRY_ATTEMPTS } = this.props;\n    const { retryCount } = this.state;\n\n    if (retryCount < maxRetries) {\n      this.setState((prevState) => ({\n        hasError: false,\n        error: null,\n        errorInfo: null,\n        retryCount: prevState.retryCount + 1,\n        isRetrying: true,\n      }));\n\n      // Reset isRetrying aprs un court dlai\n      setTimeout(() => {\n        this.setState({ isRetrying: false });\n      }, RETRY_TIMEOUT);\n    }\n  };\n\n  handleReset = () => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      retryCount: 0,\n      isRetrying: false,\n    });\n\n    // Recharger la page en cas d'erreur critique\n    if (this.state.retryCount >= (this.props.maxRetries || MAX_RETRY_ATTEMPTS)) {\n      window.location.reload();\n    }\n  };\n\n  handleGoHome = () => {\n    window.location.href = '/';\n  };\n\n  render() {\n    const { hasError, error, errorInfo, retryCount, isRetrying } = this.state;\n    const {\n      children,\n      fallback,\n      enableRetry = true,\n      maxRetries = MAX_RETRY_ATTEMPTS,\n      showDetails = false,\n    } = this.props;\n\n    if (hasError) {\n      // Fallback personnalis\n      if (fallback) {\n        return fallback;\n      }\n\n      const canRetry = enableRetry && retryCount < maxRetries;\n      const shouldReload = retryCount >= maxRetries;\n\n      return (\n        <div className='min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4'>\n          <div className='max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center'>\n            {/* Icne d'erreur */}\n            <div className='mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4'>\n              <AlertTriangle className='h-8 w-8 text-red-600 dark:text-red-400' />\n            </div>\n\n            {/* Message d'erreur */}\n            <h1 className='text-xl font-semibold text-gray-900 dark:text-white mb-2'>\n              Oups ! Une erreur s'est produite\n            </h1>\n\n            <p className='text-gray-600 dark:text-gray-400 mb-6'>\n              {shouldReload\n                ? 'Trop de tentatives ont chou. La page va tre recharge.'\n                : canRetry\n                  ? `Nous avons rencontr un problme. Tentative ${retryCount}/${maxRetries}.`\n                  : 'Nous avons rencontr un problme inattendu.'}\n            </p>\n\n            {/* Actions */}\n            <div className='space-y-3'>\n              {canRetry && (\n                <Button\n                  onClick={this.handleRetry}\n                  disabled={isRetrying}\n                  variant='primary'\n                  leftIcon={\n                    isRetrying ? (\n                      <RefreshCw className='w-4 h-4 animate-spin' />\n                    ) : (\n                      <RefreshCw className='w-4 h-4' />\n                    )\n                  }\n                  className='w-full'\n                >\n                  {isRetrying ? 'Nouvelle tentative...' : `Ressayer (${retryCount}/${maxRetries})`}\n                </Button>\n              )}\n\n              {shouldReload && (\n                <Button\n                  onClick={this.handleReset}\n                  variant='primary'\n                  leftIcon={<RefreshCw className='w-4 h-4' />}\n                  className='w-full'\n                >\n                  Recharger la page\n                </Button>\n              )}\n\n              <Button\n                onClick={this.handleGoHome}\n                variant='ghost'\n                leftIcon={<Home className='w-4 h-4' />}\n                className='w-full'\n              >\n                Retour  l'accueil\n              </Button>\n            </div>\n\n            {/* Dtails de l'erreur (mode debug) */}\n            {showDetails && error && (\n              <details className='mt-6 text-left'>\n                <summary className='cursor-pointer text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'>\n                  Dtails techniques\n                </summary>\n                <div className='mt-2 p-3 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-800 dark:text-gray-200 overflow-auto max-h-40'>\n                  <div className='mb-2'>\n                    <strong>Erreur:</strong> {error.message}\n                  </div>\n                  {error.stack && (\n                    <div>\n                      <strong>Stack:</strong>\n                      <pre className='whitespace-pre-wrap'>{error.stack}</pre>\n                    </div>\n                  )}\n                  {errorInfo && (\n                    <div className='mt-2'>\n                      <strong>Component Stack:</strong>\n                      <pre className='whitespace-pre-wrap'>{errorInfo.componentStack}</pre>\n                    </div>\n                  )}\n                </div>\n              </details>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return children;\n  }\n}\n\n// Hook pour utiliser Error Boundary avec retry automatique\nexport function useErrorHandler() {\n  return {\n    handleError: (error: Error, errorInfo?: ErrorInfo) => {\n      // Log l'erreur pour debugging\n      // eslint-disable-next-line no-console\n      console.error('Erreur capture:', error, errorInfo);\n\n      // Ici on pourrait envoyer  un service de monitoring comme Sentry\n      // Example: Sentry.captureException(error, { contexts: { react: errorInfo } });\n    },\n\n    createBoundary: (componentName: string) => (props: Omit<Props, 'onError'>) => (\n      <ErrorBoundary\n        {...props}\n        onError={(error, errorInfo) => {\n          // eslint-disable-next-line no-console\n          console.error(`Erreur dans ${componentName}:`, error, errorInfo);\n          // Actions spcifiques par composant\n        }}\n      />\n    ),\n  };\n}\n\n// Error Boundary pour les composants spcifiques\nexport const withErrorBoundary = <P extends object>(\n  Component: React.ComponentType<P>,\n  errorBoundaryProps: Omit<Props, 'children'> = {}\n) => {\n  const WrappedComponent = (props: P) => (\n    <ErrorBoundary {...errorBoundaryProps}>\n      <Component {...props} />\n    </ErrorBoundary>\n  );\n\n  WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;\n\n  return WrappedComponent;\n};\n\nexport default ErrorBoundary;\n","import React, { Suspense } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { DataProvider } from '@/contexts/DataContext';\nimport { SettingsProvider } from '@/contexts/SettingsContext';\nimport { ToastProvider } from '@/contexts/ToastContext';\nimport { ConfirmProvider } from '@/contexts/ConfirmContext';\nimport { PlatformProvider, usePlatformContext } from '@/contexts/PlatformContext';\nimport { AccessibilityProvider } from '@/components/ui/Accessibility';\nimport { IOSMainLayout } from '@/components/layout/IOSMainLayout';\nimport { TabletLayout } from '@/components/layout/TabletLayout';\nimport { PhoneLayout } from '@/components/layout/PhoneLayout';\nimport { Spinner } from '@/components/ui/Spinner';\nimport { QueryClientProvider } from '@tanstack/react-query';\nimport { queryClient } from '@/utils/cacheManager';\nimport '@/styles/print.css';\nimport { ErrorBoundary } from '@/components/ErrorBoundary';\n\n// Lazy load pages for code splitting\nconst Dashboard = React.lazy(() =>\n  import('@/pages/Dashboard').then((module) => ({ default: module.Dashboard }))\n);\nconst Planning = React.lazy(() =>\n  import('@/pages/Planning.tsx').then((module) => ({ default: module.Planning }))\n);\nconst Messages = React.lazy(() =>\n  import('@/pages/Messages').then((module) => ({ default: module.Messages }))\n);\nconst Speakers = React.lazy(() =>\n  import('@/pages/Speakers').then((module) => ({ default: module.Speakers }))\n);\n\nconst Settings = React.lazy(() =>\n  import('@/pages/Settings').then((module) => ({ default: module.Settings }))\n);\n\n// Loading fallback component\nconst PageLoader = () => (\n  <div className='flex items-center justify-center h-64'>\n    <Spinner size='lg' />\n  </div>\n);\n\n// Composant interne qui peut accder au contexte Platform\nfunction AppContent() {\n  const { deviceType, isPhoneS25Ultra } = usePlatformContext();\n  const isTablet = deviceType === 'tablet';\n  const isPhone = deviceType === 'phone';\n\n  // Choix du layout en fonction du type d'appareil\n  let LayoutComponent;\n  if (isTablet) {\n    LayoutComponent = TabletLayout;\n  } else if (isPhone && isPhoneS25Ultra) {\n    LayoutComponent = PhoneLayout;\n  } else {\n    LayoutComponent = IOSMainLayout;\n  }\n\n  return (\n    <ErrorBoundary>\n      <SettingsProvider>\n        <ToastProvider>\n          <ConfirmProvider>\n            <DataProvider>\n              <BrowserRouter>\n                <Suspense fallback={<PageLoader />}>\n                  <Routes>\n                    <Route path='/' element={<LayoutComponent />}>\n                      <Route\n                        index\n                        element={\n                          <ErrorBoundary>\n                            <Dashboard />\n                          </ErrorBoundary>\n                        }\n                      />\n                      <Route\n                        path='planning'\n                        element={\n                          <ErrorBoundary>\n                            <Planning />\n                          </ErrorBoundary>\n                        }\n                      />\n                      <Route\n                        path='messages'\n                        element={\n                          <ErrorBoundary>\n                            <Messages />\n                          </ErrorBoundary>\n                        }\n                      />\n                      <Route\n                        path='speakers'\n                        element={\n                          <ErrorBoundary>\n                            <Speakers />\n                          </ErrorBoundary>\n                        }\n                      />\n\n                      <Route\n                        path='settings'\n                        element={\n                          <ErrorBoundary>\n                            <Settings />\n                          </ErrorBoundary>\n                        }\n                      />\n                      <Route path='*' element={<Navigate to='/' replace />} />\n                    </Route>\n                  </Routes>\n                </Suspense>\n              </BrowserRouter>\n            </DataProvider>\n          </ConfirmProvider>\n        </ToastProvider>\n      </SettingsProvider>\n    </ErrorBoundary>\n  );\n}\n\nfunction App() {\n  return (\n    <ErrorBoundary>\n      <QueryClientProvider client={queryClient}>\n        <AccessibilityProvider>\n          <PlatformProvider>\n            <AppContent />\n          </PlatformProvider>\n        </AccessibilityProvider>\n      </QueryClientProvider>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"file":"index-CCbl2mUd.js"}