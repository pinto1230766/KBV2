{"version":3,"file":"VisitActionModal-DKUFiQqS.js","sources":["../../node_modules/lucide-react/dist/esm/icons/building.js","../../node_modules/lucide-react/dist/esm/icons/check-square.js","../../node_modules/lucide-react/dist/esm/icons/credit-card.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/euro.js","../../node_modules/lucide-react/dist/esm/icons/hotel.js","../../node_modules/lucide-react/dist/esm/icons/map.js","../../node_modules/lucide-react/dist/esm/icons/navigation.js","../../node_modules/lucide-react/dist/esm/icons/pen.js","../../node_modules/lucide-react/dist/esm/icons/plane.js","../../node_modules/lucide-react/dist/esm/icons/printer.js","../../node_modules/lucide-react/dist/esm/icons/share-2.js","../../node_modules/lucide-react/dist/esm/icons/tag.js","../../node_modules/lucide-react/dist/esm/icons/tram-front.js","../../node_modules/lucide-react/dist/esm/icons/truck.js","../../node_modules/lucide-react/dist/esm/icons/utensils.js","../../node_modules/lucide-react/dist/esm/icons/x-circle.js","../../src/components/expenses/ExpenseForm.tsx","../../src/components/expenses/ExpenseList.tsx","../../src/components/logistics/ItineraryView.tsx","../../src/components/logistics/AccommodationView.tsx","../../src/components/logistics/Checklist.tsx","../../src/components/logistics/LogisticsManager.tsx","../../src/components/logistics/TravelCoordinationModal.tsx","../../src/components/logistics/MealPlanningModal.tsx","../../src/components/hosts/AccommodationMatchingModal.tsx","../../node_modules/react-to-print/lib/index.js","../../src/components/reports/RoadmapView.tsx","../../src/components/planning/VisitActionModal.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Building = createLucideIcon(\"Building\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", ry: \"2\", key: \"76otgf\" }],\n  [\"path\", { d: \"M9 22v-4h6v4\", key: \"r93iot\" }],\n  [\"path\", { d: \"M8 6h.01\", key: \"1dz90k\" }],\n  [\"path\", { d: \"M16 6h.01\", key: \"1x0f13\" }],\n  [\"path\", { d: \"M12 6h.01\", key: \"1vi96p\" }],\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M16 14h.01\", key: \"1gbofw\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }]\n]);\n\nexport { Building as default };\n//# sourceMappingURL=building.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckSquare = createLucideIcon(\"CheckSquare\", [\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }],\n  [\"path\", { d: \"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\", key: \"1jnkn4\" }]\n]);\n\nexport { CheckSquare as default };\n//# sourceMappingURL=check-square.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Euro = createLucideIcon(\"Euro\", [\n  [\"path\", { d: \"M4 10h12\", key: \"1y6xl8\" }],\n  [\"path\", { d: \"M4 14h9\", key: \"1loblj\" }],\n  [\n    \"path\",\n    {\n      d: \"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2\",\n      key: \"1j6lzo\"\n    }\n  ]\n]);\n\nexport { Euro as default };\n//# sourceMappingURL=euro.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Hotel = createLucideIcon(\"Hotel\", [\n  [\n    \"path\",\n    {\n      d: \"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z\",\n      key: \"p9z69c\"\n    }\n  ],\n  [\"path\", { d: \"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16\", key: \"1bvcvh\" }],\n  [\"path\", { d: \"M8 7h.01\", key: \"1vti4s\" }],\n  [\"path\", { d: \"M16 7h.01\", key: \"1kdx03\" }],\n  [\"path\", { d: \"M12 7h.01\", key: \"1ivr5q\" }],\n  [\"path\", { d: \"M12 11h.01\", key: \"z322tv\" }],\n  [\"path\", { d: \"M16 11h.01\", key: \"xkw8gn\" }],\n  [\"path\", { d: \"M8 11h.01\", key: \"1dfujw\" }],\n  [\"path\", { d: \"M10 22v-6.5m4 0V22\", key: \"16gs4s\" }]\n]);\n\nexport { Hotel as default };\n//# sourceMappingURL=hotel.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Map = createLucideIcon(\"Map\", [\n  [\"polygon\", { points: \"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21\", key: \"ok2ie8\" }],\n  [\"line\", { x1: \"9\", x2: \"9\", y1: \"3\", y2: \"18\", key: \"w34qz5\" }],\n  [\"line\", { x1: \"15\", x2: \"15\", y1: \"6\", y2: \"21\", key: \"volv9a\" }]\n]);\n\nexport { Map as default };\n//# sourceMappingURL=map.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Navigation = createLucideIcon(\"Navigation\", [\n  [\"polygon\", { points: \"3 11 22 2 13 21 11 13 3 11\", key: \"1ltx0t\" }]\n]);\n\nexport { Navigation as default };\n//# sourceMappingURL=navigation.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plane = createLucideIcon(\"Plane\", [\n  [\n    \"path\",\n    {\n      d: \"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z\",\n      key: \"1v9wt8\"\n    }\n  ]\n]);\n\nexport { Plane as default };\n//# sourceMappingURL=plane.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Printer = createLucideIcon(\"Printer\", [\n  [\"polyline\", { points: \"6 9 6 2 18 2 18 9\", key: \"1306q4\" }],\n  [\n    \"path\",\n    {\n      d: \"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\",\n      key: \"143wyd\"\n    }\n  ],\n  [\"rect\", { width: \"12\", height: \"8\", x: \"6\", y: \"14\", key: \"5ipwut\" }]\n]);\n\nexport { Printer as default };\n//# sourceMappingURL=printer.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Share2 = createLucideIcon(\"Share2\", [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n]);\n\nexport { Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tag = createLucideIcon(\"Tag\", [\n  [\n    \"path\",\n    {\n      d: \"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z\",\n      key: \"14b2ls\"\n    }\n  ],\n  [\"path\", { d: \"M7 7h.01\", key: \"7u93v4\" }]\n]);\n\nexport { Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TramFront = createLucideIcon(\"TramFront\", [\n  [\"rect\", { width: \"16\", height: \"16\", x: \"4\", y: \"3\", rx: \"2\", key: \"1wxw4b\" }],\n  [\"path\", { d: \"M4 11h16\", key: \"mpoxn0\" }],\n  [\"path\", { d: \"M12 3v8\", key: \"1h2ygw\" }],\n  [\"path\", { d: \"m8 19-2 3\", key: \"13i0xs\" }],\n  [\"path\", { d: \"m18 22-2-3\", key: \"1p0ohu\" }],\n  [\"path\", { d: \"M8 15h0\", key: \"q9eq1f\" }],\n  [\"path\", { d: \"M16 15h0\", key: \"pzrbjg\" }]\n]);\n\nexport { TramFront as default };\n//# sourceMappingURL=tram-front.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Truck = createLucideIcon(\"Truck\", [\n  [\"path\", { d: \"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11\", key: \"hs4xqm\" }],\n  [\"path\", { d: \"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2\", key: \"11fp61\" }],\n  [\"circle\", { cx: \"7\", cy: \"18\", r: \"2\", key: \"19iecd\" }],\n  [\"path\", { d: \"M15 18H9\", key: \"1lyqi6\" }],\n  [\"circle\", { cx: \"17\", cy: \"18\", r: \"2\", key: \"332jqn\" }]\n]);\n\nexport { Truck as default };\n//# sourceMappingURL=truck.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Utensils = createLucideIcon(\"Utensils\", [\n  [\"path\", { d: \"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\", key: \"cjf0a3\" }],\n  [\"path\", { d: \"M7 2v20\", key: \"1473qp\" }],\n  [\"path\", { d: \"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\", key: \"1ogz0v\" }]\n]);\n\nexport { Utensils as default };\n//# sourceMappingURL=utensils.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst XCircle = createLucideIcon(\"XCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { XCircle as default };\n//# sourceMappingURL=x-circle.js.map\n","import React, { useState } from 'react';\nimport { Button } from '@/components/ui/Button';\nimport { Expense } from '@/types';\nimport { Save } from 'lucide-react';\n\ninterface ExpenseFormProps {\n  onSubmit: (expenseData: Omit<Expense, 'id'>) => void;\n  onCancel: () => void;\n  initialData?: Expense;\n  currency?: string;\n}\n\nconst CATEGORIES = ['Transport', 'Hébergement', 'Repas', 'Matériel', 'Autre'];\n\nexport const ExpenseForm: React.FC<ExpenseFormProps> = ({\n  onSubmit,\n  onCancel,\n  initialData,\n  currency = '€',\n}) => {\n  const [description, setDescription] = useState(initialData?.description || '');\n  const [amount, setAmount] = useState<string>(initialData?.amount?.toString() || '');\n  const [date, setDate] = useState(initialData?.date || new Date().toISOString().split('T')[0]);\n  const [category, setCategory] = useState(initialData?.category || CATEGORIES[0]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!description || !amount || !date) return;\n\n    onSubmit({\n      description,\n      amount: parseFloat(amount),\n      date,\n      category,\n    });\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className='space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700'\n    >\n      <div className='grid grid-cols-1 sm:grid-cols-2 gap-4'>\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n            Description *\n          </label>\n          <input\n            type='text'\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            className='w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm'\n            placeholder='Ex: Billet de train...'\n            required\n            autoFocus\n          />\n        </div>\n\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n            Catégorie\n          </label>\n          <select\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}\n            className='w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm'\n            title='Catégorie de la dépense'\n          >\n            {CATEGORIES.map((cat) => (\n              <option key={cat} value={cat}>\n                {cat}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n            Montant ({currency}) *\n          </label>\n          <input\n            type='number'\n            step='0.01'\n            min='0'\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            className='w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm'\n            required\n            title='Montant de la dépense'\n            placeholder='0.00'\n          />\n        </div>\n\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n            Date *\n          </label>\n          <input\n            type='date'\n            value={date}\n            onChange={(e) => setDate(e.target.value)}\n            className='w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm'\n            required\n            title='Date de la dépense'\n          />\n        </div>\n      </div>\n\n      <div className='flex justify-end gap-2 pt-2'>\n        <Button variant='ghost' onClick={onCancel} type='button'>\n          Annuler\n        </Button>\n        <Button variant='primary' type='submit' leftIcon={<Save className='w-4 h-4' />}>\n          Enregistrer\n        </Button>\n      </div>\n    </form>\n  );\n};\n","import React, { useMemo, memo } from 'react';\nimport { Expense } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { Plus, Edit2, Trash2, Tag, Calendar, Euro } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\n\ninterface ExpenseListProps {\n  expenses: Expense[];\n  onAdd: () => void;\n  onEdit: (expense: Expense) => void;\n  onDelete: (id: string) => void;\n  currency?: string;\n  readOnly?: boolean;\n}\n\nconst ExpenseListInner: React.FC<ExpenseListProps> = ({\n  expenses = [],\n  onAdd,\n  onEdit,\n  onDelete,\n  currency = '€',\n  readOnly = false,\n}) => {\n  const totalAmount = useMemo(\n    () => expenses.reduce((sum, expense) => sum + expense.amount, 0),\n    [expenses]\n  );\n\n  if (expenses.length === 0 && readOnly) {\n    return (\n      <div className='text-center py-8 text-gray-500 dark:text-gray-400'>\n        Aucune dépense enregistrée.\n      </div>\n    );\n  }\n\n  return (\n    <div className='space-y-4'>\n      {/* Header with Total */}\n      <div className='flex items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700'>\n        <div>\n          <p className='text-sm text-gray-500 dark:text-gray-400'>Total des dépenses</p>\n          <p className='text-2xl font-bold text-gray-900 dark:text-white'>\n            {totalAmount.toFixed(2)} {currency}\n          </p>\n        </div>\n        {!readOnly && (\n          <Button onClick={onAdd} variant='primary' leftIcon={<Plus className='w-4 h-4' />}>\n            Ajouter une dépense\n          </Button>\n        )}\n      </div>\n\n      {/* Expenses List */}\n      <div className='space-y-2'>\n        {expenses.length === 0 ? (\n          <div className='text-center py-8 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-dashed border-gray-300 dark:border-gray-700'>\n            <Euro className='w-10 h-10 mx-auto text-gray-400 mb-2' />\n            <p className='text-gray-500 dark:text-gray-400'>Aucune dépense pour le moment</p>\n            {!readOnly && (\n              <Button onClick={onAdd} variant='ghost' className='mt-2 text-primary-600'>\n                Commencer à ajouter\n              </Button>\n            )}\n          </div>\n        ) : (\n          expenses.map((expense) => (\n            <div\n              key={expense.id}\n              className='flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-100 dark:border-gray-700 hover:shadow-sm transition-shadow'\n            >\n              <div className='flex-1 min-w-0'>\n                <div className='flex items-center gap-2 mb-1'>\n                  <span className='font-medium text-gray-900 dark:text-white truncate'>\n                    {expense.description}\n                  </span>\n                  {expense.category && (\n                    <span className='inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'>\n                      <Tag className='w-3 h-3 mr-1' />\n                      {expense.category}\n                    </span>\n                  )}\n                </div>\n                <div className='flex items-center text-xs text-gray-500 dark:text-gray-400'>\n                  <Calendar className='w-3 h-3 mr-1' />\n                  {format(new Date(expense.date), 'dd MMMM yyyy', { locale: fr })}\n                </div>\n              </div>\n\n              <div className='flex items-center gap-4'>\n                <span className='font-semibold text-gray-900 dark:text-white'>\n                  {expense.amount.toFixed(2)} {currency}\n                </span>\n                {!readOnly && (\n                  <div className='flex items-center gap-1'>\n                    <button\n                      onClick={() => onEdit(expense)}\n                      className='p-1 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors'\n                      title='Modifier'\n                    >\n                      <Edit2 className='w-4 h-4' />\n                    </button>\n                    <button\n                      onClick={() => onDelete(expense.id)}\n                      className='p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors'\n                      title='Supprimer'\n                    >\n                      <Trash2 className='w-4 h-4' />\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Memoization for performance optimization\nexport const ExpenseList = memo(ExpenseListInner);\nExpenseList.displayName = 'ExpenseList';\n","import React from 'react';\nimport { Itinerary } from '@/types';\nimport { Car, MapPin, Navigation, Plane, Train, Clock, Map as MapIcon } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\n\ninterface ItineraryViewProps {\n  itinerary: Itinerary;\n  onUpdate: (itinerary: Itinerary) => void;\n  readOnly?: boolean;\n}\n\nexport const ItineraryView: React.FC<ItineraryViewProps> = ({\n  itinerary,\n  onUpdate,\n  readOnly = false,\n}) => {\n  const handleChange = (field: keyof Itinerary, value: any) => {\n    onUpdate({ ...itinerary, [field]: value });\n  };\n\n  const openApp = (app: 'waze' | 'google') => {\n    const query = encodeURIComponent(itinerary.meetingPoint || '');\n    if (!query) return;\n\n    const url =\n      app === 'waze'\n        ? `https://waze.com/ul?q=${query}&navigate=yes`\n        : `https://www.google.com/maps/search/?api=1&query=${query}`;\n\n    window.open(url, '_blank');\n  };\n\n  return (\n    <div className='space-y-6'>\n      <div className='flex gap-4'>\n        {[\n          { mode: 'car', icon: Car, label: 'Voiture' },\n          { mode: 'train', icon: Train, label: 'Train' },\n          { mode: 'plane', icon: Plane, label: 'Avion' },\n        ].map(({ mode, icon: Icon, label }) => (\n          <button\n            key={mode}\n            type='button'\n            onClick={() => handleChange('transportMode', mode)}\n            className={`flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all ${\n              itinerary.transportMode === mode\n                ? 'border-primary bg-primary/5 text-primary'\n                : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-500'\n            }`}\n            disabled={readOnly}\n          >\n            <Icon className='w-6 h-6 mb-2' />\n            <span className='text-sm font-medium'>{label}</span>\n          </button>\n        ))}\n      </div>\n\n      <div className='grid grid-cols-2 gap-4'>\n        <Input\n          label='Distance (km)'\n          type='number'\n          value={itinerary.distance?.toString() || ''}\n          onChange={(e) =>\n            handleChange('distance', e.target.value ? parseFloat(e.target.value) : undefined)\n          }\n          disabled={readOnly}\n          leftIcon={<Navigation className='w-4 h-4' />}\n        />\n        <Input\n          label='Durée estimée'\n          placeholder='ex: 1h 30m'\n          value={itinerary.duration?.toString() || ''}\n          onChange={(e) => handleChange('duration', e.target.value)}\n          disabled={readOnly}\n          leftIcon={<Clock className='w-4 h-4' />}\n        />\n      </div>\n\n      <div className='space-y-4'>\n        <Input\n          label='Point de rendez-vous / Adresse'\n          value={itinerary.meetingPoint || ''}\n          onChange={(e) => handleChange('meetingPoint', e.target.value)}\n          disabled={readOnly}\n          leftIcon={<MapPin className='w-4 h-4' />}\n        />\n\n        {itinerary.meetingPoint && (\n          <div className='flex gap-2'>\n            <Button\n              variant='outline'\n              className='flex-1'\n              onClick={() => openApp('google')}\n              leftIcon={<MapIcon className='w-4 h-4' />}\n            >\n              Google Maps\n            </Button>\n            <Button\n              variant='outline'\n              className='flex-1'\n              onClick={() => openApp('waze')}\n              leftIcon={<Navigation className='w-4 h-4' />}\n            >\n              Waze\n            </Button>\n          </div>\n        )}\n      </div>\n\n      <div>\n        <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n          Notes de voyage\n        </label>\n        <textarea\n          value={itinerary.notes || ''}\n          onChange={(e) => handleChange('notes', e.target.value)}\n          disabled={readOnly}\n          className='w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-primary focus:border-primary p-3 min-h-[100px]'\n          placeholder='Informations supplémentaires...'\n        />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Accommodation } from '@/types';\nimport { Home, Building, MapPin, Link } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\n\ninterface AccommodationViewProps {\n  accommodation: Accommodation;\n  onUpdate: (accommodation: Accommodation) => void;\n  readOnly?: boolean;\n  hosts?: Array<{ nom: string; address?: string }>;\n}\n\n// Helper to format ISO date for datetime-local input\nconst formatDateForInput = (isoString?: string) => {\n  if (!isoString) return '';\n  return isoString.slice(0, 16); // \"YYYY-MM-DDThh:mm\"\n};\n\nexport const AccommodationView: React.FC<AccommodationViewProps> = ({\n  accommodation,\n  onUpdate,\n  readOnly = false,\n  hosts = [],\n}) => {\n  const handleChange = (field: keyof Accommodation, value: any) => {\n    onUpdate({ ...accommodation, [field]: value });\n  };\n\n  const openMap = () => {\n    const query = encodeURIComponent(accommodation.address || accommodation.name || '');\n    if (!query) return;\n    window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');\n  };\n\n  return (\n    <div className='space-y-6'>\n      <div className='flex gap-4'>\n        {[\n          { type: 'host', icon: Home, label: \"Chez l'habitant\" },\n          { type: 'hotel', icon: Building, label: 'Hôtel' },\n        ].map(({ type, icon: Icon, label }) => (\n          <button\n            key={type}\n            onClick={() => !readOnly && handleChange('type', type)}\n            className={`flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all ${\n              accommodation.type === type\n                ? 'border-primary bg-primary/5 text-primary'\n                : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-500'\n            }`}\n            disabled={readOnly}\n          >\n            <Icon className='w-6 h-6 mb-2' />\n            <span className='text-sm font-medium'>{label}</span>\n          </button>\n        ))}\n      </div>\n\n      <div className='space-y-4'>\n        {accommodation.type === 'hotel' ? (\n          <Input\n            label=\"Nom de l'hôtel\"\n            value={accommodation.name || ''}\n            onChange={(e) => handleChange('name', e.target.value)}\n            disabled={readOnly}\n            placeholder='Ex: Hôtel de la Gare'\n          />\n        ) : (\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              Nom de l'hôte\n            </label>\n            <select\n              value={accommodation.name || ''}\n              onChange={(e) => {\n                const selectedHost = hosts.find((h) => h.nom === e.target.value);\n                onUpdate({\n                  ...accommodation,\n                  name: e.target.value,\n                  address: selectedHost?.address || accommodation.address || '',\n                });\n              }}\n              disabled={readOnly}\n              title='Sélectionner un hôte'\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            >\n              <option value=''>Sélectionner un hôte...</option>\n              {hosts.map((host) => (\n                <option key={host.nom} value={host.nom}>\n                  {host.nom}\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n\n        <div className='flex gap-2 items-end'>\n          <div className='flex-1'>\n            <Input\n              label='Adresse'\n              value={accommodation.address || ''}\n              onChange={(e) => handleChange('address', e.target.value)}\n              disabled={readOnly}\n              leftIcon={<MapPin className='w-4 h-4' />}\n            />\n          </div>\n          {accommodation.address && (\n            <Button\n              variant='outline'\n              className='mb-[2px]'\n              onClick={openMap}\n              leftIcon={<MapPin className='w-4 h-4' />}\n            >\n              Voir\n            </Button>\n          )}\n        </div>\n\n        <div className='grid grid-cols-2 gap-4'>\n          <Input\n            label='Arrivée (Check-in)'\n            type='datetime-local'\n            value={formatDateForInput(accommodation.checkIn)}\n            onChange={(e) => handleChange('checkIn', e.target.value)}\n            disabled={readOnly}\n          />\n          <Input\n            label='Départ (Check-out)'\n            type='datetime-local'\n            value={formatDateForInput(accommodation.checkOut)}\n            onChange={(e) => handleChange('checkOut', e.target.value)}\n            disabled={readOnly}\n          />\n        </div>\n\n        {accommodation.type === 'hotel' && (\n          <Input\n            label='Référence réservation'\n            value={accommodation.bookingReference || ''}\n            onChange={(e) => handleChange('bookingReference', e.target.value)}\n            disabled={readOnly}\n            leftIcon={<Link className='w-4 h-4' />}\n          />\n        )}\n\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1'>\n            Notes / Instructions\n          </label>\n          <textarea\n            value={accommodation.notes || ''}\n            onChange={(e) => handleChange('notes', e.target.value)}\n            disabled={readOnly}\n            className='w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-primary focus:border-primary p-3 min-h-[100px]'\n            placeholder=\"Codes d'accès, petit-déjeuner, etc.\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { ChecklistItem } from '@/types';\nimport { Check, Plus, Trash2, X } from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { generateUUID } from '@/utils/uuid';\n\ninterface ChecklistProps {\n  items: ChecklistItem[];\n  onUpdate: (items: ChecklistItem[]) => void;\n}\n\nexport const Checklist: React.FC<ChecklistProps> = ({ items = [], onUpdate }) => {\n  const [newItemLabel, setNewItemLabel] = useState('');\n  const [isAdding, setIsAdding] = useState(false);\n\n  const handleToggle = (id: string) => {\n    const updatedItems = items.map((item) =>\n      item.id === id ? { ...item, isCompleted: !item.isCompleted } : item\n    );\n    onUpdate(updatedItems);\n  };\n\n  const handleDelete = (id: string) => {\n    const updatedItems = items.filter((item) => item.id !== id);\n    onUpdate(updatedItems);\n  };\n\n  const handleAddItem = (e?: React.FormEvent) => {\n    e?.preventDefault();\n    if (!newItemLabel.trim()) return;\n\n    const newItem: ChecklistItem = {\n      id: generateUUID(),\n      label: newItemLabel.trim(),\n      isCompleted: false,\n    };\n\n    onUpdate([...items, newItem]);\n    setNewItemLabel('');\n    setIsAdding(false);\n  };\n\n  return (\n    <div className='space-y-4'>\n      <div className='flex items-center justify-between mb-2'>\n        <h4 className='text-sm font-medium text-gray-700 dark:text-gray-300'>\n          Liste des tâches ({items.filter((i) => i.isCompleted).length}/{items.length})\n        </h4>\n        <Button\n          size='sm'\n          variant='ghost'\n          onClick={() => setIsAdding(!isAdding)}\n          className='text-primary hover:text-primary/80 p-0 h-auto'\n        >\n          <Plus className='w-4 h-4 mr-1' />\n          Ajouter\n        </Button>\n      </div>\n\n      {isAdding && (\n        <form\n          onSubmit={handleAddItem}\n          className='flex gap-2 items-center mb-4 animate-in fade-in slide-in-from-top-2 duration-200'\n        >\n          <Input\n            autoFocus\n            value={newItemLabel}\n            onChange={(e) => setNewItemLabel(e.target.value)}\n            placeholder='Nouvelle tâche...'\n            className='flex-1 h-9 text-sm'\n          />\n          <Button type='submit' size='sm' disabled={!newItemLabel.trim()}>\n            Ajouter\n          </Button>\n          <Button\n            type='button'\n            variant='ghost'\n            size='sm'\n            onClick={() => setIsAdding(false)}\n            leftIcon={<X className='w-4 h-4' />}\n          />\n        </form>\n      )}\n\n      <div className='space-y-2'>\n        {items.length === 0 && !isAdding ? (\n          <div className='text-center py-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg'>\n            <p className='text-sm text-gray-500'>Aucune tâche pour le moment</p>\n            <Button variant='ghost' size='sm' onClick={() => setIsAdding(true)}>\n              Commencer une liste\n            </Button>\n          </div>\n        ) : (\n          items.map((item) => (\n            <div\n              key={item.id}\n              className={`flex items-center group p-2 rounded-lg transition-colors hover:bg-gray-50 dark:hover:bg-gray-800/50 ${item.isCompleted ? 'opacity-75' : ''}`}\n            >\n              <button\n                onClick={() => handleToggle(item.id)}\n                className={`flex-shrink-0 w-5 h-5 rounded border flex items-center justify-center mr-3 transition-colors ${\n                  item.isCompleted\n                    ? 'bg-green-500 border-green-500 text-white'\n                    : 'border-gray-300 dark:border-gray-600 hover:border-green-500'\n                }`}\n              >\n                {item.isCompleted && <Check className='w-3.5 h-3.5' />}\n              </button>\n\n              <span\n                className={`flex-1 text-sm transition-all ${\n                  item.isCompleted\n                    ? 'text-gray-400 line-through'\n                    : 'text-gray-700 dark:text-gray-200'\n                }`}\n              >\n                {item.label}\n              </span>\n\n              <button\n                onClick={() => handleDelete(item.id)}\n                className='opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-opacity'\n                title='Supprimer'\n              >\n                <Trash2 className='w-4 h-4' />\n              </button>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Logistics, Itinerary, Accommodation, ChecklistItem } from '@/types';\nimport { ItineraryView } from './ItineraryView';\nimport { AccommodationView } from './AccommodationView';\nimport { Checklist } from './Checklist';\nimport { Map, Home, CheckSquare } from 'lucide-react';\n\ninterface LogisticsManagerProps {\n  logistics: Logistics | undefined;\n  onUpdate: (logistics: Logistics) => void;\n  readOnly?: boolean;\n  hosts?: Array<{ nom: string; address?: string }>;\n}\n\ntype Tab = 'itinerary' | 'accommodation' | 'checklist';\n\nexport const LogisticsManager: React.FC<LogisticsManagerProps> = ({\n  logistics = {},\n  onUpdate,\n  readOnly = false,\n  hosts = [],\n}) => {\n  const [activeTab, setActiveTab] = useState<Tab>('itinerary');\n\n  const updateItinerary = (itinerary: Itinerary) => {\n    onUpdate({ ...logistics, itinerary });\n  };\n\n  const updateAccommodation = (accommodation: Accommodation) => {\n    onUpdate({ ...logistics, accommodation });\n  };\n\n  const updateChecklist = (checklist: ChecklistItem[]) => {\n    onUpdate({ ...logistics, checklist });\n  };\n\n  const tabs = [\n    { id: 'itinerary', label: 'Trajet', icon: Map },\n    { id: 'accommodation', label: 'Hébergement', icon: Home },\n    { id: 'checklist', label: 'Tâches', icon: CheckSquare },\n  ];\n\n  return (\n    <div className='flex flex-col h-full'>\n      <div className='flex border-b border-gray-200 dark:border-gray-700 mb-6'>\n        {tabs.map(({ id, label, icon: Icon }) => (\n          <button\n            key={id}\n            onClick={() => setActiveTab(id as Tab)}\n            className={`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === id\n                ? 'border-primary text-primary'\n                : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'\n            }`}\n          >\n            <Icon className='w-4 h-4' />\n            {label}\n          </button>\n        ))}\n      </div>\n\n      <div className='flex-1 overflow-y-auto min-h-[400px]'>\n        {activeTab === 'itinerary' && (\n          <ItineraryView\n            itinerary={logistics.itinerary || { transportMode: 'car' }}\n            onUpdate={updateItinerary}\n            readOnly={readOnly}\n          />\n        )}\n\n        {activeTab === 'accommodation' && (\n          <AccommodationView\n            accommodation={logistics.accommodation || { type: 'host', name: '' }}\n            onUpdate={updateAccommodation}\n            readOnly={readOnly}\n            hosts={hosts}\n          />\n        )}\n\n        {activeTab === 'checklist' && (\n          <Checklist items={logistics.checklist || []} onUpdate={updateChecklist} />\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useMemo } from 'react';\nimport { Car, Train, Plane, MapPin, Clock, Users, DollarSign, Share2 } from 'lucide-react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { Badge } from '@/components/ui/Badge';\nimport { Card, CardBody } from '@/components/ui/Card';\nimport { Visit } from '@/types';\nimport { useData } from '@/contexts/DataContext';\n\ninterface TravelCoordinationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  visit: Visit;\n  onSave: (travelPlan: TravelPlan) => void;\n}\n\nexport interface TravelPlan {\n  visitId: string;\n  transportMode: 'car' | 'train' | 'plane' | 'carpool' | 'other';\n  departureTime?: string;\n  arrivalTime?: string;\n  departureLocation?: string;\n  arrivalLocation?: string;\n  distance?: number;\n  duration?: string;\n  estimatedCost?: number;\n  carpoolPartners?: string[]; // IDs des autres orateurs\n  notes?: string;\n  mapLink?: string;\n  bookingReference?: string;\n}\n\nconst TRANSPORT_MODES = [\n  { value: 'car' as const, label: 'Voiture personnelle', icon: Car, color: 'blue' },\n  { value: 'carpool' as const, label: 'Covoiturage', icon: Users, color: 'green' },\n  { value: 'train' as const, label: 'Train', icon: Train, color: 'purple' },\n  { value: 'plane' as const, label: 'Avion', icon: Plane, color: 'orange' },\n  { value: 'other' as const, label: 'Autre', icon: MapPin, color: 'gray' },\n];\n\nexport const TravelCoordinationModal: React.FC<TravelCoordinationModalProps> = ({\n  isOpen,\n  onClose,\n  visit,\n  onSave,\n}) => {\n  const { visits } = useData();\n  const [transportMode, setTransportMode] = useState<TravelPlan['transportMode']>('car');\n  const [departureTime, setDepartureTime] = useState('');\n  const [arrivalTime, setArrivalTime] = useState('');\n  const [departureLocation, setDepartureLocation] = useState('');\n  const [arrivalLocation, setArrivalLocation] = useState('');\n  const [distance, setDistance] = useState<number | undefined>();\n  const [duration, setDuration] = useState('');\n  const [estimatedCost, setEstimatedCost] = useState<number | undefined>();\n  const [selectedCarpoolPartners, setSelectedCarpoolPartners] = useState<string[]>([]);\n  const [notes, setNotes] = useState('');\n  const [mapLink, setMapLink] = useState('');\n  const [bookingReference, setBookingReference] = useState('');\n\n  // Trouver les orateurs potentiels pour le covoiturage (même date, même région)\n  const potentialCarpoolPartners = useMemo(\n    () =>\n      visits\n        .filter(\n          (v) =>\n            v.visitDate === visit.visitDate &&\n            v.visitId !== visit.visitId &&\n            v.status !== 'cancelled'\n        )\n        .map((v) => ({\n          visitId: v.visitId,\n          speakerId: v.id,\n          speakerName: v.nom,\n          congregation: v.congregation,\n          time: v.visitTime,\n        })),\n    [visits, visit]\n  );\n\n  const toggleCarpoolPartner = (visitId: string) => {\n    setSelectedCarpoolPartners((prev) =>\n      prev.includes(visitId) ? prev.filter((id) => id !== visitId) : [...prev, visitId]\n    );\n  };\n\n  const calculateCostPerPerson = () => {\n    if (!estimatedCost) return 0;\n    const totalPeople = 1 + selectedCarpoolPartners.length;\n    return (estimatedCost / totalPeople).toFixed(2);\n  };\n\n  const handleSave = () => {\n    const travelPlan: TravelPlan = {\n      visitId: visit.visitId,\n      transportMode,\n      departureTime: departureTime || undefined,\n      arrivalTime: arrivalTime || undefined,\n      departureLocation: departureLocation || undefined,\n      arrivalLocation: arrivalLocation || undefined,\n      distance: distance || undefined,\n      duration: duration || undefined,\n      estimatedCost: estimatedCost || undefined,\n      carpoolPartners: transportMode === 'carpool' ? selectedCarpoolPartners : undefined,\n      notes: notes || undefined,\n      mapLink: mapLink || undefined,\n      bookingReference: bookingReference || undefined,\n    };\n\n    onSave(travelPlan);\n    onClose();\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title='Coordination du voyage' size='lg'>\n      <div className='space-y-6'>\n        {/* Informations de la visite */}\n        <div className='p-4 bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 rounded-lg'>\n          <h4 className='font-semibold text-gray-900 dark:text-white mb-1'>{visit.nom}</h4>\n          <p className='text-sm text-gray-600 dark:text-gray-400'>\n            {new Date(visit.visitDate).toLocaleDateString('fr-FR', {\n              weekday: 'long',\n              day: 'numeric',\n              month: 'long',\n            })}{' '}\n            à {visit.visitTime}\n          </p>\n        </div>\n\n        {/* Mode de transport */}\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3'>\n            Mode de transport\n          </label>\n          <div className='grid grid-cols-2 md:grid-cols-3 gap-3'>\n            {TRANSPORT_MODES.map((mode) => (\n              <button\n                key={mode.value}\n                onClick={() => setTransportMode(mode.value)}\n                className={`p-4 rounded-lg border-2 transition-all ${\n                  transportMode === mode.value\n                    ? 'border-primary-500 bg-primary-50 dark:bg-primary-900/20'\n                    : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                }`}\n              >\n                <mode.icon\n                  className={`w-6 h-6 mx-auto mb-2 ${\n                    transportMode === mode.value ? 'text-primary-600' : 'text-gray-400'\n                  }`}\n                />\n                <div className='text-sm font-medium text-gray-900 dark:text-white'>\n                  {mode.label}\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Horaires */}\n        <div className='grid grid-cols-2 gap-4'>\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              <Clock className='w-4 h-4 inline mr-1' />\n              Heure de départ\n            </label>\n            <input\n              type='time'\n              value={departureTime}\n              onChange={(e) => setDepartureTime(e.target.value)}\n              aria-label='Heure de départ'\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              <Clock className='w-4 h-4 inline mr-1' />\n              Heure d'arrivée\n            </label>\n            <input\n              type='time'\n              value={arrivalTime}\n              onChange={(e) => setArrivalTime(e.target.value)}\n              aria-label=\"Heure d'arrivée\"\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n        </div>\n\n        {/* Lieux */}\n        <div className='grid grid-cols-2 gap-4'>\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              <MapPin className='w-4 h-4 inline mr-1' />\n              Lieu de départ\n            </label>\n            <input\n              type='text'\n              value={departureLocation}\n              onChange={(e) => setDepartureLocation(e.target.value)}\n              placeholder='Adresse de départ'\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              <MapPin className='w-4 h-4 inline mr-1' />\n              Lieu d'arrivée\n            </label>\n            <input\n              type='text'\n              value={arrivalLocation}\n              onChange={(e) => setArrivalLocation(e.target.value)}\n              placeholder=\"Adresse d'arrivée\"\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n        </div>\n\n        {/* Distance et durée */}\n        <div className='grid grid-cols-2 gap-4'>\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              Distance (km)\n            </label>\n            <input\n              type='number'\n              value={distance || ''}\n              onChange={(e) => setDistance(e.target.value ? Number(e.target.value) : undefined)}\n              placeholder='150'\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              Durée estimée\n            </label>\n            <input\n              type='text'\n              value={duration}\n              onChange={(e) => setDuration(e.target.value)}\n              placeholder='2h 30min'\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n        </div>\n\n        {/* Coût */}\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n            <DollarSign className='w-4 h-4 inline mr-1' />\n            Coût estimé (€)\n          </label>\n          <input\n            type='number'\n            value={estimatedCost || ''}\n            onChange={(e) => setEstimatedCost(e.target.value ? Number(e.target.value) : undefined)}\n            placeholder='50'\n            step='0.01'\n            className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n          />\n        </div>\n\n        {/* Covoiturage */}\n        {transportMode === 'carpool' && (\n          <div className='space-y-3'>\n            <div className='flex items-center justify-between'>\n              <label className='block text-sm font-medium text-gray-700 dark:text-gray-300'>\n                <Share2 className='w-4 h-4 inline mr-1' />\n                Partenaires de covoiturage\n              </label>\n              {selectedCarpoolPartners.length > 0 && estimatedCost && (\n                <Badge variant='success'>{calculateCostPerPerson()}€ / personne</Badge>\n              )}\n            </div>\n\n            {potentialCarpoolPartners.length === 0 ? (\n              <div className='p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center text-sm text-gray-600 dark:text-gray-400'>\n                Aucun orateur disponible pour le covoiturage ce jour-là\n              </div>\n            ) : (\n              <div className='space-y-2'>\n                {potentialCarpoolPartners.map((partner) => (\n                  <label\n                    key={partner.visitId}\n                    className='flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700'\n                  >\n                    <input\n                      type='checkbox'\n                      checked={selectedCarpoolPartners.includes(partner.visitId)}\n                      onChange={() => toggleCarpoolPartner(partner.visitId)}\n                      className='w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500'\n                    />\n                    <div className='flex-1'>\n                      <div className='font-medium text-gray-900 dark:text-white'>\n                        {partner.speakerName}\n                      </div>\n                      <div className='text-sm text-gray-600 dark:text-gray-400'>\n                        {partner.congregation} • {partner.time}\n                      </div>\n                    </div>\n                  </label>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Lien carte */}\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n            Lien Google Maps (optionnel)\n          </label>\n          <input\n            type='url'\n            value={mapLink}\n            onChange={(e) => setMapLink(e.target.value)}\n            placeholder='https://maps.google.com/...'\n            className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n          />\n        </div>\n\n        {/* Référence de réservation */}\n        {(transportMode === 'train' || transportMode === 'plane') && (\n          <div>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n              Référence de réservation\n            </label>\n            <input\n              type='text'\n              value={bookingReference}\n              onChange={(e) => setBookingReference(e.target.value)}\n              placeholder='ABC123456'\n              className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n          </div>\n        )}\n\n        {/* Notes */}\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n            Notes supplémentaires\n          </label>\n          <textarea\n            value={notes}\n            onChange={(e) => setNotes(e.target.value)}\n            rows={3}\n            placeholder='Informations complémentaires sur le voyage...'\n            className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n          />\n        </div>\n\n        {/* Résumé */}\n        {(distance || duration || estimatedCost) && (\n          <Card className='bg-blue-50 dark:bg-blue-900/20'>\n            <CardBody>\n              <h4 className='font-medium text-blue-900 dark:text-blue-200 mb-2'>\n                Résumé du voyage\n              </h4>\n              <div className='space-y-1 text-sm text-blue-800 dark:text-blue-300'>\n                {distance && <p>• Distance : {distance} km</p>}\n                {duration && <p>• Durée : {duration}</p>}\n                {estimatedCost && (\n                  <p>\n                    • Coût : {estimatedCost}€\n                    {transportMode === 'carpool' && selectedCarpoolPartners.length > 0 && (\n                      <span> ({calculateCostPerPerson()}€ / personne)</span>\n                    )}\n                  </p>\n                )}\n                {transportMode === 'carpool' && selectedCarpoolPartners.length > 0 && (\n                  <p>• {selectedCarpoolPartners.length + 1} personne(s) dans le covoiturage</p>\n                )}\n              </div>\n            </CardBody>\n          </Card>\n        )}\n\n        {/* Actions */}\n        <div className='flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700'>\n          <Button variant='secondary' onClick={onClose}>\n            Annuler\n          </Button>\n          <Button variant='primary' onClick={handleSave}>\n            <Car className='w-4 h-4 mr-2' />\n            Enregistrer le plan de voyage\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n","import React, { useState } from 'react';\nimport { Utensils, AlertCircle, Plus, X } from 'lucide-react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { Card, CardBody } from '@/components/ui/Card';\nimport { Visit } from '@/types';\n\ninterface MealPlanningModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  visit: Visit;\n  onSave: (mealPlan: MealPlan) => void;\n  hosts?: Array<{ nom: string }>;\n}\n\nexport interface MealPlan {\n  visitId: string;\n  meals: Meal[];\n  dietaryRestrictions: string[];\n  allergies: string[];\n  preferences: string[];\n  notes?: string;\n}\n\ninterface Meal {\n  id: string;\n  type: 'breakfast' | 'lunch' | 'dinner' | 'snack';\n  time: string;\n  location: string;\n  host?: string;\n  attendees: number;\n  menu?: string;\n  cost?: number;\n}\n\nconst MEAL_TYPES = [\n  { value: 'breakfast' as const, label: 'Petit-déjeuner', icon: '🌅', defaultTime: '08:00' },\n  { value: 'lunch' as const, label: 'Déjeuner', icon: '🍽️', defaultTime: '12:30' },\n  { value: 'dinner' as const, label: 'Dîner', icon: '🌙', defaultTime: '19:00' },\n  { value: 'snack' as const, label: 'Collation', icon: '☕', defaultTime: '15:00' },\n];\n\nconst COMMON_RESTRICTIONS = [\n  'Végétarien',\n  'Végétalien',\n  'Sans gluten',\n  'Sans lactose',\n  'Halal',\n  'Casher',\n  'Sans porc',\n  'Sans fruits de mer',\n];\n\nconst COMMON_ALLERGIES = [\n  'Arachides',\n  'Fruits à coque',\n  'Lait',\n  'Œufs',\n  'Poisson',\n  'Crustacés',\n  'Soja',\n  'Blé',\n];\n\nexport const MealPlanningModal: React.FC<MealPlanningModalProps> = ({\n  isOpen,\n  onClose,\n  visit,\n  onSave,\n  hosts = [],\n}) => {\n  const [meals, setMeals] = useState<Meal[]>([]);\n  const [dietaryRestrictions, setDietaryRestrictions] = useState<string[]>([]);\n  const [allergies, setAllergies] = useState<string[]>([]);\n  const [preferences] = useState<string[]>([]);\n  const [notes, setNotes] = useState('');\n  const [customRestriction, setCustomRestriction] = useState('');\n  const [customAllergy, setCustomAllergy] = useState('');\n\n  const addMeal = (type: Meal['type']) => {\n    const mealType = MEAL_TYPES.find((m) => m.value === type);\n    const newMeal: Meal = {\n      id: `meal-${Date.now()}`,\n      type,\n      time: mealType?.defaultTime || '12:00',\n      location: '',\n      attendees: 1,\n    };\n    setMeals([...meals, newMeal]);\n  };\n\n  const updateMeal = (id: string, updates: Partial<Meal>) => {\n    setMeals(meals.map((meal) => (meal.id === id ? { ...meal, ...updates } : meal)));\n  };\n\n  const removeMeal = (id: string) => {\n    setMeals(meals.filter((meal) => meal.id !== id));\n  };\n\n  const toggleRestriction = (restriction: string) => {\n    setDietaryRestrictions((prev) =>\n      prev.includes(restriction) ? prev.filter((r) => r !== restriction) : [...prev, restriction]\n    );\n  };\n\n  const toggleAllergy = (allergy: string) => {\n    setAllergies((prev) =>\n      prev.includes(allergy) ? prev.filter((a) => a !== allergy) : [...prev, allergy]\n    );\n  };\n\n  const addCustomRestriction = () => {\n    if (customRestriction.trim()) {\n      setDietaryRestrictions([...dietaryRestrictions, customRestriction.trim()]);\n      setCustomRestriction('');\n    }\n  };\n\n  const addCustomAllergy = () => {\n    if (customAllergy.trim()) {\n      setAllergies([...allergies, customAllergy.trim()]);\n      setCustomAllergy('');\n    }\n  };\n\n  const handleSave = () => {\n    const mealPlan: MealPlan = {\n      visitId: visit.visitId,\n      meals,\n      dietaryRestrictions,\n      allergies,\n      preferences,\n      notes: notes || undefined,\n    };\n\n    onSave(mealPlan);\n    onClose();\n  };\n\n  const getTotalCost = () => meals.reduce((sum, meal) => sum + (meal.cost || 0), 0);\n\n  const getMealIcon = (type: Meal['type']) =>\n    MEAL_TYPES.find((m) => m.value === type)?.icon || '🍽️';\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title='Planification des repas' size='xl'>\n      <div className='space-y-6'>\n        {/* En-tête */}\n        <div className='p-4 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-lg'>\n          <div className='flex items-center gap-2 mb-1'>\n            <Utensils className='w-5 h-5 text-orange-600' />\n            <h4 className='font-semibold text-gray-900 dark:text-white'>{visit.nom}</h4>\n          </div>\n          <p className='text-sm text-gray-600 dark:text-gray-400'>\n            {new Date(visit.visitDate).toLocaleDateString('fr-FR', {\n              weekday: 'long',\n              day: 'numeric',\n              month: 'long',\n            })}\n          </p>\n        </div>\n\n        {/* Restrictions alimentaires */}\n        <div className='space-y-3'>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300'>\n            Restrictions alimentaires\n          </label>\n          <div className='flex flex-wrap gap-2'>\n            {COMMON_RESTRICTIONS.map((restriction) => (\n              <button\n                key={restriction}\n                onClick={() => toggleRestriction(restriction)}\n                className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${\n                  dietaryRestrictions.includes(restriction)\n                    ? 'bg-orange-500 text-white'\n                    : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'\n                }`}\n              >\n                {restriction}\n              </button>\n            ))}\n          </div>\n          <div className='flex gap-2'>\n            <input\n              type='text'\n              value={customRestriction}\n              onChange={(e) => setCustomRestriction(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && addCustomRestriction()}\n              placeholder='Autre restriction...'\n              className='flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n            <Button variant='outline' size='sm' onClick={addCustomRestriction}>\n              <Plus className='w-4 h-4' />\n            </Button>\n          </div>\n        </div>\n\n        {/* Allergies */}\n        <div className='space-y-3'>\n          <div className='flex items-center gap-2'>\n            <AlertCircle className='w-4 h-4 text-red-600' />\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300'>\n              Allergies (important !)\n            </label>\n          </div>\n          <div className='flex flex-wrap gap-2'>\n            {COMMON_ALLERGIES.map((allergy) => (\n              <button\n                key={allergy}\n                onClick={() => toggleAllergy(allergy)}\n                className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${\n                  allergies.includes(allergy)\n                    ? 'bg-red-500 text-white'\n                    : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'\n                }`}\n              >\n                {allergy}\n              </button>\n            ))}\n          </div>\n          <div className='flex gap-2'>\n            <input\n              type='text'\n              value={customAllergy}\n              onChange={(e) => setCustomAllergy(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && addCustomAllergy()}\n              placeholder='Autre allergie...'\n              className='flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n            />\n            <Button variant='outline' size='sm' onClick={addCustomAllergy}>\n              <Plus className='w-4 h-4' />\n            </Button>\n          </div>\n        </div>\n\n        {/* Repas planifiés */}\n        <div className='space-y-3'>\n          <div className='flex items-center justify-between'>\n            <label className='block text-sm font-medium text-gray-700 dark:text-gray-300'>\n              Repas planifiés\n            </label>\n            <div className='flex gap-2'>\n              {MEAL_TYPES.map((type) => (\n                <Button\n                  key={type.value}\n                  variant='outline'\n                  size='sm'\n                  onClick={() => addMeal(type.value)}\n                  title={`Ajouter ${type.label}`}\n                >\n                  <span className='text-lg'>{type.icon}</span>\n                </Button>\n              ))}\n            </div>\n          </div>\n\n          {meals.length === 0 ? (\n            <div className='p-8 text-center bg-gray-50 dark:bg-gray-800 rounded-lg'>\n              <Utensils className='w-12 h-12 mx-auto mb-3 text-gray-400' />\n              <p className='text-sm text-gray-600 dark:text-gray-400'>\n                Aucun repas planifié. Cliquez sur les icônes ci-dessus pour ajouter un repas.\n              </p>\n            </div>\n          ) : (\n            <div className='space-y-3'>\n              {meals.map((meal) => (\n                <Card key={meal.id}>\n                  <CardBody>\n                    <div className='space-y-3'>\n                      <div className='flex items-center justify-between'>\n                        <div className='flex items-center gap-2'>\n                          <span className='text-2xl'>{getMealIcon(meal.type)}</span>\n                          <span className='font-medium text-gray-900 dark:text-white'>\n                            {MEAL_TYPES.find((t) => t.value === meal.type)?.label}\n                          </span>\n                        </div>\n                        <button\n                          onClick={() => removeMeal(meal.id)}\n                          aria-label='Supprimer ce repas'\n                          className='p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded'\n                        >\n                          <X className='w-4 h-4' />\n                        </button>\n                      </div>\n\n                      <div className='grid grid-cols-2 gap-3'>\n                        <div>\n                          <label className='block text-xs text-gray-600 dark:text-gray-400 mb-1'>\n                            Heure\n                          </label>\n                          <input\n                            type='time'\n                            value={meal.time}\n                            onChange={(e) => updateMeal(meal.id, { time: e.target.value })}\n                            aria-label='Heure du repas'\n                            className='w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                          />\n                        </div>\n                        <div>\n                          <label className='block text-xs text-gray-600 dark:text-gray-400 mb-1'>\n                            Nombre de personnes\n                          </label>\n                          <input\n                            type='number'\n                            value={meal.attendees}\n                            onChange={(e) =>\n                              updateMeal(meal.id, { attendees: Number(e.target.value) })\n                            }\n                            min='1'\n                            aria-label='Nombre de personnes'\n                            className='w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                          />\n                        </div>\n                      </div>\n\n                      <div>\n                        <label className='block text-xs text-gray-600 dark:text-gray-400 mb-1'>\n                          Lieu\n                        </label>\n                        <input\n                          type='text'\n                          value={meal.location}\n                          onChange={(e) => updateMeal(meal.id, { location: e.target.value })}\n                          placeholder='Restaurant, domicile, etc.'\n                          className='w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                        />\n                      </div>\n\n                      <div>\n                        <label className='block text-xs text-gray-600 dark:text-gray-400 mb-1'>\n                          Hôte / Responsable\n                        </label>\n                        <select\n                          value={meal.host || ''}\n                          onChange={(e) => updateMeal(meal.id, { host: e.target.value })}\n                          className='w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                        >\n                          <option value=''>Sélectionner un hôte...</option>\n                          {hosts.map((host) => (\n                            <option key={host.nom} value={host.nom}>\n                              {host.nom}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n\n                      <div className='grid grid-cols-2 gap-3'>\n                        <div>\n                          <label className='block text-xs text-gray-600 dark:text-gray-400 mb-1'>\n                            Menu (optionnel)\n                          </label>\n                          <input\n                            type='text'\n                            value={meal.menu || ''}\n                            onChange={(e) => updateMeal(meal.id, { menu: e.target.value })}\n                            placeholder='Description du menu'\n                            className='w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                          />\n                        </div>\n                        <div>\n                          <label className='block text-xs text-gray-600 dark:text-gray-400 mb-1'>\n                            Coût estimé (€)\n                          </label>\n                          <input\n                            type='number'\n                            value={meal.cost || ''}\n                            onChange={(e) =>\n                              updateMeal(meal.id, {\n                                cost: e.target.value ? Number(e.target.value) : undefined,\n                              })\n                            }\n                            placeholder='0.00'\n                            step='0.01'\n                            className='w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </CardBody>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Notes */}\n        <div>\n          <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n            Notes supplémentaires\n          </label>\n          <textarea\n            value={notes}\n            onChange={(e) => setNotes(e.target.value)}\n            rows={3}\n            placeholder='Préférences culinaires, informations complémentaires...'\n            className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n          />\n        </div>\n\n        {/* Résumé */}\n        {(meals.length > 0 || dietaryRestrictions.length > 0 || allergies.length > 0) && (\n          <Card className='bg-blue-50 dark:bg-blue-900/20'>\n            <CardBody>\n              <h4 className='font-medium text-blue-900 dark:text-blue-200 mb-2'>Résumé</h4>\n              <div className='space-y-1 text-sm text-blue-800 dark:text-blue-300'>\n                <p>• {meals.length} repas planifié(s)</p>\n                {dietaryRestrictions.length > 0 && (\n                  <p>• {dietaryRestrictions.length} restriction(s) alimentaire(s)</p>\n                )}\n                {allergies.length > 0 && (\n                  <p className='text-red-600 dark:text-red-400 font-medium'>\n                    ⚠️ {allergies.length} allergie(s) à prendre en compte\n                  </p>\n                )}\n                {getTotalCost() > 0 && <p>• Coût total estimé : {getTotalCost().toFixed(2)}€</p>}\n              </div>\n            </CardBody>\n          </Card>\n        )}\n\n        {/* Actions */}\n        <div className='flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700'>\n          <Button variant='secondary' onClick={onClose}>\n            Annuler\n          </Button>\n          <Button variant='primary' onClick={handleSave}>\n            <Utensils className='w-4 h-4 mr-2' />\n            Enregistrer le plan de repas\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n","import React, { useState, useMemo } from 'react';\nimport { Home, User, CheckCircle, XCircle, AlertTriangle, Star, MapPin } from 'lucide-react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { Badge } from '@/components/ui/Badge';\nimport { Card, CardBody } from '@/components/ui/Card';\nimport { Visit, Host, Speaker } from '@/types';\nimport { useData } from '@/contexts/DataContext';\n\ninterface AccommodationMatchingModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  visit: Visit;\n  speaker?: Speaker;\n  onSelectHost: (_host: Host) => void;\n}\n\ninterface HostMatch {\n  host: Host;\n  score: number;\n  compatibility: CompatibilityFactor[];\n  warnings: string[];\n}\n\ninterface CompatibilityFactor {\n  factor: string;\n  score: number;\n  positive: boolean;\n}\n\n// Constants for scoring\n/* eslint-disable no-magic-numbers */\nconst SCORE_WEIGHTS = {\n  AVAILABILITY: 40,\n  GENDER_COUPLE_COUPLE: 20,\n  GENDER_SAME: 15,\n  GENDER_PARTIAL: 10,\n  CAPACITY_GOOD: 15,\n  CAPACITY_LIMITED: 5,\n  EQUIPMENT_PARKING: 10,\n  EQUIPMENT_ELEVATOR: 5,\n  PREFERENCE_PENALTY: 10,\n  EXPERIENCE_PER_HOST: 5,\n  MAX_EXPERIENCE: 20,\n  RECENT_HOST_PENALTY: 10,\n  LONG_TIME_AVAILABLE: 10,\n  DAYS_RECENT: 30,\n  DAYS_LONG_TIME: 180,\n  DAYS_IN_MS: 86400000, // 24 * 60 * 60 * 1000\n  SCORE_EXCELLENT: 80,\n  SCORE_GOOD: 60,\n  SCORE_ACCEPTABLE: 40,\n  CAPACITY_MATCH: 40,\n  PREVIOUS_HOST: 20,\n  DISTANCE: 15,\n  PETS: 10,\n  EXPERIENCE: 5,\n  MIN_CAPACITY: 2,\n  HOST_CATEGORY: {\n    GOLD: 80,\n    SILVER: 60,\n    BRONZE: 40,\n  },\n  UI: {\n    MIN_HEIGHT: 60,\n    MAX_HEIGHT: 180,\n    AVATAR_SIZE: 30,\n    ITEM_SPACING: 10,\n  },\n};\n/* eslint-enable no-magic-numbers */\n\nexport const AccommodationMatchingModal: React.FC<AccommodationMatchingModalProps> = ({\n  isOpen,\n  onClose,\n  visit,\n  speaker,\n  onSelectHost,\n}) => {\n  const { hosts, visits } = useData();\n  const [selectedHost, setSelectedHost] = useState<Host | null>(null);\n  const [showOnlyAvailable, setShowOnlyAvailable] = useState(true);\n\n  // Algorithme de matching intelligent\n  const matchedHosts = useMemo(() => {\n    const matches: HostMatch[] = [];\n\n    hosts.forEach((host) => {\n      let score = 0;\n      const compatibility: CompatibilityFactor[] = [];\n      const warnings: string[] = [];\n\n      // Utilisation des constantes de score\n      const { AVAILABILITY } = SCORE_WEIGHTS;\n\n      // 1. Vérifier la disponibilité\n      const isAvailable = !host.unavailableDates?.includes(visit.visitDate);\n      if (isAvailable) {\n        score += AVAILABILITY; // Utilisation de la constante\n        compatibility.push({\n          factor: 'Disponible à cette date',\n          score: AVAILABILITY,\n          positive: true,\n        });\n      } else {\n        warnings.push('Indisponible à cette date');\n        if (showOnlyAvailable) return; // Exclure si filtre activé\n      }\n\n      // 2. Vérifier le genre (compatibilité)\n      if (speaker) {\n        if (speaker.gender === 'couple' && host.gender === 'couple') {\n          score += SCORE_WEIGHTS.GENDER_COUPLE_COUPLE;\n          compatibility.push({\n            factor: 'Couple accueille couple',\n            score: SCORE_WEIGHTS.GENDER_COUPLE_COUPLE,\n            positive: true,\n          });\n        } else if (speaker.gender === host.gender) {\n          score += SCORE_WEIGHTS.GENDER_SAME;\n          compatibility.push({\n            factor: 'Genre compatible',\n            score: SCORE_WEIGHTS.GENDER_SAME,\n            positive: true,\n          });\n        } else if (speaker.gender === 'couple' || host.gender === 'couple') {\n          score += SCORE_WEIGHTS.GENDER_PARTIAL;\n          compatibility.push({\n            factor: 'Genre partiellement compatible',\n            score: SCORE_WEIGHTS.GENDER_PARTIAL,\n            positive: true,\n          });\n        }\n      }\n\n      // 3. Capacité d'accueil\n      if (host.capacity) {\n        if (host.capacity >= SCORE_WEIGHTS.MIN_CAPACITY) {\n          score += SCORE_WEIGHTS.CAPACITY_GOOD;\n          compatibility.push({\n            factor: `Capacité: ${host.capacity} personne(s)`,\n            score: SCORE_WEIGHTS.CAPACITY_GOOD,\n            positive: true,\n          });\n        } else {\n          compatibility.push({\n            factor: 'Capacité limitée (1 personne)',\n            score: SCORE_WEIGHTS.CAPACITY_LIMITED,\n            positive: false,\n          });\n        }\n      }\n\n      // 4. Équipements\n      if (host.hasParking) {\n        score += SCORE_WEIGHTS.EQUIPMENT_PARKING;\n        compatibility.push({\n          factor: 'Parking disponible',\n          score: SCORE_WEIGHTS.EQUIPMENT_PARKING,\n          positive: true,\n        });\n      }\n\n      if (host.hasElevator) {\n        score += SCORE_WEIGHTS.EQUIPMENT_ELEVATOR;\n        compatibility.push({\n          factor: 'Ascenseur disponible',\n          score: SCORE_WEIGHTS.EQUIPMENT_ELEVATOR,\n          positive: true,\n        });\n      }\n\n      // 5. Préférences spéciales\n      if (speaker?.isVehiculed && !host.hasParking) {\n        warnings.push('Orateur véhiculé mais pas de parking');\n        score -= SCORE_WEIGHTS.PREFERENCE_PENALTY;\n      }\n\n      // 6. Animaux\n      if (host.hasPets) {\n        compatibility.push({\n          factor: 'Animaux de compagnie',\n          score: 0,\n          positive: false,\n        });\n        warnings.push(\"Présence d'animaux\");\n      }\n\n      // 8. Historique d'accueil\n      const previousAccommodations = visits.filter(\n        (v) => v.host === host.nom && v.status === 'completed'\n      );\n\n      if (previousAccommodations.length > 0) {\n        const experienceScore = Math.min(\n          previousAccommodations.length * SCORE_WEIGHTS.EXPERIENCE_PER_HOST,\n          SCORE_WEIGHTS.MAX_EXPERIENCE\n        );\n        score += experienceScore;\n        compatibility.push({\n          factor: `${previousAccommodations.length} accueil(s) réussi(s)`,\n          score: experienceScore,\n          positive: true,\n        });\n      }\n\n      // 9. Dernière fois qu'il a accueilli\n      const lastAccommodation = previousAccommodations.sort(\n        (a, b) => new Date(b.visitDate).getTime() - new Date(a.visitDate).getTime()\n      )[0];\n\n      if (lastAccommodation) {\n        const daysSince = Math.floor(\n          (new Date(visit.visitDate).getTime() - new Date(lastAccommodation.visitDate).getTime()) /\n            SCORE_WEIGHTS.DAYS_IN_MS\n        );\n\n        if (daysSince < SCORE_WEIGHTS.DAYS_RECENT) {\n          warnings.push('A accueilli récemment');\n          score -= SCORE_WEIGHTS.RECENT_HOST_PENALTY;\n        } else if (daysSince > SCORE_WEIGHTS.DAYS_LONG_TIME) {\n          score += SCORE_WEIGHTS.LONG_TIME_AVAILABLE;\n          compatibility.push({\n            factor: 'Disponible depuis longtemps',\n            score: SCORE_WEIGHTS.LONG_TIME_AVAILABLE,\n            positive: true,\n          });\n        }\n      }\n\n      matches.push({\n        host,\n        score: Math.max(0, score),\n        compatibility,\n        warnings,\n      });\n    });\n\n    return matches.sort((a, b) => b.score - a.score);\n  }, [hosts, visits, visit, speaker, showOnlyAvailable]);\n\n  const handleSelectHost = () => {\n    if (selectedHost) {\n      onSelectHost(selectedHost);\n      onClose();\n    }\n  };\n\n  const getScoreColor = (score: number) => {\n    if (score >= SCORE_WEIGHTS.SCORE_EXCELLENT)\n      return 'text-green-600 bg-green-100 dark:bg-green-900/20';\n    if (score >= SCORE_WEIGHTS.SCORE_GOOD) return 'text-blue-600 bg-blue-100 dark:bg-blue-900/20';\n    if (score >= SCORE_WEIGHTS.SCORE_ACCEPTABLE)\n      return 'text-orange-600 bg-orange-100 dark:bg-orange-900/20';\n    return 'text-red-600 bg-red-100 dark:bg-red-900/20';\n  };\n\n  const getScoreLabel = (score: number) => {\n    if (score >= SCORE_WEIGHTS.SCORE_EXCELLENT) return 'Excellent match';\n    if (score >= SCORE_WEIGHTS.SCORE_GOOD) return 'Bon match';\n    if (score >= SCORE_WEIGHTS.SCORE_ACCEPTABLE) return 'Match acceptable';\n    return 'Match faible';\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title='Matching intelligent hôte/orateur' size='xl'>\n      <div className='space-y-6'>\n        {/* Informations de la visite */}\n        <div className='p-4 bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20 rounded-lg'>\n          <div className='flex items-center gap-3 mb-2'>\n            <User className='w-5 h-5 text-primary-600' />\n            <h4 className='font-semibold text-gray-900 dark:text-white'>{visit.nom}</h4>\n          </div>\n          <p className='text-sm text-gray-600 dark:text-gray-400'>\n            {new Date(visit.visitDate).toLocaleDateString('fr-FR', {\n              weekday: 'long',\n              day: 'numeric',\n              month: 'long',\n            })}\n          </p>\n          {speaker && (\n            <div className='mt-2 flex gap-2'>\n              <Badge variant='default'>\n                {speaker.gender === 'male'\n                  ? 'Homme'\n                  : speaker.gender === 'female'\n                    ? 'Femme'\n                    : 'Couple'}\n              </Badge>\n              {speaker.isVehiculed && <Badge variant='default'>Véhiculé</Badge>}\n            </div>\n          )}\n        </div>\n\n        {/* Filtre */}\n        <div className='flex items-center justify-between'>\n          <label className='flex items-center gap-2 cursor-pointer'>\n            <input\n              type='checkbox'\n              checked={showOnlyAvailable}\n              onChange={(e) => setShowOnlyAvailable(e.target.checked)}\n              className='w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500'\n            />\n            <span className='text-sm text-gray-700 dark:text-gray-300'>\n              Afficher uniquement les hôtes disponibles\n            </span>\n          </label>\n          <Badge variant='default'>{matchedHosts.length} hôte(s) trouvé(s)</Badge>\n        </div>\n\n        {/* Liste des hôtes */}\n        <div className='space-y-3 max-h-96 overflow-y-auto'>\n          {matchedHosts.length === 0 ? (\n            <div className='text-center py-12'>\n              <Home className='w-16 h-16 mx-auto mb-4 text-gray-400' />\n              <h3 className='text-lg font-semibold text-gray-900 dark:text-white mb-2'>\n                Aucun hôte trouvé\n              </h3>\n              <p className='text-gray-600 dark:text-gray-400'>\n                Essayez de désactiver le filtre de disponibilité\n              </p>\n            </div>\n          ) : (\n            matchedHosts.map((match) => (\n              <Card\n                key={match.host.nom}\n                hoverable\n                className={`cursor-pointer transition-all ${\n                  selectedHost?.nom === match.host.nom\n                    ? 'ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20'\n                    : ''\n                }`}\n                onClick={() => setSelectedHost(match.host)}\n              >\n                <CardBody>\n                  <div className='space-y-3'>\n                    {/* En-tête */}\n                    <div className='flex items-start justify-between'>\n                      <div className='flex items-center gap-3'>\n                        <div className='w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-700 dark:text-purple-300 font-bold text-lg'>\n                          {match.host.nom.charAt(0).toUpperCase()}\n                        </div>\n                        <div>\n                          <h4 className='font-semibold text-gray-900 dark:text-white'>\n                            {match.host.nom}\n                          </h4>\n                          <div className='flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400'>\n                            {match.host.address && (\n                              <>\n                                <MapPin className='w-3 h-3' />\n                                {match.host.address}\n                              </>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                      <div className='text-right'>\n                        <div\n                          className={`inline-flex items-center gap-2 px-3 py-1 rounded-full ${getScoreColor(match.score)}`}\n                        >\n                          <Star className='w-4 h-4' />\n                          <span className='text-lg font-bold'>{match.score}</span>\n                        </div>\n                        <div className='text-xs text-gray-600 dark:text-gray-400 mt-1'>\n                          {getScoreLabel(match.score)}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Facteurs de compatibilité */}\n                    <div className='flex flex-wrap gap-2'>\n                      {match.compatibility.map((factor, idx) => (\n                        <div\n                          key={idx}\n                          className={`flex items-center gap-1 px-2 py-1 rounded text-xs ${\n                            factor.positive\n                              ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300'\n                              : 'bg-gray-100 text-gray-700 dark:bg-gray-900/20 dark:text-gray-300'\n                          }`}\n                        >\n                          {factor.positive ? (\n                            <CheckCircle className='w-3 h-3' />\n                          ) : (\n                            <AlertTriangle className='w-3 h-3' />\n                          )}\n                          {factor.factor}\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* Avertissements */}\n                    {match.warnings.length > 0 && (\n                      <div className='flex flex-wrap gap-2'>\n                        {match.warnings.map((warning, idx) => (\n                          <div\n                            key={idx}\n                            className='flex items-center gap-1 px-2 py-1 rounded text-xs bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-300'\n                          >\n                            <XCircle className='w-3 h-3' />\n                            {warning}\n                          </div>\n                        ))}\n                      </div>\n                    )}\n\n                    {/* Informations supplémentaires */}\n                    {match.host.notes && (\n                      <div className='text-sm text-gray-600 dark:text-gray-400 italic'>\n                        \"{match.host.notes}\"\n                      </div>\n                    )}\n                  </div>\n                </CardBody>\n              </Card>\n            ))\n          )}\n        </div>\n\n        {/* Informations sur l'hôte sélectionné */}\n        {selectedHost && (\n          <div className='p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg'>\n            <div className='flex items-start gap-3'>\n              <Home className='w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5' />\n              <div className='text-sm text-blue-800 dark:text-blue-300'>\n                <strong>Hôte sélectionné :</strong> {selectedHost.nom}\n                {selectedHost.telephone && (\n                  <div className='mt-1'>Téléphone : {selectedHost.telephone}</div>\n                )}\n                {selectedHost.email && <div className='mt-1'>Email : {selectedHost.email}</div>}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Actions */}\n        <div className='flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700'>\n          <Button variant='secondary' onClick={onClose}>\n            Annuler\n          </Button>\n          <Button variant='primary' onClick={handleSelectHost} disabled={!selectedHost}>\n            <Home className='w-4 h-4 mr-2' />\n            Sélectionner cet hôte\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define(\"lib\",[\"react\"],t):\"object\"==typeof exports?exports.lib=t(require(\"react\")):e.lib=t(e.react)}(\"undefined\"!=typeof self?self:this,function(e){return function(){\"use strict\";var t={155:function(t){t.exports=e}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};n.r(r),n.d(r,{useReactToPrint:function(){return g}});var s=n(155);const i=\"printWindow\";function l({level:e=\"error\",messages:t,suppressErrors:o=!1}){o||(\"error\"===e?console.error(t):\"warning\"===e?console.warn(t):console.debug(t))}function a(e,t){if(t||!e){const e=document.getElementById(i);e&&document.body.removeChild(e)}}function c(e){return e instanceof Error?e:new Error(\"Unknown Error\")}function d(e,t){const{documentTitle:o,onAfterPrint:n,onPrintError:r,preserveAfterPrint:s,print:i,suppressErrors:d}=t;setTimeout(()=>{var t,u;if(e.contentWindow){function p(){null==n||n(),a(s)}if(e.contentWindow.focus(),i)i(e).then(p).catch(e=>{r?r(\"print\",c(e)):l({messages:[\"An error was thrown by the specified `print` function\"],suppressErrors:d})});else{if(e.contentWindow.print){const f=null!==(u=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==u?u:\"\",h=e.ownerDocument.title;o&&(e.ownerDocument.title=o,e.contentDocument&&(e.contentDocument.title=o)),e.contentWindow.print(),o&&(e.ownerDocument.title=h,e.contentDocument&&(e.contentDocument.title=f))}else l({messages:[\"Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes.\"],suppressErrors:d});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>{var t,o;return(null!==(o=null!==(t=navigator.userAgent)&&void 0!==t?t:navigator.vendor)&&void 0!==o?o:\"opera\"in window&&window.opera).match(e)})?setTimeout(p,500):p()}}else l({messages:[\"Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/\"],suppressErrors:d})},500)}function u(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let n=o.nextNode();for(;n;)t.push(n),n=o.nextNode();return t}function p(e,t,o){const n=u(e),r=u(t);if(n.length===r.length)for(let e=0;e<n.length;e++){const t=n[e],s=r[e],i=t.shadowRoot;if(null!==i){const e=s.attachShadow({mode:i.mode});e.innerHTML=i.innerHTML,p(i,e,o)}}else l({messages:[\"When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.\",e,t],suppressErrors:o})}const f='\\n    @page {\\n        /* Remove browser default header (title) and footer (url) */\\n        margin: 0;\\n    }\\n    @media print {\\n        body {\\n            /* Tell browsers to print background colors */\\n            color-adjust: exact; /* Firefox. This is an older version of \"print-color-adjust\" */\\n            print-color-adjust: exact; /* Firefox/Safari */\\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\\n        }\\n    }\\n';function h(e,t,o,n){var r,s,i,a,u;const{contentNode:h,clonedContentNode:g,clonedImgNodes:m,clonedVideoNodes:b,numResourcesToLoad:y,originalCanvasNodes:v}=o,{bodyClass:w,fonts:E,ignoreGlobalStyles:A,pageStyle:P,nonce:T,suppressErrors:S,copyShadowRoots:x}=n;e.onload=null;const k=null!==(r=e.contentDocument)&&void 0!==r?r:null===(s=e.contentWindow)||void 0===s?void 0:s.document;if(k){const o=k.body.appendChild(g);x&&p(h,o,!!S),E&&((null===(i=e.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(a=e.contentWindow)||void 0===a?void 0:a.FontFace)?E.forEach(o=>{const n=new FontFace(o.family,o.source,{weight:o.weight,style:o.style});e.contentDocument.fonts.add(n),n.loaded.then(()=>{t(n)}).catch(e=>{t(n,[\"Failed loading the font:\",n,\"Load error:\",c(e)])})}):(E.forEach(e=>{t(e)}),l({messages:['\"react-to-print\" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:S})));const n=null!=P?P:f,r=k.createElement(\"style\");T&&(r.setAttribute(\"nonce\",T),k.head.setAttribute(\"nonce\",T)),r.appendChild(k.createTextNode(n)),k.head.appendChild(r),w&&k.body.classList.add(...w.split(\" \"));const s=k.querySelectorAll(\"canvas\");for(let e=0;e<v.length;++e){const t=v[e],o=s[e];if(void 0===o){l({messages:[\"A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.\",t],suppressErrors:S});continue}const n=o.getContext(\"2d\");n&&n.drawImage(t,0,0)}for(let e=0;e<m.length;e++){const o=m[e],n=o.getAttribute(\"src\");if(n){const e=new Image;e.onload=()=>{t(o)},e.onerror=(e,n,r,s,i)=>{t(o,[\"Error loading <img>\",o,\"Error\",i])},e.src=n}else t(o,['Found an <img> tag with an empty \"src\" attribute. This prevents pre-loading it.',o])}for(let e=0;e<b.length;e++){const o=b[e];o.preload=\"auto\";const n=o.getAttribute(\"poster\");if(n){const e=new Image;e.onload=()=>{t(o)},e.onerror=(e,r,s,i,l)=>{t(o,[\"Error loading video poster\",n,\"for video\",o,\"Error:\",l])},e.src=n}else o.readyState>=2?t(o):o.src?(o.onloadeddata=()=>{t(o)},o.onerror=(e,n,r,s,i)=>{t(o,[\"Error loading video\",o,\"Error\",i])},o.onstalled=()=>{t(o,[\"Loading video stalled, skipping\",o])}):t(o,[\"Error loading video, `src` is empty\",o])}const d=\"select\",y=h.querySelectorAll(d),C=k.querySelectorAll(d);for(let e=0;e<y.length;e++)C[e].value=y[e].value;if(!A){const e=document.querySelectorAll(\"style, link[rel~='stylesheet'], link[as='style']\");for(let o=0,n=e.length;o<n;++o){const n=e[o];if(\"style\"===n.tagName.toLowerCase()){const e=k.createElement(n.tagName),t=n.sheet;if(t){let r=\"\";try{const e=t.cssRules.length;for(let o=0;o<e;++o)\"string\"==typeof t.cssRules[o].cssText&&(r+=`${t.cssRules[o].cssText}\\r\\n`)}catch(e){l({messages:[\"A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.\",n,`Original error: ${c(e).message}`],level:\"warning\"})}e.setAttribute(\"id\",`react-to-print-${o}`),T&&e.setAttribute(\"nonce\",T),e.appendChild(k.createTextNode(r)),k.head.appendChild(e)}}else if(n.getAttribute(\"href\"))if(n.hasAttribute(\"disabled\"))l({messages:[\"`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:\",n],level:\"warning\"}),t(n);else{const e=k.createElement(n.tagName);for(let t=0,o=n.attributes.length;t<o;++t){const o=n.attributes[t];o&&e.setAttribute(o.nodeName,null!==(u=o.nodeValue)&&void 0!==u?u:\"\")}e.onload=()=>{t(e)},e.onerror=(o,n,r,s,i)=>{t(e,[\"Failed to load\",e,\"Error:\",i])},T&&e.setAttribute(\"nonce\",T),k.head.appendChild(e)}else l({messages:[\"`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:\",n],level:\"warning\"}),t(n)}}}0===y&&d(e,n)}function g({bodyClass:e,contentRef:t,copyShadowRoots:o,documentTitle:n,fonts:r,ignoreGlobalStyles:u,nonce:p,onAfterPrint:f,onBeforePrint:g,onPrintError:m,pageStyle:b,preserveAfterPrint:y,print:v,printIframeProps:w,suppressErrors:E}){const A=(0,s.useCallback)(s=>{function A(){const a={bodyClass:e,contentRef:t,copyShadowRoots:o,documentTitle:n,fonts:r,ignoreGlobalStyles:u,nonce:p,onAfterPrint:f,onBeforePrint:g,onPrintError:m,pageStyle:b,preserveAfterPrint:y,print:v,printIframeProps:w,suppressErrors:E},c=function(e){const t=document.createElement(\"iframe\");return t.width=`${document.documentElement.clientWidth}px`,t.height=`${document.documentElement.clientHeight}px`,t.style.position=\"absolute\",t.style.top=`-${document.documentElement.clientHeight+100}px`,t.style.left=`-${document.documentElement.clientWidth+100}px`,t.id=i,t.srcdoc=\"<!DOCTYPE html>\",e&&(e.allow&&(t.allow=e.allow),void 0!==e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),void 0!==e.sandbox&&(t.sandbox=e.sandbox)),t}(w),A=function(e,t){const{contentRef:o,fonts:n,ignoreGlobalStyles:r,suppressErrors:s}=t,i=function({contentRef:e,optionalContent:t,suppressErrors:o}){return t&&\"function\"==typeof t?(e&&l({level:\"warning\",messages:['\"react-to-print\" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),t()):e?e.current:void l({messages:['\"react-to-print\" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:o})}({contentRef:o,optionalContent:e,suppressErrors:s});if(!i)return;const a=i.cloneNode(!0),c=document.querySelectorAll(\"link[rel~='stylesheet'], link[as='style']\"),d=a.querySelectorAll(\"img\"),u=a.querySelectorAll(\"video\"),p=n?n.length:0;return{contentNode:i,clonedContentNode:a,clonedImgNodes:d,clonedVideoNodes:u,numResourcesToLoad:(r?0:c.length)+d.length+u.length+p,originalCanvasNodes:i.querySelectorAll(\"canvas\")}}(s,a);if(!A)return void l({messages:[\"There is nothing to print\"],suppressErrors:E});const P=function(e,t,o){const{suppressErrors:n}=e,r=[],s=[];return function(i,a){r.includes(i)?l({level:\"debug\",messages:[\"Tried to mark a resource that has already been handled\",i],suppressErrors:n}):(a?(l({messages:['\"react-to-print\" was unable to load a resource but will continue attempting to print the page',...a],suppressErrors:n}),s.push(i)):r.push(i),r.length+s.length===t&&d(o,e))}}(a,A.numResourcesToLoad,c);!function(e,t,o,n){e.onload=()=>{h(e,t,o,n)},document.body.appendChild(e)}(c,P,A,a)}a(y,!0),g?g().then(()=>{A()}).catch(e=>{null==m||m(\"onBeforePrint\",c(e))}):A()},[e,t,o,n,r,u,p,f,g,m,b,y,v,E]);return A}return r}()});","import React, { useRef } from 'react';\nimport { Visit, Speaker, Host } from '@/types';\nimport { format, parseISO } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport { MapPin, Phone, User, Calendar, Truck, Hotel, CheckSquare, Printer } from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\n\nimport { useReactToPrint } from 'react-to-print';\n\ninterface RoadmapViewProps {\n  visit: Visit;\n  speaker?: Speaker;\n  host?: Host;\n}\n\nexport const RoadmapView: React.FC<RoadmapViewProps> = ({ visit, speaker, host }) => {\n  const componentRef = useRef<HTMLDivElement>(null);\n\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n    documentTitle: `Feuille_de_route_${visit.nom}_${visit.visitDate}`,\n  } as any);\n\n  const formatDate = (dateString: string) => {\n    try {\n      return format(parseISO(dateString), 'EEEE d MMMM yyyy', { locale: fr });\n    } catch {\n      return dateString;\n    }\n  };\n\n  return (\n    <div className='space-y-4'>\n      <div className='flex justify-end no-print'>\n        <Button onClick={handlePrint} leftIcon={<Printer className='w-4 h-4' />}>\n          Imprimer la feuille de route\n        </Button>\n      </div>\n\n      {/* Printable Content */}\n      <div\n        ref={componentRef}\n        className='bg-white p-8 max-w-[210mm] mx-auto min-h-[297mm] shadow-sm print:shadow-none print:w-full print:max-w-none'\n      >\n        {/* Header */}\n        <div className='border-b-2 border-gray-800 pb-6 mb-8 text-center'>\n          <h1 className='text-3xl font-bold uppercase tracking-wider mb-2 text-gray-900'>\n            Feuille de Route\n          </h1>\n          <p className='text-xl text-gray-600'>{visit.congregation}</p>\n          <div className='mt-4 inline-flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-lg'>\n            <Calendar className='w-5 h-5' />\n            <span className='font-semibold text-lg'>{formatDate(visit.visitDate)}</span>\n            <span className='text-gray-400 mx-2'>|</span>\n            <span className='font-semibold'>{visit.visitTime}</span>\n          </div>\n        </div>\n\n        <div className='grid grid-cols-1 md:grid-cols-2 gap-8 print:grid-cols-2 print:gap-8'>\n          {/* Section 1: Orateur & Discours */}\n          <section className='space-y-4'>\n            <h2 className='text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black'>\n              <User className='w-5 h-5' /> Orateur & Discours\n            </h2>\n            <div className='bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200'>\n              <div className='font-semibold text-lg mb-1'>{visit.nom}</div>\n              <div className='text-gray-600 mb-2'>{speaker?.email || 'Email non renseigné'}</div>\n              <div className='text-gray-600 mb-4'>{speaker?.telephone || 'Tel non renseigné'}</div>\n\n              <div className='mt-4 pt-4 border-t border-gray-200'>\n                <div className='text-sm text-gray-500 uppercase font-semibold'>Discours</div>\n                <div className='font-medium'>N°{visit.talkNoOrType || 'Non défini'}</div>\n                {visit.talkTheme && (\n                  <div className='text-sm text-gray-600 mt-1'>{visit.talkTheme}</div>\n                )}\n              </div>\n            </div>\n          </section>\n\n          {/* Section 2: Repas */}\n          {visit.meals && (\n            <section className='space-y-4'>\n              <h2 className='text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black'>\n                <Hotel className='w-5 h-5' /> Repas\n              </h2>\n              <div className='bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200'>\n                <div className='text-gray-700'>{visit.meals}</div>\n              </div>\n            </section>\n          )}\n\n          {/* Section 3: Hébergement */}\n          {(host || visit.logistics?.accommodation?.name) && (\n            <section className='space-y-4'>\n              <h2 className='text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black'>\n                <Hotel className='w-5 h-5' /> Hébergement\n              </h2>\n              <div className='bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200'>\n                {host && visit.logistics?.accommodation?.type !== 'hotel' ? (\n                  <>\n                    <div className='font-semibold text-lg mb-1'>{host.nom}</div>\n                    <div className='flex items-start gap-2 text-gray-600 mb-2'>\n                      <MapPin className='w-4 h-4 mt-1 flex-shrink-0' />\n                      <span>{host.address}</span>\n                    </div>\n                    <div className='flex items-center gap-2 text-gray-600 mb-2'>\n                      <Phone className='w-4 h-4 flex-shrink-0' />\n                      <span>{host.telephone}</span>\n                    </div>\n                    <div className='text-sm text-gray-500 mt-2'>\n                      {host.notes && <p className='italic'>\"{host.notes}\"</p>}\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    <div className='font-semibold text-lg mb-1'>\n                      {visit.logistics?.accommodation?.name}\n                    </div>\n                    <div className='flex items-start gap-2 text-gray-600 mb-2'>\n                      <MapPin className='w-4 h-4 mt-1 flex-shrink-0' />\n                      <span>\n                        {visit.logistics?.accommodation?.address || 'Adresse non renseignée'}\n                      </span>\n                    </div>\n                    {visit.logistics?.accommodation?.bookingReference && (\n                      <div className='text-sm text-gray-600 mb-2'>\n                        <strong>Référence:</strong> {visit.logistics.accommodation.bookingReference}\n                      </div>\n                    )}\n                    <div className='text-sm text-gray-500 mt-2'>\n                      {visit.logistics?.accommodation?.notes && (\n                        <p className='italic'>\"{visit.logistics.accommodation.notes}\"</p>\n                      )}\n                    </div>\n                  </>\n                )}\n\n                {visit.logistics?.accommodation && (\n                  <div className='mt-4 pt-4 border-t border-gray-200 text-sm grid grid-cols-2 gap-2'>\n                    <div>\n                      <span className='text-gray-500 block'>Check-in</span>\n                      <span className='font-medium'>\n                        {visit.logistics.accommodation.checkIn\n                          ? format(parseISO(visit.logistics.accommodation.checkIn), 'dd/MM HH:mm')\n                          : '-'}\n                      </span>\n                    </div>\n                    <div>\n                      <span className='text-gray-500 block'>Check-out</span>\n                      <span className='font-medium'>\n                        {visit.logistics.accommodation.checkOut\n                          ? format(parseISO(visit.logistics.accommodation.checkOut), 'dd/MM HH:mm')\n                          : '-'}\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </section>\n          )}\n\n          {/* Section 4: Itinéraire */}\n          {visit.logistics?.itinerary && (\n            <section className='space-y-4'>\n              <h2 className='text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black'>\n                <Truck className='w-5 h-5' /> Trajet\n              </h2>\n              <div className='bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200'>\n                <div className='grid grid-cols-2 gap-4 mb-4'>\n                  <div>\n                    <div className='text-sm text-gray-500'>Mode</div>\n                    <div className='font-medium capitalize'>\n                      {visit.logistics.itinerary.transportMode}\n                    </div>\n                  </div>\n                  <div>\n                    <div className='text-sm text-gray-500'>Durée estimée</div>\n                    <div className='font-medium'>{visit.logistics.itinerary.duration || '-'}</div>\n                  </div>\n                </div>\n                {visit.logistics.itinerary.meetingPoint && (\n                  <div className='mb-2'>\n                    <div className='text-sm text-gray-500'>Point de RDV</div>\n                    <div className='font-medium'>{visit.logistics.itinerary.meetingPoint}</div>\n                  </div>\n                )}\n              </div>\n            </section>\n          )}\n\n          {/* Section 5: Checklist Importante */}\n          {visit.logistics?.checklist && visit.logistics.checklist.length > 0 && (\n            <section className='space-y-4'>\n              <h2 className='text-lg font-bold uppercase border-b border-gray-300 pb-2 flex items-center gap-2 text-primary-700 print:text-black'>\n                <CheckSquare className='w-5 h-5' /> À ne pas oublier\n              </h2>\n              <div className='bg-gray-50 p-4 rounded-lg print:bg-transparent print:border print:border-gray-200'>\n                <ul className='space-y-2'>\n                  {visit.logistics.checklist\n                    .filter((item) => !item.isCompleted) // Only show what is LEFT to do, or remove filter to show all\n                    .map((item) => (\n                      <li key={item.id} className='flex items-center gap-3'>\n                        <div className='w-4 h-4 border-2 border-black rounded-sm print:block' />\n                        <span>{item.label}</span>\n                      </li>\n                    ))}\n                  {visit.logistics.checklist.every((i) => i.isCompleted) && (\n                    <li className='text-green-600 italic'>\n                      Toutes les tâches logistiques sont complétées.\n                    </li>\n                  )}\n                </ul>\n              </div>\n            </section>\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className='mt-16 text-center text-sm text-gray-400 border-t pt-8 print:mt-auto print:absolute print:bottom-8 print:left-0 print:right-0'>\n          <p>Généré par KBV2 Manager - {new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { useData } from '@/contexts/DataContext';\nimport { useToast } from '@/contexts/ToastContext';\nimport { useConfirm } from '@/contexts/ConfirmContext';\nimport { Visit, Expense, MessageType, Accommodation, VisitFeedback } from '@/types';\nimport {\n  Edit2,\n  Trash2,\n  MessageSquare,\n  CheckCircle,\n  XCircle,\n  Star,\n  CreditCard,\n  Truck,\n  Utensils,\n  Home,\n} from 'lucide-react';\nimport { ExpenseForm } from '@/components/expenses/ExpenseForm';\nimport { ExpenseList } from '@/components/expenses/ExpenseList';\nimport { LogisticsManager } from '@/components/logistics/LogisticsManager';\nimport {\n  TravelCoordinationModal,\n  MealPlanningModal,\n  AccommodationMatchingModal,\n} from '@/components/modals';\nimport { RoadmapView } from '@/components/reports/RoadmapView';\nimport { MessageGeneratorModal } from '@/components/messages/MessageGeneratorModal';\nimport { FeedbackFormModal } from '@/components/feedback/FeedbackFormModal';\nimport { generateUUID } from '@/utils/uuid';\n\ninterface VisitActionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  visit: Visit | null;\n  action: 'edit' | 'delete' | 'status' | 'message' | 'feedback' | 'expenses' | 'logistics';\n}\n\nexport const VisitActionModal: React.FC<VisitActionModalProps> = ({\n  isOpen,\n  onClose,\n  visit,\n  action,\n}) => {\n  const { updateVisit, deleteVisit, completeVisit, speakers, hosts } = useData();\n  const { addToast } = useToast();\n  const { confirm } = useConfirm(); // Hook at top level\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState<Partial<Visit>>({});\n\n  // Expenses Logic\n  const [isAddingExpense, setIsAddingExpense] = useState(false);\n  const [editingExpense, setEditingExpense] = useState<Expense | undefined>(undefined);\n\n  // Logistics Logic\n  const [_activeTab, _setActiveTab] = useState('accommodation');\n  const [_isTravelModalOpen, _setIsTravelModalOpen] = useState(false);\n  const [_isMealModalOpen, _setIsMealModalOpen] = useState(false);\n  const [_isAccommodationModalOpen, _setIsAccommodationModalOpen] = useState(false);\n\n  // Message Generator Logic\n  const [generatorParams, setGeneratorParams] = useState<{ isOpen: boolean; type: MessageType }>({\n    isOpen: false,\n    type: 'confirmation',\n  });\n\n  useEffect(() => {\n    if (visit) {\n      setFormData(visit);\n    }\n  }, [visit]);\n\n  if (!visit) return null;\n\n  const handleSave = async () => {\n    if (!formData) return;\n\n    setIsLoading(true);\n    try {\n      await updateVisit({ ...visit, ...formData });\n      addToast('Visite mise à jour', 'success');\n      onClose();\n    } catch (error) {\n      addToast('Erreur lors de la mise à jour', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    const userConfirmed = await confirm({\n      title: 'Supprimer la visite',\n      message: 'Êtes-vous sûr de vouloir supprimer cette visite ?',\n      confirmText: 'Supprimer',\n      confirmVariant: 'danger',\n      cancelText: 'Annuler',\n    });\n\n    if (!userConfirmed) return;\n\n    setIsLoading(true);\n    try {\n      await deleteVisit(visit.visitId);\n      addToast('Visite supprimée', 'success');\n      onClose();\n    } catch (error) {\n      addToast('Erreur lors de la suppression', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleStatusChange = async (newStatus: string) => {\n    setIsLoading(true);\n    try {\n      if (newStatus === 'completed') {\n        // Utiliser completeVisit pour marquer comme terminé et archiver\n        await completeVisit(visit);\n        addToast('Visite terminée et archivée', 'success');\n      } else {\n        // Pour les autres statuts, utiliser updateVisit normalement\n        await updateVisit({ ...visit, status: newStatus as any });\n        addToast('Statut mis à jour', 'success');\n      }\n      onClose();\n    } catch (error) {\n      addToast('Erreur lors de la mise à jour', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Message Generator Logic\n\n  const handleFeedbackSubmit = async (\n    feedbackData: Omit<VisitFeedback, 'id' | 'visitId' | 'submittedBy' | 'submittedAt'>\n  ) => {\n    setIsLoading(true);\n    try {\n      const newFeedback: VisitFeedback = {\n        ...feedbackData,\n        id: generateUUID(),\n        visitId: visit.visitId,\n        submittedBy: 'currentUser',\n        submittedAt: new Date().toISOString(),\n      };\n      await updateVisit({ ...visit, visitFeedback: newFeedback });\n      addToast('Bilan enregistré avec succès', 'success');\n      onClose();\n    } catch (error) {\n      addToast(\"Erreur lors de l'enregistrement du bilan\", 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSaveExpense = async (expenseData: Omit<Expense, 'id'>) => {\n    setIsLoading(true);\n    try {\n      const currentExpenses = visit.expenses || [];\n      let newExpenses: Expense[];\n\n      if (editingExpense) {\n        newExpenses = currentExpenses.map((e) =>\n          e.id === editingExpense.id ? { ...expenseData, id: editingExpense.id } : e\n        );\n      } else {\n        newExpenses = [...currentExpenses, { ...expenseData, id: generateUUID() }];\n      }\n\n      const updatedVisit = { ...visit, expenses: newExpenses };\n      await updateVisit(updatedVisit);\n      setFormData(updatedVisit);\n      addToast(editingExpense ? 'Dépense modifiée' : 'Dépense ajoutée', 'success');\n      setIsAddingExpense(false);\n      setEditingExpense(undefined);\n    } catch (error) {\n      addToast('Erreur lors de la sauvegarde de la dépense', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDeleteExpense = async (expenseId: string) => {\n    const confirmDelete = confirm; // Use the hook from top level\n    const userConfirmed = await confirmDelete({\n      title: 'Supprimer la dépense',\n      message: 'Voulez-vous vraiment supprimer cette dépense ?',\n      confirmText: 'Supprimer',\n      confirmVariant: 'danger',\n      cancelText: 'Annuler',\n    });\n\n    if (!userConfirmed) return;\n\n    setIsLoading(true);\n    try {\n      const newExpenses = (visit.expenses || []).filter((e) => e.id !== expenseId);\n      const updatedVisit = { ...visit, expenses: newExpenses };\n      await updateVisit(updatedVisit);\n      setFormData(updatedVisit);\n      addToast('Dépense supprimée', 'success');\n    } catch (error) {\n      addToast('Erreur lors de la suppression', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getModalContent = () => {\n    switch (action) {\n      case 'edit':\n        return (\n          <div className='space-y-4'>\n            <h3 className='text-lg font-semibold flex items-center gap-2'>\n              <Edit2 className='w-5 h-5' />\n              Modifier la visite\n            </h3>\n            <div className='grid grid-cols-2 gap-4'>\n              <Input\n                label='Date'\n                type='date'\n                value={formData.visitDate || ''}\n                onChange={(e) => setFormData((prev) => ({ ...prev, visitDate: e.target.value }))}\n              />\n              <Input\n                label='Heure'\n                type='time'\n                value={formData.visitTime || ''}\n                onChange={(e) => setFormData((prev) => ({ ...prev, visitTime: e.target.value }))}\n              />\n              <Input\n                label='N° Discours'\n                value={formData.talkNoOrType || ''}\n                onChange={(e) => setFormData((prev) => ({ ...prev, talkNoOrType: e.target.value }))}\n                placeholder='Ex: 185'\n              />\n              <div>\n                <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n                  Contact d'accueil\n                </label>\n                <select\n                  value={formData.host || ''}\n                  onChange={(e) => {\n                    const { value } = e.target;\n                    const selectedHost = hosts.find((h) => h.nom === value);\n\n                    setFormData((prev) => {\n                      const currentLogistics = prev.logistics || {};\n                      const currentAccommodation = currentLogistics.accommodation || {};\n\n                      const newAccommodation = {\n                        ...currentAccommodation,\n                      } as Partial<Accommodation>;\n                      let newAddress = prev.accommodation;\n\n                      if (value === 'Hôtel') {\n                        newAccommodation.type = 'hotel';\n                        // Keep existing booking ref etc, but maybe clear name if it was a host's name\n                        if (newAccommodation.type !== 'hotel') {\n                          // If switching TO hotel, maybe clear name/address?\n                          // Actually, let's just set type. User can fill details in Logistics.\n                        }\n                        newAddress = ''; // Clear main address field as it's likely a host address\n                      } else if (selectedHost) {\n                        newAccommodation.type = 'host';\n                        newAccommodation.name = selectedHost.nom;\n                        newAccommodation.address = selectedHost.address;\n                        newAddress = selectedHost.address || '';\n                      } else if (value === 'Pas besoin') {\n                        // Reset accommodation when no host is needed\n                        newAccommodation.type = 'other';\n                        newAccommodation.name = '';\n                        newAccommodation.address = '';\n                        newAddress = '';\n                      }\n\n                      return {\n                        ...prev,\n                        host: value,\n                        accommodation: newAddress,\n                        logistics: {\n                          ...currentLogistics,\n                          accommodation: newAccommodation as Accommodation,\n                        },\n                      };\n                    });\n                  }}\n                  title='Sélectionner un hôte'\n                  className='w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent'\n                >\n                  <option value=''>Sélectionner un hôte...</option>\n                  <option value='Pas besoin'>Pas besoin</option>\n                  <option value='Hôtel'>Hôtel</option>\n                  {hosts.map((host) => (\n                    <option key={host.nom} value={host.nom}>\n                      {host.nom}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <Input\n                label=\"Nombre d'accompagnateurs\"\n                type='number'\n                min={0}\n                max={10}\n                value={formData.accompanyingPersons || 0}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    accompanyingPersons: parseInt(e.target.value, 10) || 0,\n                  }))\n                }\n                placeholder='0'\n              />\n            </div>\n            <Input\n              label='Titre du discours'\n              value={formData.talkTheme || ''}\n              onChange={(e) => setFormData((prev) => ({ ...prev, talkTheme: e.target.value }))}\n              placeholder='Ex: Nega iluzon di mundu...'\n            />\n\n            {/* Section Statut */}\n            <div className='border-t border-gray-200 dark:border-gray-700 pt-4'>\n              <label className='block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3'>\n                Statut de la visite\n              </label>\n              <div className='grid grid-cols-2 gap-2'>\n                <Button\n                  variant={visit.status === 'pending' ? 'primary' : 'secondary'}\n                  size='sm'\n                  onClick={() => handleStatusChange('pending')}\n                  disabled={isLoading}\n                  leftIcon={<XCircle className='w-3 h-3' />}\n                >\n                  En attente\n                </Button>\n                <Button\n                  variant={visit.status === 'confirmed' ? 'primary' : 'secondary'}\n                  size='sm'\n                  onClick={() => handleStatusChange('confirmed')}\n                  disabled={isLoading}\n                  leftIcon={<CheckCircle className='w-3 h-3' />}\n                >\n                  Confirmé\n                </Button>\n                <Button\n                  variant={visit.status === 'completed' ? 'primary' : 'secondary'}\n                  size='sm'\n                  onClick={() => handleStatusChange('completed')}\n                  disabled={isLoading}\n                  leftIcon={<CheckCircle className='w-3 h-3' />}\n                >\n                  Terminé\n                </Button>\n                <Button\n                  variant={visit.status === 'cancelled' ? 'danger' : 'secondary'}\n                  size='sm'\n                  onClick={() => handleStatusChange('cancelled')}\n                  disabled={isLoading}\n                  leftIcon={<XCircle className='w-3 h-3' />}\n                >\n                  Annulé\n                </Button>\n              </div>\n              <p className='text-xs text-gray-500 dark:text-gray-400 mt-2'>\n                Statut actuel: <span className='font-medium capitalize'>{visit.status}</span>\n              </p>\n            </div>\n\n            <Input\n              label='Notes'\n              value={formData.notes || ''}\n              onChange={(e) => setFormData((prev) => ({ ...prev, notes: e.target.value }))}\n            />\n            <div className='bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-sm text-gray-600 dark:text-gray-400'>\n              💡 Pour gérer le logement et les repas, utilisez l'onglet \"Logistique\" du menu\n            </div>\n          </div>\n        );\n\n      case 'delete':\n        return (\n          <div className='text-center py-6'>\n            <Trash2 className='w-16 h-16 text-red-500 mx-auto mb-4' />\n            <h3 className='text-lg font-semibold text-gray-900 dark:text-white mb-2'>\n              Supprimer la visite\n            </h3>\n            <p className='text-gray-600 dark:text-gray-400 mb-6'>\n              Êtes-vous sûr de vouloir supprimer la visite de <strong>{visit.nom}</strong>\n              du {new Date(visit.visitDate).toLocaleDateString('fr-FR')} ?\n            </p>\n            <p className='text-sm text-red-600 dark:text-red-400'>Cette action est irréversible.</p>\n          </div>\n        );\n\n      case 'status':\n        return (\n          <div className='space-y-4'>\n            <h3 className='text-lg font-semibold flex items-center gap-2'>\n              <CheckCircle className='w-5 h-5' />\n              Changer le statut\n            </h3>\n            <div className='space-y-3'>\n              <p className='text-gray-600 dark:text-gray-400'>\n                Statut actuel: <span className='font-medium'>{visit.status}</span>\n              </p>\n              <div className='space-y-2'>\n                <Button\n                  variant='secondary'\n                  onClick={() => handleStatusChange('pending')}\n                  className='w-full justify-start'\n                  leftIcon={<XCircle className='w-4 h-4' />}\n                >\n                  Marquer en attente\n                </Button>\n                <Button\n                  variant='secondary'\n                  onClick={() => handleStatusChange('confirmed')}\n                  className='w-full justify-start'\n                  leftIcon={<CheckCircle className='w-4 h-4' />}\n                >\n                  Confirmer\n                </Button>\n                <Button\n                  variant='secondary'\n                  onClick={() => handleStatusChange('completed')}\n                  className='w-full justify-start'\n                  leftIcon={<CheckCircle className='w-4 h-4' />}\n                >\n                  Marquer comme terminé\n                </Button>\n                <Button\n                  variant='danger'\n                  onClick={() => handleStatusChange('cancelled')}\n                  className='w-full justify-start'\n                  leftIcon={<XCircle className='w-4 h-4' />}\n                >\n                  Annuler\n                </Button>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'message':\n        return (\n          <div className='space-y-4'>\n            <h3 className='text-lg font-semibold flex items-center gap-2'>\n              <MessageSquare className='w-5 h-5' />\n              Générer un message\n            </h3>\n            <p className='text-gray-600 dark:text-gray-400'>\n              Choisissez un type de message pour ouvrir l'assistant de rédaction :\n            </p>\n            <div className='grid grid-cols-1 gap-2'>\n              <Button\n                variant='secondary'\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'confirmation' })}\n                className='w-full justify-start'\n              >\n                Message de confirmation\n              </Button>\n              <Button\n                variant='secondary'\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'preparation' })}\n                className='w-full justify-start'\n              >\n                Message de préparation\n              </Button>\n              <Button\n                variant='secondary'\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'reminder-7' })}\n                className='w-full justify-start'\n              >\n                Rappel J-7\n              </Button>\n              <Button\n                variant='secondary'\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'reminder-2' })}\n                className='w-full justify-start'\n              >\n                Rappel J-2\n              </Button>\n              <Button\n                variant='secondary'\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'thanks' })}\n                className='w-full justify-start'\n              >\n                Message de remerciement\n              </Button>\n              <Button\n                variant='secondary'\n                onClick={() => setGeneratorParams({ isOpen: true, type: 'host_request' })}\n                className='w-full justify-start'\n              >\n                Demande d'accueil\n              </Button>\n            </div>\n          </div>\n        );\n\n      case 'feedback':\n        return (\n          <div className='space-y-4'>\n            <h3 className='text-lg font-semibold flex items-center gap-2'>\n              <Star className='w-5 h-5 text-yellow-500' />\n              Bilan de la visite\n            </h3>\n            <div className='text-sm text-gray-600 dark:text-gray-400'>\n              Utilisez la modale de feedback pour évaluer cette visite.\n            </div>\n          </div>\n        );\n\n      case 'expenses':\n        return (\n          <div className='space-y-4'>\n            <h3 className='text-lg font-semibold flex items-center gap-2'>\n              <CreditCard className='w-5 h-5 text-green-600' />\n              Gestion des coûts\n            </h3>\n\n            {isAddingExpense || editingExpense ? (\n              <ExpenseForm\n                initialData={editingExpense}\n                onSubmit={handleSaveExpense}\n                onCancel={() => {\n                  setIsAddingExpense(false);\n                  setEditingExpense(undefined);\n                }}\n              />\n            ) : (\n              <ExpenseList\n                expenses={formData.expenses || []}\n                onAdd={() => setIsAddingExpense(true)}\n                onEdit={setEditingExpense}\n                onDelete={handleDeleteExpense}\n                readOnly={isLoading}\n              />\n            )}\n          </div>\n        );\n\n      case 'logistics': {\n        const activeVisit = { ...visit, ...formData };\n        const acc = (activeVisit.logistics?.accommodation || {}) as Partial<Accommodation>;\n        const isHostType = (acc.type || 'host') === 'host';\n\n        return (\n          <div className='space-y-4'>\n            <h3 className='text-lg font-semibold flex items-center gap-2'>\n              <Truck className='w-5 h-5 text-blue-600' />\n              Logistique\n            </h3>\n\n            <LogisticsManager\n              logistics={{\n                ...activeVisit.logistics,\n                accommodation: {\n                  ...acc,\n                  type: acc.type || 'host',\n                  name: isHostType ? activeVisit.host || acc.name || '' : acc.name || '',\n                  address: isHostType\n                    ? activeVisit.accommodation || acc.address || ''\n                    : acc.address || '',\n                },\n              }}\n              onUpdate={(updatedLogistics) => {\n                setFormData((prev) => ({\n                  ...prev,\n                  logistics: updatedLogistics,\n                  // Sync back to top-level fields only if we are in host mode\n                  host:\n                    updatedLogistics.accommodation?.type === 'host'\n                      ? updatedLogistics.accommodation?.name || prev.host\n                      : prev.host,\n                  accommodation:\n                    updatedLogistics.accommodation?.type === 'host'\n                      ? updatedLogistics.accommodation?.address || prev.accommodation\n                      : prev.accommodation,\n                }));\n              }}\n              readOnly={isLoading}\n              hosts={hosts}\n            />\n\n            <div className='border-t pt-4 mt-4'>\n              <h4 className='text-sm font-medium text-gray-700 dark:text-gray-300 mb-2'>\n                Documents\n              </h4>\n              <div className='bg-gray-50 dark:bg-gray-800 p-4 rounded-lg'>\n                <RoadmapView\n                  visit={activeVisit}\n                  speaker={speakers.find((s) => s.id === activeVisit.id)}\n                  host={hosts.find((h) => h.nom === activeVisit.host)}\n                />\n              </div>\n            </div>\n            <div className='space-y-2'>\n              <Button\n                variant='outline'\n                onClick={() => _setIsTravelModalOpen(true)}\n                leftIcon={<Truck className='w-4 h-4' />}\n              >\n                Organiser le transport\n              </Button>\n              <Button\n                variant='outline'\n                onClick={() => _setIsMealModalOpen(true)}\n                leftIcon={<Utensils className='w-4 h-4' />}\n              >\n                Planifier les repas\n              </Button>\n              <Button\n                variant='outline'\n                onClick={() => _setIsAccommodationModalOpen(true)}\n                leftIcon={<Home className='w-4 h-4' />}\n              >\n                Gérer l'hébergement\n              </Button>\n            </div>\n          </div>\n        );\n      }\n\n      default:\n        return null;\n    }\n  };\n\n  const getFooter = () => {\n    switch (action) {\n      case 'edit':\n      case 'logistics':\n        return (\n          <>\n            <Button variant='ghost' onClick={onClose} disabled={isLoading}>\n              Annuler\n            </Button>\n            <Button onClick={handleSave} isLoading={isLoading}>\n              Enregistrer\n            </Button>\n          </>\n        );\n      case 'delete':\n        return (\n          <>\n            <Button variant='ghost' onClick={onClose} disabled={isLoading}>\n              Annuler\n            </Button>\n            <Button variant='danger' onClick={handleDelete} isLoading={isLoading}>\n              Supprimer\n            </Button>\n          </>\n        );\n      case 'feedback':\n      case 'expenses':\n        return null;\n      case 'message':\n        return (\n          <Button variant='ghost' onClick={onClose} disabled={isLoading}>\n            Fermer\n          </Button>\n        );\n      default:\n        // Pour les autres actions, on rend le Modal normal\n        break;\n    }\n  };\n\n  // Si l'action est 'feedback', on retourne directement le FeedbackFormModal\n  if (action === 'feedback' && visit) {\n    return (\n      <FeedbackFormModal\n        isOpen={isOpen}\n        onClose={onClose}\n        visit={visit}\n        onSubmit={handleFeedbackSubmit}\n      />\n    );\n  }\n\n  return (\n    <>\n      <Modal\n        isOpen={isOpen}\n        onClose={onClose}\n        size={action === 'logistics' ? 'xl' : 'md'}\n        footer={getFooter()}\n      >\n        {getModalContent()}\n      </Modal>\n\n      {_isTravelModalOpen && (\n        <TravelCoordinationModal\n          isOpen={_isTravelModalOpen}\n          onClose={() => _setIsTravelModalOpen(false)}\n          visit={visit}\n          onSave={() => {}}\n        />\n      )}\n\n      {_isMealModalOpen && (\n        <MealPlanningModal\n          isOpen={_isMealModalOpen}\n          onClose={() => _setIsMealModalOpen(false)}\n          visit={visit}\n          onSave={() => {}}\n        />\n      )}\n\n      {_isAccommodationModalOpen && (\n        <AccommodationMatchingModal\n          isOpen={_isAccommodationModalOpen}\n          onClose={() => _setIsAccommodationModalOpen(false)}\n          visit={visit}\n          onSelectHost={() => {}}\n        />\n      )}\n\n      {generatorParams.isOpen && (\n        <MessageGeneratorModal\n          isOpen={generatorParams.isOpen}\n          onClose={() => setGeneratorParams((prev) => ({ ...prev, isOpen: false }))}\n          speaker={\n            speakers.find((s) => s.id === visit.id) || {\n              id: visit.id,\n              nom: visit.nom,\n              congregation: visit.congregation || '',\n              gender: 'male',\n              talkHistory: [],\n            }\n          }\n          visit={visit}\n          initialType={generatorParams.type}\n        />\n      )}\n    </>\n  );\n};\n"],"names":["Building","createLucideIcon","CheckSquare","CreditCard","DollarSign","Euro","Hotel","Map","Navigation","Pen","Plane","Printer","Share2","Tag","TramFront","Truck","Utensils","XCircle","CATEGORIES","ExpenseForm","onSubmit","onCancel","initialData","currency","description","setDescription","useState","amount","setAmount","date","setDate","category","setCategory","handleSubmit","e","jsxs","jsx","cat","Button","Save","ExpenseListInner","expenses","onAdd","onEdit","onDelete","readOnly","totalAmount","useMemo","sum","expense","Plus","Calendar","format","fr","Edit2","Trash2","ExpenseList","memo","ItineraryView","itinerary","onUpdate","handleChange","field","value","openApp","app","query","url","Car","Train","mode","Icon","label","Input","Clock","MapPin","MapIcon","formatDateForInput","isoString","AccommodationView","accommodation","hosts","openMap","Home","type","selectedHost","h","host","Link","Checklist","items","newItemLabel","setNewItemLabel","isAdding","setIsAdding","handleToggle","id","updatedItems","item","handleDelete","handleAddItem","newItem","generateUUID","i","X","Check","LogisticsManager","logistics","activeTab","setActiveTab","updateItinerary","updateAccommodation","updateChecklist","checklist","tabs","TRANSPORT_MODES","Users","TravelCoordinationModal","isOpen","onClose","visit","onSave","visits","useData","transportMode","setTransportMode","departureTime","setDepartureTime","arrivalTime","setArrivalTime","departureLocation","setDepartureLocation","arrivalLocation","setArrivalLocation","distance","setDistance","duration","setDuration","estimatedCost","setEstimatedCost","selectedCarpoolPartners","setSelectedCarpoolPartners","notes","setNotes","mapLink","setMapLink","bookingReference","setBookingReference","potentialCarpoolPartners","v","toggleCarpoolPartner","visitId","prev","calculateCostPerPerson","totalPeople","handleSave","travelPlan","Modal","Badge","partner","Card","CardBody","MEAL_TYPES","COMMON_RESTRICTIONS","COMMON_ALLERGIES","MealPlanningModal","meals","setMeals","dietaryRestrictions","setDietaryRestrictions","allergies","setAllergies","preferences","customRestriction","setCustomRestriction","customAllergy","setCustomAllergy","addMeal","mealType","m","newMeal","updateMeal","updates","meal","removeMeal","toggleRestriction","restriction","r","toggleAllergy","allergy","a","addCustomRestriction","addCustomAllergy","mealPlan","getTotalCost","getMealIcon","AlertCircle","t","SCORE_WEIGHTS","AccommodationMatchingModal","speaker","onSelectHost","setSelectedHost","showOnlyAvailable","setShowOnlyAvailable","matchedHosts","matches","score","compatibility","warnings","AVAILABILITY","previousAccommodations","experienceScore","lastAccommodation","b","daysSince","handleSelectHost","getScoreColor","getScoreLabel","User","match","Fragment","Star","factor","idx","CheckCircle","AlertTriangle","warning","module","require$$0","this","o","n","s","g","l","c","d","u","p","f","y","w","E","A","P","T","S","x","k","C","RoadmapView","componentRef","useRef","handlePrint","useReactToPrint","formatDate","dateString","parseISO","Phone","VisitActionModal","action","updateVisit","deleteVisit","completeVisit","speakers","addToast","useToast","confirm","useConfirm","isLoading","setIsLoading","formData","setFormData","isAddingExpense","setIsAddingExpense","editingExpense","setEditingExpense","_activeTab","_setActiveTab","_isTravelModalOpen","_setIsTravelModalOpen","_isMealModalOpen","_setIsMealModalOpen","_isAccommodationModalOpen","_setIsAccommodationModalOpen","generatorParams","setGeneratorParams","useEffect","handleStatusChange","newStatus","handleFeedbackSubmit","feedbackData","newFeedback","handleSaveExpense","expenseData","currentExpenses","newExpenses","updatedVisit","handleDeleteExpense","expenseId","getModalContent","currentLogistics","newAccommodation","newAddress","MessageSquare","activeVisit","acc","isHostType","updatedLogistics","getFooter","FeedbackFormModal","MessageGeneratorModal"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,26]}