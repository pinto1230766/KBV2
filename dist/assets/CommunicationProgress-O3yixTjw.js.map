{"version":3,"file":"CommunicationProgress-O3yixTjw.js","sources":["../../node_modules/lucide-react/dist/esm/icons/circle.js","../../src/components/messages/CommunicationProgress.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Circle = createLucideIcon(\"Circle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Circle as default };\n//# sourceMappingURL=circle.js.map\n","import React from 'react';\nimport { Visit } from '@/types';\nimport { CheckCircle2, Circle } from 'lucide-react';\n\ninterface CommunicationProgressProps {\n  visit: Visit;\n  showLabels?: boolean;\n  size?: 'sm' | 'md';\n}\n\nexport const CommunicationProgress: React.FC<CommunicationProgressProps> = ({\n  visit,\n  showLabels = false,\n  size = 'md',\n}) => {\n  // Définir les étapes de communication\n  const steps = [\n    { key: 'confirmation', label: 'Confirmation', role: 'speaker' },\n    { key: 'preparation', label: 'Préparation', role: 'speaker' },\n    { key: 'reminder-7', label: 'Rappel J-7', role: 'speaker' },\n    { key: 'reminder-2', label: 'Rappel J-2', role: 'speaker' },\n    { key: 'thanks', label: 'Remerciements', role: 'speaker' },\n  ];\n\n  // Calculer le nombre d'étapes complétées\n  const completedSteps = steps.filter((step) => {\n    const stepData =\n      visit.communicationStatus?.[step.key as keyof typeof visit.communicationStatus];\n    return stepData && (stepData as any)[step.role];\n  });\n\n  const totalSteps = steps.length;\n  const completedCount = completedSteps.length;\n  const progress = Math.round((completedCount / totalSteps) * 100);\n\n  const iconSize = size === 'sm' ? 'w-3 h-3' : 'w-4 h-4';\n\n  // Classes Tailwind pour les différentes largeurs de progression\n  const getProgressWidthClass = (progress: number) => {\n    if (progress === 0) return 'w-0';\n    if (progress === 20) return 'w-1/5';\n    if (progress === 40) return 'w-2/5';\n    if (progress === 60) return 'w-3/5';\n    if (progress === 80) return 'w-4/5';\n    if (progress === 100) return 'w-full';\n    if (progress < 20) return 'w-[5%]';\n    if (progress < 40) return 'w-[25%]';\n    if (progress < 60) return 'w-[45%]';\n    if (progress < 80) return 'w-[65%]';\n    if (progress < 100) return 'w-[85%]';\n    return 'w-full';\n  };\n\n  return (\n    <div className='space-y-2'>\n      {/* Barre de progression */}\n      <div className='w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden'>\n        <div\n          className={`bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500 ease-out ${getProgressWidthClass(progress)}`}\n        />\n      </div>\n\n      {/* Texte de progression */}\n      <div className='flex items-center justify-between'>\n        <p className={`text-gray-600 dark:text-gray-400 ${size === 'sm' ? 'text-xs' : 'text-sm'}`}>\n          {completedCount}/{totalSteps} étapes\n        </p>\n        <span\n          className={`font-medium ${\n            progress === 100\n              ? 'text-green-600 dark:text-green-400'\n              : progress > 50\n                ? 'text-blue-600 dark:text-blue-400'\n                : 'text-gray-500 dark:text-gray-400'\n          } ${size === 'sm' ? 'text-xs' : 'text-sm'}`}\n        >\n          {Math.round(progress)}%\n        </span>\n      </div>\n\n      {/* Liste détaillée des étapes (optionnel) */}\n      {showLabels && (\n        <div className='mt-3 grid grid-cols-2 gap-2'>\n          {steps.map((step) => {\n            const isCompleted = completedSteps.some((s) => s.key === step.key);\n            return (\n              <div\n                key={step.key}\n                className={`flex items-center gap-2 text-xs ${\n                  isCompleted\n                    ? 'text-green-600 dark:text-green-400'\n                    : 'text-gray-400 dark:text-gray-600'\n                }`}\n              >\n                {isCompleted ? (\n                  <CheckCircle2 className={iconSize} />\n                ) : (\n                  <Circle className={iconSize} />\n                )}\n                <span>{step.label}</span>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":["Circle","createLucideIcon","CommunicationProgress","visit","showLabels","size","steps","completedSteps","step","stepData","totalSteps","completedCount","progress","iconSize","getProgressWidthClass","jsxs","jsx","isCompleted","s","CheckCircle2"],"mappings":"sDASA,MAAMA,EAASC,EAAiB,SAAU,CACxC,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,QAAQ,CAAE,CAC3D,CAAC,ECDYC,EAA8D,CAAC,CAC1E,MAAAC,EACA,WAAAC,EAAa,GACb,KAAAC,EAAO,IACT,IAAM,CAEJ,MAAMC,EAAQ,CACZ,CAAE,IAAK,eAAgB,MAAO,eAAgB,KAAM,SAAA,EACpD,CAAE,IAAK,cAAe,MAAO,cAAe,KAAM,SAAA,EAClD,CAAE,IAAK,aAAc,MAAO,aAAc,KAAM,SAAA,EAChD,CAAE,IAAK,aAAc,MAAO,aAAc,KAAM,SAAA,EAChD,CAAE,IAAK,SAAU,MAAO,gBAAiB,KAAM,SAAA,CAAU,EAIrDC,EAAiBD,EAAM,OAAQE,GAAS,CAC5C,MAAMC,EACJN,EAAM,sBAAsBK,EAAK,GAA6C,EAChF,OAAOC,GAAaA,EAAiBD,EAAK,IAAI,CAChD,CAAC,EAEKE,EAAaJ,EAAM,OACnBK,EAAiBJ,EAAe,OAChCK,EAAW,KAAK,MAAOD,EAAiBD,EAAc,GAAG,EAEzDG,EAAWR,IAAS,KAAO,UAAY,UAGvCS,EAAyBF,GACzBA,IAAa,EAAU,MACvBA,IAAa,GAAW,QACxBA,IAAa,GAAW,QACxBA,IAAa,GAAW,QACxBA,IAAa,GAAW,QACxBA,IAAa,IAAY,SACzBA,EAAW,GAAW,SACtBA,EAAW,GAAW,UACtBA,EAAW,GAAW,UACtBA,EAAW,GAAW,UACtBA,EAAW,IAAY,UACpB,SAGT,OACEG,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,uEACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAW,sGAAsGF,EAAsBF,CAAQ,CAAC,EAAA,CAAA,EAEpJ,EAGAG,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,KAAE,UAAW,oCAAoCV,IAAS,KAAO,UAAY,SAAS,GACpF,SAAA,CAAAM,EAAe,IAAED,EAAW,SAAA,EAC/B,EACAK,EAAAA,KAAC,OAAA,CACC,UAAW,eACTH,IAAa,IACT,qCACAA,EAAW,GACT,mCACA,kCACR,IAAIP,IAAS,KAAO,UAAY,SAAS,GAExC,SAAA,CAAA,KAAK,MAAMO,CAAQ,EAAE,GAAA,CAAA,CAAA,CACxB,EACF,EAGCR,SACE,MAAA,CAAI,UAAU,8BACZ,SAAAE,EAAM,IAAKE,GAAS,CACnB,MAAMS,EAAcV,EAAe,KAAMW,GAAMA,EAAE,MAAQV,EAAK,GAAG,EACjE,OACEO,EAAAA,KAAC,MAAA,CAEC,UAAW,mCACTE,EACI,qCACA,kCACN,GAEC,SAAA,CAAAA,EACCD,EAAAA,IAACG,GAAa,UAAWN,CAAA,CAAU,EAEnCG,EAAAA,IAAChB,EAAA,CAAO,UAAWa,CAAA,CAAU,EAE/BG,EAAAA,IAAC,OAAA,CAAM,SAAAR,EAAK,KAAA,CAAM,CAAA,CAAA,EAZbA,EAAK,GAAA,CAehB,CAAC,CAAA,CACH,CAAA,EAEJ,CAEJ","x_google_ignoreList":[0]}